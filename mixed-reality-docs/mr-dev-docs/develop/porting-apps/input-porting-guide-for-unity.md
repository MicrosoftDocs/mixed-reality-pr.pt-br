---
title: Guia de portabilidade de entrada para Unity
description: Saiba como lidar com a entrada para a realidade mista do Windows no Unity.
author: thetuvix
ms.author: alexturn
ms.date: 12/9/2020
ms.topic: article
keywords: entrada, Unity, portabilidade
ms.openlocfilehash: 97280ff260729bfc2042f7760fa3950e949e27a4
ms.sourcegitcommit: 2bf79eef6a9b845494484f458443ef4f89d7efc0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/17/2020
ms.locfileid: "97613260"
---
# <a name="input-porting-guide-for-unity"></a><span data-ttu-id="08e1c-104">Guia de portabilidade de entrada para Unity</span><span class="sxs-lookup"><span data-stu-id="08e1c-104">Input porting guide for Unity</span></span>

<span data-ttu-id="08e1c-105">Você pode portar sua lógica de entrada para a realidade mista do Windows usando uma das duas abordagens.</span><span class="sxs-lookup"><span data-stu-id="08e1c-105">You can port your input logic to Windows Mixed Reality using one of two approaches.</span></span> <span data-ttu-id="08e1c-106">A primeira é usar as APIs de entrada geral do Unity. getbutton/getaxis que se estendem por várias plataformas.</span><span class="sxs-lookup"><span data-stu-id="08e1c-106">The first is to use Unity's general Input.GetButton/GetAxis APIs that span across multiple platforms.</span></span> <span data-ttu-id="08e1c-107">O segundo é o XR específico do Windows. WSA. APIs de entrada, que oferecem dados mais ricos especificamente para controladores de movimento e mãos de HoloLens.</span><span class="sxs-lookup"><span data-stu-id="08e1c-107">The second is the Windows-specific XR.WSA.Input APIs, which offer richer data specifically for motion controllers and HoloLens hands.</span></span>

## <a name="general-inputgetbuttongetaxis-apis"></a><span data-ttu-id="08e1c-108">Informações gerais de entrada. getbutton/getaxis</span><span class="sxs-lookup"><span data-stu-id="08e1c-108">General Input.GetButton/GetAxis APIs</span></span>

<span data-ttu-id="08e1c-109">No momento, o Unity usa suas APIs Input. getbutton/Input. getaxis gerais para expor a entrada para [o SDK do Oculus](https://docs.unity3d.com/Manual/OculusControllers.html) e [o SDK do OpenVR](https://docs.unity3d.com/Manual/OpenVRControllers.html).</span><span class="sxs-lookup"><span data-stu-id="08e1c-109">Unity currently uses its general Input.GetButton/Input.GetAxis APIs to expose input for [the Oculus SDK](https://docs.unity3d.com/Manual/OculusControllers.html) and [the OpenVR SDK](https://docs.unity3d.com/Manual/OpenVRControllers.html).</span></span> <span data-ttu-id="08e1c-110">Se seus aplicativos já estiverem usando essas APIs para entrada, as APIs Input. getbutton/Input. getaxis serão os caminhos mais fáceis para dar suporte a controladores de movimento no Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="08e1c-110">If your apps are already using these APIs for input, the Input.GetButton/Input.GetAxis APIs are the easiest paths for supporting motion controllers in Windows Mixed Reality.</span></span> <span data-ttu-id="08e1c-111">Você só precisará remapear botões e eixos no Gerenciador de entrada.</span><span class="sxs-lookup"><span data-stu-id="08e1c-111">You'll only need to remap buttons and axes in the Input Manager.</span></span>

<span data-ttu-id="08e1c-112">Para obter mais informações, consulte a [tabela de mapeamento de botões/eixo do Unity](../unity/gestures-and-motion-controllers-in-unity.md#unity-buttonaxis-mapping-table) e a [visão geral das APIs comuns do Unity](../unity/gestures-and-motion-controllers-in-unity.md#common-unity-apis-inputgetbuttongetaxis).</span><span class="sxs-lookup"><span data-stu-id="08e1c-112">For more information, see the [Unity button/axis mapping table](../unity/gestures-and-motion-controllers-in-unity.md#unity-buttonaxis-mapping-table) and the [overview of the common Unity APIs](../unity/gestures-and-motion-controllers-in-unity.md#common-unity-apis-inputgetbuttongetaxis).</span></span>

## <a name="windows-specific-xrwsainput-apis"></a><span data-ttu-id="08e1c-113">XR específico do Windows. WSA. APIs de entrada</span><span class="sxs-lookup"><span data-stu-id="08e1c-113">Windows-specific XR.WSA.Input APIs</span></span>

<span data-ttu-id="08e1c-114">Se seu aplicativo já criar uma lógica de entrada personalizada para cada plataforma, você poderá usar as APIs de entrada espaciais específicas do Windows no namespace **UnityEngine. XR. WSA. Input** .</span><span class="sxs-lookup"><span data-stu-id="08e1c-114">If your app already builds custom input logic for each platform, you can use the Windows-specific spatial input APIs in the **UnityEngine.XR.WSA.Input** namespace.</span></span> <span data-ttu-id="08e1c-115">A partir daí, você acessa informações adicionais, como precisão da posição ou tipo de origem, permitindo que você informe as mãos e os controladores no HoloLens.</span><span class="sxs-lookup"><span data-stu-id="08e1c-115">From there, you access additional information, such as position accuracy or the source kind, letting you tell hands and controllers apart on HoloLens.</span></span>

<span data-ttu-id="08e1c-116">Para obter mais informações, consulte a [visão geral das APIs UnityEngine. XR. WSA. Input](../unity/gestures-and-motion-controllers-in-unity.md#windows-specific-apis-xrwsainput).</span><span class="sxs-lookup"><span data-stu-id="08e1c-116">For more information, see the [overview of the UnityEngine.XR.WSA.Input APIs](../unity/gestures-and-motion-controllers-in-unity.md#windows-specific-apis-xrwsainput).</span></span>

## <a name="grip-pose-vs-pointing-pose"></a><span data-ttu-id="08e1c-117">Segurar pose vs. ponto de apontar</span><span class="sxs-lookup"><span data-stu-id="08e1c-117">Grip pose vs. pointing pose</span></span>

<span data-ttu-id="08e1c-118">O Windows Mixed Reality dá suporte a controladores de movimento em diferentes fatores forma.</span><span class="sxs-lookup"><span data-stu-id="08e1c-118">Windows Mixed Reality supports motion controllers in different form factors.</span></span> <span data-ttu-id="08e1c-119">O design de cada controlador difere em sua relação entre a posição da mão do usuário e a direção natural "encaminhar" que os aplicativos devem usar para apontar ao renderizar o controlador.</span><span class="sxs-lookup"><span data-stu-id="08e1c-119">Each controller's design differs in its relationship between the user's hand position and the natural "forward" direction that apps should use for pointing when rendering the controller.</span></span>

<span data-ttu-id="08e1c-120">Para representar melhor esses controladores, há dois tipos de poses que você pode investigar para cada fonte de interação:</span><span class="sxs-lookup"><span data-stu-id="08e1c-120">To better represent these controllers, there are two kinds of poses you can investigate for each interaction source:</span></span>

* <span data-ttu-id="08e1c-121">A **alça de fixação**, que representa o local da palma de uma mão detectada por um HoloLens ou o Palm que está segurando um controlador de movimento.</span><span class="sxs-lookup"><span data-stu-id="08e1c-121">The **grip pose**, which represents the location of either the palm of a hand detected by a HoloLens, or the palm holding a motion controller.</span></span>
    * <span data-ttu-id="08e1c-122">Em headsets de imersão, essa pose é melhor usada para renderizar **a mão do usuário** ou **um objeto mantido na mão do usuário**, como uma gumes ou uma arma.</span><span class="sxs-lookup"><span data-stu-id="08e1c-122">On immersive headsets, this pose is best used to render **the user's hand** or **an object held in the user's hand**, such as a sword or gun.</span></span>
    * <span data-ttu-id="08e1c-123">A **posição de alça**: o Palm centróide ao manter o controlador naturalmente, ajustado para a esquerda ou para a direita para centralizar a posição dentro da alça.</span><span class="sxs-lookup"><span data-stu-id="08e1c-123">The **grip position**: The palm centroid when holding the controller naturally, adjusted left or right to center the position within the grip.</span></span>
    * <span data-ttu-id="08e1c-124">O **eixo direito da orientação de alça**: quando você abre completamente a mão para formar uma pose plana de 5 dedos, o raio normal para o Palm (para frente do Palm esquerdo, para trás do Palm direito)</span><span class="sxs-lookup"><span data-stu-id="08e1c-124">The **grip orientation's Right axis**: When you completely open your hand to form a flat 5-finger pose, the ray that is normal to your palm (forward from left palm, backward from right palm)</span></span>
    * <span data-ttu-id="08e1c-125">O **eixo de avanço da orientação de alça**: quando você fecha sua mão parcialmente, como se você mantiver o controlador, o raio que aponta para "encaminhar" por meio do tubo formado por seus dedos não-thumbs.</span><span class="sxs-lookup"><span data-stu-id="08e1c-125">The **grip orientation's Forward axis**: When you close your hand partially, as if holding the controller, the ray that points "forward" through the tube formed by your non-thumb fingers.</span></span>
    * <span data-ttu-id="08e1c-126">O **eixo superior da orientação de alça**: o eixo superior implícito pelas definições direita e avançar.</span><span class="sxs-lookup"><span data-stu-id="08e1c-126">The **grip orientation's Up axis**: The Up axis implied by the Right and Forward definitions.</span></span>
    * <span data-ttu-id="08e1c-127">Você pode acessar a alça de pose por meio da API de entrada entre fornecedores do Unity (**[XR. InputTracking](https://docs.unity3d.com/ScriptReference/XR.InputTracking.html). GetLocalPosition/Rotation**) ou por meio da API específica do Windows (**SourceState. SourcePose. TryGetPosition/Rotation**, solicitando a pose de alça).</span><span class="sxs-lookup"><span data-stu-id="08e1c-127">You can access the grip pose through either Unity's cross-vendor input API (**[XR.InputTracking](https://docs.unity3d.com/ScriptReference/XR.InputTracking.html).GetLocalPosition/Rotation**) or through the Windows-specific API (**sourceState.sourcePose.TryGetPosition/Rotation**, requesting the Grip pose).</span></span>
* <span data-ttu-id="08e1c-128">A **pose do ponteiro**, representando a ponta do controlador apontando para frente.</span><span class="sxs-lookup"><span data-stu-id="08e1c-128">The **pointer pose**, representing the tip of the controller pointing forward.</span></span>
    * <span data-ttu-id="08e1c-129">Essa pose é mais bem usada para Raycast ao apontar para a **interface do usuário** quando você está renderizando o próprio modelo do controlador.</span><span class="sxs-lookup"><span data-stu-id="08e1c-129">This pose is best used to raycast when **pointing at UI** when you're rendering the controller model itself.</span></span>
    * <span data-ttu-id="08e1c-130">Atualmente, a pose do ponteiro está disponível somente por meio da API específica do Windows (**SourceState. sourcePose. TryGetPosition/Rotation**, solicitando a pose do ponteiro).</span><span class="sxs-lookup"><span data-stu-id="08e1c-130">Currently, the pointer pose is available only through the Windows-specific API (**sourceState.sourcePose.TryGetPosition/Rotation**, requesting the Pointer pose).</span></span>

<span data-ttu-id="08e1c-131">Essas coordenadas de pose são todas expressas nas coordenadas do mundo do Unity.</span><span class="sxs-lookup"><span data-stu-id="08e1c-131">These pose coordinates are all expressed in Unity world coordinates.</span></span>

## <a name="see-also"></a><span data-ttu-id="08e1c-132">Confira também</span><span class="sxs-lookup"><span data-stu-id="08e1c-132">See also</span></span>
* <span data-ttu-id="08e1c-133">[Controladores de movimento]().. /.. /design/motion-controllers.md)</span><span class="sxs-lookup"><span data-stu-id="08e1c-133">[Motion controllers]()../../design/motion-controllers.md)</span></span>
* [<span data-ttu-id="08e1c-134">Gestos e controladores de movimento no Unity</span><span class="sxs-lookup"><span data-stu-id="08e1c-134">Gestures and motion controllers in Unity</span></span>](../unity/gestures-and-motion-controllers-in-unity.md)
* [<span data-ttu-id="08e1c-135">UnityEngine. XR. WSA. Input</span><span class="sxs-lookup"><span data-stu-id="08e1c-135">UnityEngine.XR.WSA.Input</span></span>](https://docs.unity3d.com/ScriptReference/XR.WSA.Input.InteractionManager.html)
* [<span data-ttu-id="08e1c-136">UnityEngine. XR. InputTracking</span><span class="sxs-lookup"><span data-stu-id="08e1c-136">UnityEngine.XR.InputTracking</span></span>](https://docs.unity3d.com/ScriptReference/XR.InputTracking.html)
* [<span data-ttu-id="08e1c-137">Guias de portabilidade</span><span class="sxs-lookup"><span data-stu-id="08e1c-137">Porting guides</span></span>](porting-guides.md)
