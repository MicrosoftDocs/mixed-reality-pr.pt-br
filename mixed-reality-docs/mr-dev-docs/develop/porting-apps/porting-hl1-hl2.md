---
title: Portabilidade dos aplicativos HoloLens (1ª geração) para o HoloLens 2
description: Criado para desenvolvedores que têm um aplicativo no HoloLens (1ª geração) e versões do MRTK mais antigas e buscam portá-lo para o MRTK versão 2 e o HoloLens 2.
author: hferrone
ms.author: grbury
ms.date: 12/9/2020
ms.topic: article
ms.localizationpriority: high
keywords: Windows Mixed Reality, teste, MRTK, MRTK versão 2, HoloLens 2, unity, portabilidade, 1ª geração do HoloLens, headset de realidade misturada, headset do windows mixed reality, headset de realidade virtual, migração, práticas recomendadas, ARM
ms.openlocfilehash: 512bd3e841d40ffd606d59ee4bb4d955306cc2d0
ms.sourcegitcommit: 12ea3fb2df4664c5efd07dcbb9040c2ff173afb6
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/29/2021
ms.locfileid: "113042247"
---
# <a name="porting-hololens-1st-gen-apps-to-hololens-2"></a><span data-ttu-id="b11fd-104">Portabilidade dos aplicativos HoloLens (1ª geração) para o HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="b11fd-104">Porting HoloLens (1st Gen) apps to HoloLens 2</span></span>

<span data-ttu-id="b11fd-105">Este guia foi projetado para ajudar os desenvolvedores com um aplicativo do Unity para HoloLens (1ª geração) a portá-lo para o dispositivo HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="b11fd-105">This guide is tailored to help developers with an existing Unity application for HoloLens (1st gen) port their application for the HoloLens 2 device.</span></span> <span data-ttu-id="b11fd-106">Há quatro etapas principais para portar um aplicativo do Unity do HoloLens (1ª geração) para o HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="b11fd-106">There are four key steps to porting a HoloLens (1st gen) Unity application to HoloLens 2.</span></span> 

<span data-ttu-id="b11fd-107">As seções abaixo fornecem informações detalhadas para cada estágio:</span><span class="sxs-lookup"><span data-stu-id="b11fd-107">The sections below detail information for each stage:</span></span>

| <span data-ttu-id="b11fd-108">Etapa 1</span><span class="sxs-lookup"><span data-stu-id="b11fd-108">Step 1</span></span> | <span data-ttu-id="b11fd-109">Etapa 2</span><span class="sxs-lookup"><span data-stu-id="b11fd-109">Step 2</span></span> | <span data-ttu-id="b11fd-110">Etapa 3</span><span class="sxs-lookup"><span data-stu-id="b11fd-110">Step 3</span></span> | <span data-ttu-id="b11fd-111">Etapa 4</span><span class="sxs-lookup"><span data-stu-id="b11fd-111">Step 4</span></span> |
|----------|-------------------|-------------------|-------------------|
| ![Logotipo do Visual Studio](../images/visualstudio_logo.png) | ![Logotipo do Unity](../../design/images/logo-unity.png)| ![Ícone do Unity](../unity/images/hololens2_icon.jpg) | ![Logotipo do MRTK](../../design/images/74-12.png) |
| <span data-ttu-id="b11fd-116">Baixar as ferramentas mais recentes</span><span class="sxs-lookup"><span data-stu-id="b11fd-116">Download latest tools</span></span> | <span data-ttu-id="b11fd-117">Atualizar o projeto do Unity</span><span class="sxs-lookup"><span data-stu-id="b11fd-117">Update Unity Project</span></span> | <span data-ttu-id="b11fd-118">Compilar para o ARM</span><span class="sxs-lookup"><span data-stu-id="b11fd-118">Compile for ARM</span></span> | <span data-ttu-id="b11fd-119">Migrar para o MRTK v2</span><span class="sxs-lookup"><span data-stu-id="b11fd-119">Migrate to MRTK v2</span></span>

## <a name="prerequisites"></a><span data-ttu-id="b11fd-120">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="b11fd-120">Prerequisites</span></span>

<span data-ttu-id="b11fd-121">**Recomendamos expressamente** que você use o controle do código-fonte para salvar um instantâneo do estado original dos seus aplicativos antes de iniciar o processo de portabilidade.</span><span class="sxs-lookup"><span data-stu-id="b11fd-121">We **highly recommended** using source control to save a snapshot your applications original state before starting the porting process.</span></span> <span data-ttu-id="b11fd-122">Além disso, recomendamos *salvar* os estados de ponto de verificação em vários momentos durante o processo.</span><span class="sxs-lookup"><span data-stu-id="b11fd-122">Additionally, we recommend *saving* checkpoint states at various times during the process.</span></span> <span data-ttu-id="b11fd-123">Também pode ser útil ter outra instância no Unity do aplicativo original para comparação lado a lado durante o processo de portabilidade.</span><span class="sxs-lookup"><span data-stu-id="b11fd-123">It can also be helpful to have another Unity instance of the original application to compare side by side during the porting process.</span></span> 

> [!NOTE]
> <span data-ttu-id="b11fd-124">Antes da portabilidade, verifique se você tem as ferramentas mais recentes instaladas para o desenvolvimento do Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="b11fd-124">Before porting, ensure you have the latest tools installed for Windows Mixed Reality development.</span></span> <span data-ttu-id="b11fd-125">Para a maioria dos desenvolvedores existentes do HoloLens, isso envolve a atualização para a última versão do Visual Studio 2019 e a instalação do SDK apropriado do Windows.</span><span class="sxs-lookup"><span data-stu-id="b11fd-125">For most existing HoloLens developers, this involves updating to the latest version of Visual Studio 2019 and installing the appropriate Windows SDK.</span></span> <span data-ttu-id="b11fd-126">O conteúdo abaixo se aprofunda ainda mais em diferentes versões do Unity e no MRTK (Kit de ferramentas de realidade misturada) versão 2.</span><span class="sxs-lookup"><span data-stu-id="b11fd-126">The content that follows dives further into different Unity versions and the Mixed Reality Toolkit (MRTK) Version 2.</span></span>
>
> <span data-ttu-id="b11fd-127">Para obter mais informações, confira [Instalar as ferramentas](../install-the-tools.md).</span><span class="sxs-lookup"><span data-stu-id="b11fd-127">For more information, please see [Install the tools](../install-the-tools.md).</span></span>

## <a name="migrate-project-to-the-latest-version-of-unity"></a><span data-ttu-id="b11fd-128">Migrar o projeto para a última versão do Unity</span><span class="sxs-lookup"><span data-stu-id="b11fd-128">Migrate project to the latest version of Unity</span></span>

<span data-ttu-id="b11fd-129">Se você estiver usando o [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), recomenda-se atualizar para o MRTK 2,7 antes de atualizar seu projeto para o [Unity 2020,3 LTS](../unity/choosing-unity-version.md).</span><span class="sxs-lookup"><span data-stu-id="b11fd-129">If you're using [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), we recommend updating to MRTK 2.7 before you upgrade your project to [Unity 2020.3 LTS](../unity/choosing-unity-version.md).</span></span> <span data-ttu-id="b11fd-130">O MRTK 2.7 é compatível com Unity 2018, 2019 e 2020, o que garante que seu projeto está pronto para o Unity 2020, mesmo antes de atualizar o Unity.</span><span class="sxs-lookup"><span data-stu-id="b11fd-130">MRTK 2.7 supports Unity 2018, 2019 and 2020, allowing you to ensure your project is ready for Unity 2020 even before you upgrade Unity.</span></span> <span data-ttu-id="b11fd-131">Avalie as [dependências de plug-in](https://docs.unity3d.com/Manual/Plugins.html) atualmente existentes no projeto e determine se essas DLLs podem ser criadas para o ARM64.</span><span class="sxs-lookup"><span data-stu-id="b11fd-131">Assess any [plugin dependencies](https://docs.unity3d.com/Manual/Plugins.html) that currently exist in your project, and determine whether these DLLs can be built for ARM64.</span></span> <span data-ttu-id="b11fd-132">Para projetos com um plug-in dependente do ARM64, talvez seja necessário continuar criando seu aplicativo para o ARM.</span><span class="sxs-lookup"><span data-stu-id="b11fd-132">For projects with a hard ARM64 dependent plugin, you may need to continue building your app for ARM.</span></span>

## <a name="update-sceneproject-settings-in-unity"></a><span data-ttu-id="b11fd-133">Atualizar as configurações de cena/projeto no Unity</span><span class="sxs-lookup"><span data-stu-id="b11fd-133">Update scene/project settings in Unity</span></span>

<span data-ttu-id="b11fd-134">Após a atualização para o [Unity 2020.3 LTS](https://unity3d.com/unity/qa/lts-releases), recomenda-se atualizar as configurações específicas no Unity para obter melhores resultados no dispositivo.</span><span class="sxs-lookup"><span data-stu-id="b11fd-134">After updating to [Unity 2020.3 LTS](https://unity3d.com/unity/qa/lts-releases), it's recommended that you update particular settings in Unity for optimal results on the device.</span></span> <span data-ttu-id="b11fd-135">Essas configurações são descritas detalhadamente em [Configurações recomendadas para o Unity](../unity/Recommended-settings-for-Unity.md).</span><span class="sxs-lookup"><span data-stu-id="b11fd-135">These settings are outlined in detail under [recommended settings for Unity](../unity/Recommended-settings-for-Unity.md).</span></span>

<span data-ttu-id="b11fd-136">Reiteramos que o [back-end de script do .NET](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) está sendo preterido no Unity 2018 e **removido** no Unity 2019.</span><span class="sxs-lookup"><span data-stu-id="b11fd-136">To reiterate, the [.NET scripting back-end](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) is being deprecated in Unity 2018 and **removed** as of Unity 2019.</span></span> <span data-ttu-id="b11fd-137">É altamente recomendável que os desenvolvedores mudem seu projeto para [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span><span class="sxs-lookup"><span data-stu-id="b11fd-137">Developers should strongly consider switching their project to [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span></span>

> [!NOTE]
> <span data-ttu-id="b11fd-138">O back-end de script do IL2CPP pode causar tempos de build mais longos do Unity para o Visual Studio e, portanto, os desenvolvedores devem configurar seus computadores de desenvolvedor para [otimização dos tempos de build do IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html).</span><span class="sxs-lookup"><span data-stu-id="b11fd-138">IL2CPP scripting back-end can cause longer build times from Unity to Visual Studio, and developers should set up their developer machine for [optimizing IL2CPP build times](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html).</span></span>
> <span data-ttu-id="b11fd-139">Além disso, também pode ser benéfico configurar um [Servidor de Cache](https://docs.unity3d.com/Manual/CacheServer.html), especialmente para projetos do Unity com uma grande quantidade de ativos (excluindo arquivos de script) ou que estejam constantemente alterando cenas e ativos.</span><span class="sxs-lookup"><span data-stu-id="b11fd-139">It might also be beneficial to set up a [cache server](https://docs.unity3d.com/Manual/CacheServer.html), especially for Unity projects with a large amount of assets (excluding script files) or constantly changing scenes and assets.</span></span> <span data-ttu-id="b11fd-140">Ao abrir um projeto, o Unity armazena os ativos qualificados em um formato de cache interno no computador do desenvolvedor.</span><span class="sxs-lookup"><span data-stu-id="b11fd-140">When opening a project, Unity stores qualifying assets into an internal cache format on the developer machine.</span></span> <span data-ttu-id="b11fd-141">Os itens precisam ser importados novamente e processados novamente quando modificados.</span><span class="sxs-lookup"><span data-stu-id="b11fd-141">Items must be re-imported and re-processed when modified.</span></span> <span data-ttu-id="b11fd-142">Esse processo pode ser feito uma vez e salvo em um servidor de cache e, consequentemente, compartilhado com outros desenvolvedores para economizar tempo, em vez de todos os desenvolvedores processarem a nova importação de novas alterações localmente.</span><span class="sxs-lookup"><span data-stu-id="b11fd-142">This process can be done once and saved in a cache server and consequently shared with other developers to save time, as opposed to every developer processing the re-import of new changes locally.</span></span>

<span data-ttu-id="b11fd-143">Depois de resolver as alterações da falha devido à migração para a versão atualizada do Unity, compile e teste seus aplicativos atuais no HoloLens (1ª geração).</span><span class="sxs-lookup"><span data-stu-id="b11fd-143">After addressing any breaking changes from moving to the updated Unity version, build and test your current applications on HoloLens (1st gen).</span></span> <span data-ttu-id="b11fd-144">Esse é um bom momento para criar e salvar uma confirmação no controle do código-fonte.</span><span class="sxs-lookup"><span data-stu-id="b11fd-144">This is a good time to create and save a commit into source control.</span></span>

## <a name="compile-dependenciesplugins-for-arm-processor"></a><span data-ttu-id="b11fd-145">Compilar dependências/plug-ins para o processador ARM</span><span class="sxs-lookup"><span data-stu-id="b11fd-145">Compile dependencies/plugins for ARM processor</span></span>

<span data-ttu-id="b11fd-146">O HoloLens (1ª geração) executa aplicativos em um processador x86, enquanto o HoloLens 2 usa um processador ARM.</span><span class="sxs-lookup"><span data-stu-id="b11fd-146">HoloLens (1st gen) executes applications on an x86 processor while the HoloLens 2 uses an ARM processor.</span></span> <span data-ttu-id="b11fd-147">Portanto, é necessário portar os aplicativos HoloLens existentes para que eles deem suporte ao ARM.</span><span class="sxs-lookup"><span data-stu-id="b11fd-147">Existing HoloLens applications need to be ported over to support ARM.</span></span> <span data-ttu-id="b11fd-148">Conforme indicado anteriormente, o Unity 2018 LTS é compatível com a compilação de aplicativos ARM32, enquanto o Unity 2019.x é compatível com a compilação de aplicativos ARM32 e ARM64.</span><span class="sxs-lookup"><span data-stu-id="b11fd-148">As noted earlier, Unity 2018 LTS supports compiling ARM32 apps while Unity 2019 and later supports compiling ARM32 and ARM64 apps.</span></span> <span data-ttu-id="b11fd-149">O desenvolvimento para aplicativos ARM64 é preferível, pois há uma diferença substancial de desempenho.</span><span class="sxs-lookup"><span data-stu-id="b11fd-149">Developing for ARM64 applications is preferred, as there's a material difference in performance.</span></span> <span data-ttu-id="b11fd-150">No entanto, isso exige que todas as [dependências de plug-in](https://docs.unity3d.com/Manual/Plugins.html) também sejam compiladas para o ARM64.</span><span class="sxs-lookup"><span data-stu-id="b11fd-150">However, this requires all [plugin dependencies](https://docs.unity3d.com/Manual/Plugins.html) to also be built for ARM64.</span></span>

<span data-ttu-id="b11fd-151">Examine todas as dependências de DLL em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b11fd-151">Review all DLL dependencies in your application.</span></span> <span data-ttu-id="b11fd-152">Recomendamos a remoção de dependências que não são mais necessárias para seu projeto.</span><span class="sxs-lookup"><span data-stu-id="b11fd-152">We recommend removing dependencies that are no longer needed for your project.</span></span> <span data-ttu-id="b11fd-153">Para os plug-ins restantes que são necessários, ingira os respectivos binários do ARM32 ou do ARM64 no projeto do Unity.</span><span class="sxs-lookup"><span data-stu-id="b11fd-153">For remaining plugins that are required, ingest the respective ARM32 or ARM64 binaries into your Unity project.</span></span>

<span data-ttu-id="b11fd-154">Após a ingestão das DLLs relevantes, compile uma solução do Visual Studio por meio do Unity e, em seguida, compile um AppX para ARM no Visual Studio para testar se o aplicativo pode ser compilado para processadores ARM.</span><span class="sxs-lookup"><span data-stu-id="b11fd-154">After ingesting the relevant DLLs, build a Visual Studio solution from Unity and compile an AppX for ARM in Visual Studio to test your application can be built for ARM processors.</span></span> <span data-ttu-id="b11fd-155">É recomendável salvar o aplicativo como uma confirmação na solução de controle do código-fonte.</span><span class="sxs-lookup"><span data-stu-id="b11fd-155">It's advised to save the application as a commit in your source control solution.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b11fd-156">O uso do MRTK v1 do aplicativo pode ser executado no HoloLens 2 após a alteração do destino de build para o ARM, supondo que todos os outros requisitos sejam atendidos.</span><span class="sxs-lookup"><span data-stu-id="b11fd-156">Application's using MRTK v1 can be run on HoloLens 2 after changing the build target to ARM, assuming that all other requirements are met.</span></span> <span data-ttu-id="b11fd-157">Isso inclui verificar se todos os plug-ins têm versões do ARM.</span><span class="sxs-lookup"><span data-stu-id="b11fd-157">This includes making sure you have ARM versions of all your plugins.</span></span> <span data-ttu-id="b11fd-158">No entanto, seu aplicativo não terá acesso a funções específicas do HoloLens 2, como acompanhamento ocular e mão articulada.</span><span class="sxs-lookup"><span data-stu-id="b11fd-158">However, your app won't have access to HoloLens 2 specific functions like articulated hand and eye tracking.</span></span> <span data-ttu-id="b11fd-159">O MRTK v1 e o MRTK v2 têm namespaces diferentes que permitem que ambas as versões estejam no mesmo projeto, o que é útil para fazer a transição de uma para a outra.</span><span class="sxs-lookup"><span data-stu-id="b11fd-159">MRTK v1 and MRTK v2 have different namespaces that allow both versions to be in the same project, which is useful for transitioning from one to the other.</span></span>

## <a name="update-to-mrtk-version-2"></a><span data-ttu-id="b11fd-160">Atualizar para o MRTK versão 2</span><span class="sxs-lookup"><span data-stu-id="b11fd-160">Update to MRTK version 2</span></span>

<span data-ttu-id="b11fd-161">[A versão 2 do MRTK](https://github.com/microsoft/MixedRealityToolkit-Unity) é o novo kit de ferramentas baseado no Unity que dá suporte ao HoloLens (1ª geração) e ao HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="b11fd-161">[MRTK Version 2](https://github.com/microsoft/MixedRealityToolkit-Unity) is the new toolkit on top of Unity that supports both HoloLens (1st gen) and HoloLens 2.</span></span> <span data-ttu-id="b11fd-162">É nela também em que todas as funcionalidades do HoloLens 2 foram adicionadas, como interações com as mãos e acompanhamento ocular.</span><span class="sxs-lookup"><span data-stu-id="b11fd-162">It's also where all the new HoloLens 2 capabilities have been added, such as hand interactions and eye tracking.</span></span>

<span data-ttu-id="b11fd-163">Confira os seguintes recursos para obter mais informações sobre como usar o MRTK versão 2:</span><span class="sxs-lookup"><span data-stu-id="b11fd-163">Check out the following resources for more information on using MRTK version 2:</span></span>

- [<span data-ttu-id="b11fd-164">MRTK – Página inicial da documentação</span><span class="sxs-lookup"><span data-stu-id="b11fd-164">MRTK - Documentation home</span></span>](/windows/mixed-reality/mrtk-unity)
- [<span data-ttu-id="b11fd-165">Guia de instalação</span><span class="sxs-lookup"><span data-stu-id="b11fd-165">Installation guide</span></span>](/windows/mixed-reality/mrtk-unity/install-the-tools)
- [<span data-ttu-id="b11fd-166">MRTK – Acompanhamento da mão</span><span class="sxs-lookup"><span data-stu-id="b11fd-166">MRTK - Hand tracking</span></span>](/windows/mixed-reality/mrtk-unity/features/input/hand-tracking)
- [<span data-ttu-id="b11fd-167">MRTK – Acompanhamento ocular</span><span class="sxs-lookup"><span data-stu-id="b11fd-167">MRTK - Eye tracking</span></span>](/windows/mixed-reality/mrtk-unity/features/input/eye-tracking/eye-tracking-main)

### <a name="prepare-for-the-migration"></a><span data-ttu-id="b11fd-168">Preparar a migração</span><span class="sxs-lookup"><span data-stu-id="b11fd-168">Prepare for the migration</span></span>

<span data-ttu-id="b11fd-169">Antes da ingestão dos novos arquivos [\*.unitypackage para o MRTK v2](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases), é recomendável fazer um inventário de **1) qualquer código personalizado integrado ao MRTK v1** e **2) qualquer código personalizado para interações de entrada ou componentes de experiência do usuário**.</span><span class="sxs-lookup"><span data-stu-id="b11fd-169">Before ingesting the new [\*.unitypackage files for MRTK v2](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases), it's recommended to take an inventory of **1) any custom-built code that integrates with MRTK v1** and **2) any custom-built code for input interactions or UX components**.</span></span> <span data-ttu-id="b11fd-170">O conflito mais comum e predominante para um desenvolvedor de realidade misturada que ingere o MRTK v2 envolve a entrada e as interações.</span><span class="sxs-lookup"><span data-stu-id="b11fd-170">The most common and prevalent conflict for a mixed reality developer ingesting MRTK v2 involves input and interactions.</span></span> <span data-ttu-id="b11fd-171">É recomendável começar a ler e entender o [modelo de entrada do MRTK v2](/windows/mixed-reality/mrtk-unity/features/input/overview).</span><span class="sxs-lookup"><span data-stu-id="b11fd-171">It's advised to begin reading and understanding the [MRTK v2 input model](/windows/mixed-reality/mrtk-unity/features/input/overview).</span></span>

<span data-ttu-id="b11fd-172">Por fim, o novo [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity) fez a transição de um modelo de scripts e objetos de gerenciador na cena para uma configuração e uma arquitetura de provedor de serviços.</span><span class="sxs-lookup"><span data-stu-id="b11fd-172">Finally, the new [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity) has transitioned from a model of scripts and in-scene manager objects to a configuration and services provider architecture.</span></span> <span data-ttu-id="b11fd-173">Isso resulta em um modelo de arquitetura e hierarquia de cena mais limpo, mas exige uma curva de aprendizado para entender os novos perfis de configuração.</span><span class="sxs-lookup"><span data-stu-id="b11fd-173">This results in a cleaner scene hierarchy and architecture model, but requires a learning curve for understanding the new configuration profiles.</span></span> <span data-ttu-id="b11fd-174">Leia o [Guia de Configuração do Kit de Ferramentas de Realidade Misturada](/windows/mixed-reality/mrtk-unity/configuration/mixed-reality-configuration-guide) para começar a se familiarizar com os perfis e as configurações importantes para se ajustar às necessidades de seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b11fd-174">Read the [Mixed Reality Toolkit Configuration Guide](/windows/mixed-reality/mrtk-unity/configuration/mixed-reality-configuration-guide) to start becoming familiar with the important settings and profiles to adjust to the needs of your application.</span></span>

### <a name="migrating-the-project"></a><span data-ttu-id="b11fd-175">Migrar o projeto</span><span class="sxs-lookup"><span data-stu-id="b11fd-175">Migrating the project</span></span>

<span data-ttu-id="b11fd-176">Após a importação do [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), provavelmente, seu projeto do Unity terá muitos erros relacionados ao compilador.</span><span class="sxs-lookup"><span data-stu-id="b11fd-176">After importing [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), your Unity project most likely has many compiler-related errors.</span></span> <span data-ttu-id="b11fd-177">Esses se devem comumente à nova estrutura de namespace e aos novos nomes de componentes.</span><span class="sxs-lookup"><span data-stu-id="b11fd-177">These are commonly because of the new namespace structure and new component names.</span></span> <span data-ttu-id="b11fd-178">Continue resolvendo esses erros por meio da modificação dos scripts para os novos namespaces e componentes.</span><span class="sxs-lookup"><span data-stu-id="b11fd-178">continue to resolve these errors by modifying your scripts to the new namespaces and components.</span></span>

<span data-ttu-id="b11fd-179">Para obter informações sobre as diferenças de API específicas entre o HTK/MRTK e o MRTK v2, confira o guia de portabilidade no [wiki do MRTK versão 2](/windows/mixed-reality/mrtk-unity/updates-deployment/htk-to-mrtk-porting-guide).</span><span class="sxs-lookup"><span data-stu-id="b11fd-179">For information on the specific API differences between HTK/MRTK and MRTK v2, see the porting guide on the [MRTK Version 2 wiki](/windows/mixed-reality/mrtk-unity/updates-deployment/htk-to-mrtk-porting-guide).</span></span>

### <a name="best-practices"></a><span data-ttu-id="b11fd-180">Práticas recomendadas</span><span class="sxs-lookup"><span data-stu-id="b11fd-180">Best practices</span></span>

- <span data-ttu-id="b11fd-181">Prefira o uso do [sombreador padrão do MRTK](/windows/mixed-reality/mrtk-unity/features/rendering/mrtk-standard-shader).</span><span class="sxs-lookup"><span data-stu-id="b11fd-181">Prefer use of the [MRTK standard shader](/windows/mixed-reality/mrtk-unity/features/rendering/mrtk-standard-shader).</span></span>
- <span data-ttu-id="b11fd-182">Trabalhe em um tipo de alteração da falha por vez (por exemplo: IFocusable para [IMixedRealityFocusHandler](/dotnet/api/microsoft.mixedreality.toolkit.input.imixedrealityfocushandler)).</span><span class="sxs-lookup"><span data-stu-id="b11fd-182">Work on one breaking change type at a time (ex: IFocusable to [IMixedRealityFocusHandler](/dotnet/api/microsoft.mixedreality.toolkit.input.imixedrealityfocushandler)).</span></span>
- <span data-ttu-id="b11fd-183">Faça um teste após cada alteração e use o controle do código-fonte.</span><span class="sxs-lookup"><span data-stu-id="b11fd-183">Test after every change and use source control.</span></span>
- <span data-ttu-id="b11fd-184">Use a experiência do usuário padrão do MRTK (botões, imagens fixas e assim por diante), quando possível.</span><span class="sxs-lookup"><span data-stu-id="b11fd-184">Use default MRTK UX (buttons, slates, and so on), when possible.</span></span>
- <span data-ttu-id="b11fd-185">Evite modificar os arquivos do MRTK diretamente; em vez disso, crie wrappers em torno de componentes do MRTK.</span><span class="sxs-lookup"><span data-stu-id="b11fd-185">Refrain from modifying MRTK files directly; create wrappers around MRTK components.</span></span>
  - <span data-ttu-id="b11fd-186">Essa ação facilita futuras ingestões e atualizações do MRTK.</span><span class="sxs-lookup"><span data-stu-id="b11fd-186">This action eases future MRTK ingestion and updates.</span></span>
- <span data-ttu-id="b11fd-187">Examine e explore cenas de exemplo fornecidas no MRTK, especialmente *HandInteractionExamples.scene*.</span><span class="sxs-lookup"><span data-stu-id="b11fd-187">Review and explore sample scenes provided in the MRTK, especially *HandInteractionExamples.scene*.</span></span>
- <span data-ttu-id="b11fd-188">Recompile a interface do usuário baseada em tela com quadrantes, colisores e texto do TextMeshPro.</span><span class="sxs-lookup"><span data-stu-id="b11fd-188">Rebuild canvas-based UI with quads, colliders, and TextMeshPro text.</span></span>
- <span data-ttu-id="b11fd-189">Habilite o [Compartilhamento de buffer de profundidade](../unity/camera-in-unity.md#sharing-depth-buffers) ou [defina o ponto de foco](../unity/focus-point-in-unity.md); prefira usar um buffer de profundidade de 16 bits para ter melhor desempenho.</span><span class="sxs-lookup"><span data-stu-id="b11fd-189">Enable [Depth Buffer Sharing](../unity/camera-in-unity.md#sharing-depth-buffers) or [set focus point](../unity/focus-point-in-unity.md); prefer to use a 16-bit depth buffer for better performance.</span></span> <span data-ttu-id="b11fd-190">Verifique se, ao renderizar a cor, você também renderiza a profundidade.</span><span class="sxs-lookup"><span data-stu-id="b11fd-190">Ensure when rendering color, to also render depth.</span></span> <span data-ttu-id="b11fd-191">O Unity geralmente não grava profundidade para gameobjects de texto e transparentes.</span><span class="sxs-lookup"><span data-stu-id="b11fd-191">Unity generally doesn't write depth for transparent and text gameobjects.</span></span>
- <span data-ttu-id="b11fd-192">Defina o caminho de renderização instanciado de passagem única.</span><span class="sxs-lookup"><span data-stu-id="b11fd-192">Set Single Pass Instanced Rendering Path.</span></span>
- <span data-ttu-id="b11fd-193">Usar o [perfil de configuração do HoloLens 2 para MRTK](/windows/mixed-reality/mrtk-unity/features/profiles/profiles#hololens-2-profile)</span><span class="sxs-lookup"><span data-stu-id="b11fd-193">Use the [HoloLens 2 configuration profile for MRTK](/windows/mixed-reality/mrtk-unity/features/profiles/profiles#hololens-2-profile)</span></span>

### <a name="testing-your-application"></a><span data-ttu-id="b11fd-194">Testando seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="b11fd-194">Testing your application</span></span>

<span data-ttu-id="b11fd-195">No MRTK Versão 2, você pode simular as interações com as mãos diretamente no Unity e desenvolver novas APIs para interações com as mãos e acompanhamento ocular.</span><span class="sxs-lookup"><span data-stu-id="b11fd-195">In MRTK Version 2, you can simulate hand interactions directly in Unity and develop with the new APIs for hand interactions and eye tracking.</span></span> <span data-ttu-id="b11fd-196">O dispositivo HoloLens 2 é necessário para criar uma experiência de usuário satisfatória.</span><span class="sxs-lookup"><span data-stu-id="b11fd-196">The HoloLens 2 device is required to create a satisfying user experience.</span></span> <span data-ttu-id="b11fd-197">Para adquirir uma melhor compreensão, é recomendável que você comece a estudar a documentação e as ferramentas.</span><span class="sxs-lookup"><span data-stu-id="b11fd-197">You're encouraged to start studying the documentation and tools for greater understanding.</span></span> <span data-ttu-id="b11fd-198">O [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity) é compatível com o desenvolvimento no HoloLens (1ª geração) e, assim, os modelos de entrada tradicionais (tais como selecionar por meio do gesto de fechar e abrir dedos indicador e polegar) podem ser testados no HoloLens (1ª geração).</span><span class="sxs-lookup"><span data-stu-id="b11fd-198">[MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity) supports development on HoloLens (1st gen) and traditional input models, such as select via air-tap can be tested on HoloLens (1st gen).</span></span> 

## <a name="updating-your-interaction-model-for-hololens-2"></a><span data-ttu-id="b11fd-199">Como atualizar o modelo de interação para o HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="b11fd-199">Updating your interaction model for HoloLens 2</span></span>

> [!CAUTION]
> <span data-ttu-id="b11fd-200">Se o seu projeto está usando uma das APIs do XR.WSA, elas estão sendo desativadas em favor das novas APIs de entrada de XR do Unity nas versões futuras do Unity.</span><span class="sxs-lookup"><span data-stu-id="b11fd-200">If your project is using any of the XR.WSA APIs, these are being phased out in favor of Unity's new XR input APIs in future Unity releases.</span></span> <span data-ttu-id="b11fd-201">Encontre mais informações sobre as [APIs de entrada de XR aqui](https://docs.unity3d.com/Manual/xr_input.html).</span><span class="sxs-lookup"><span data-stu-id="b11fd-201">You can find more information about the [XR input APIs here](https://docs.unity3d.com/Manual/xr_input.html).</span></span>

<span data-ttu-id="b11fd-202">Depois que o aplicativo for portado e preparado para o HoloLens 2, você estará pronto para considerar a atualização do modelo de interação e dos posicionamentos de design dos hologramas.</span><span class="sxs-lookup"><span data-stu-id="b11fd-202">Once your application is ported and prepped for HoloLens 2, you're ready to consider updating your interaction model and hologram design placements.</span></span>
<span data-ttu-id="b11fd-203">No HoloLens (1ª geração), o aplicativo provavelmente tem um modelo de interação de foco e confirmação com hologramas relativamente distantes para se ajustarem ao campo de visão.</span><span class="sxs-lookup"><span data-stu-id="b11fd-203">In HoloLens (1st gen), your application likely has a gaze and commit interaction model with holograms relatively far away to fit into the field of view.</span></span>

<span data-ttu-id="b11fd-204">Etapas para atualizar o design de seu aplicativo a fim de torná-lo mais adequado para o HoloLens 2:</span><span class="sxs-lookup"><span data-stu-id="b11fd-204">Steps to update your application design to be best suited for HoloLens 2:</span></span>
1.  <span data-ttu-id="b11fd-205">Componentes do MRTK: De acordo com o trabalho prévio, se você tiver adicionado o [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), haverá vários componentes/scripts a serem aproveitados que foram projetados e otimizados para o HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="b11fd-205">MRTK components: Per the pre-work, if you added [MRTK v2](https://github.com/microsoft/MixedRealityToolkit-Unity), there are various components/scripts to leverage that have been designed and optimized for HoloLens 2.</span></span>

2.  <span data-ttu-id="b11fd-206">Modelo de interação: Considere a atualização do modelo de interação.</span><span class="sxs-lookup"><span data-stu-id="b11fd-206">Interaction model: Consider updating your interaction model.</span></span> <span data-ttu-id="b11fd-207">Para a maioria dos cenários, recomendamos a alternância do foco e da confirmação com as mãos.</span><span class="sxs-lookup"><span data-stu-id="b11fd-207">For most scenarios, we recommend switching from gaze and commit to hands.</span></span> <span data-ttu-id="b11fd-208">Com os hologramas normalmente ficando fora do alcance dos braços, a alternância para as mãos resulta em raios de apontador de interação e gestos de segurar distantes.</span><span class="sxs-lookup"><span data-stu-id="b11fd-208">With your holograms typically being out of arms-reach, switching to hands results in far interaction pointing rays and grab gestures.</span></span>

3.  <span data-ttu-id="b11fd-209">Posicionamento de hologramas: Depois de alternar para um modelo de interação com as mãos, considere a aproximação de alguns hologramas, a fim de interagir diretamente com eles usando gestos de segurar com interação próxima com as mãos.</span><span class="sxs-lookup"><span data-stu-id="b11fd-209">Hologram placement: After switching to a hands interaction model, consider moving some holograms closer to directly interact with them, by using near-interaction grab gestures with your hands.</span></span> <span data-ttu-id="b11fd-210">Os tipos de hologramas recomendados para aproximação a fim de segurar ou interagir diretamente são menus de destino menores, controles, botões e hologramas menores que se ajustam ao campo de visão do HoloLens 2 ao segurar e inspecionar o holograma.</span><span class="sxs-lookup"><span data-stu-id="b11fd-210">The types of holograms recommended to move closer to directly grab or interact are small target menus, controls, buttons, and smaller holograms that fit within the HoloLens 2 field of view when grabbing and inspecting the hologram.</span></span>
<br>
<span data-ttu-id="b11fd-211">Cada aplicativo e cenário é diferente. Continuaremos refinando e postando diretrizes de design com base nos comentários e em aprendizados contínuos.</span><span class="sxs-lookup"><span data-stu-id="b11fd-211">Every application and scenario are different, and we’ll continue to refine and post design guidance based on feedback and continued learnings.</span></span>


## <a name="additional-caveats-and-learnings-about-moving-applications-from-x86-to-arm"></a><span data-ttu-id="b11fd-212">Advertências e aprendizados adicionais sobre como mover aplicativos do x86 para o ARM</span><span class="sxs-lookup"><span data-stu-id="b11fd-212">Additional caveats and learnings about moving applications from x86 to ARM</span></span>

- <span data-ttu-id="b11fd-213">Os aplicativos diretos do Unity são simples porque você pode criar um pacote de aplicativo ARM ou implantá-lo diretamente no dispositivo para que o pacote seja executado.</span><span class="sxs-lookup"><span data-stu-id="b11fd-213">Straight-forward Unity applications are simple because you can build an ARM application bundle or deploy directly to the device for the bundle to run.</span></span> <span data-ttu-id="b11fd-214">Alguns plug-ins nativos do Unity podem apresentar certos desafios de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="b11fd-214">Some Unity native plugins can present certain development challenges.</span></span> <span data-ttu-id="b11fd-215">Por isso, você deve atualizar todos os plug-ins nativos do Unity para o Visual Studio 2019 e, em seguida, recompilar para o ARM.</span><span class="sxs-lookup"><span data-stu-id="b11fd-215">Because of this, you must upgrade all Unity native plugins to Visual Studio 2019 and then rebuild for ARM.</span></span>

- <span data-ttu-id="b11fd-216">Um aplicativo usou o plug-in AudioKinetic Wwise para Unity, e essa versão do Unity não tinha um plug-in do ARM para UWP. Como resultado, houve um esforço considerável para recriar as funcionalidades de som no aplicativo em questão para execução no ARM.</span><span class="sxs-lookup"><span data-stu-id="b11fd-216">One application used the Unity AudioKinetic Wwise plugin and that version of Unity didn't have a UWP ARM plugin, which caused a considerable effort to rework sound capabilities into the application in question to run on ARM.</span></span> <span data-ttu-id="b11fd-217">Verifique se todos os plug-ins necessários para os planos de desenvolvimento estão instalados e disponíveis no Unity.</span><span class="sxs-lookup"><span data-stu-id="b11fd-217">Ensure that all required plugins for your development plans are installed and available in Unity.</span></span>

- <span data-ttu-id="b11fd-218">Em alguns casos, um plug-in do UWP/ARM pode não existir para os plug-ins requeridos pelo aplicativo, o que bloqueia a capacidade de portar o aplicativo e executá-lo no HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="b11fd-218">In some cases, a UWP/ARM plugin might not exist for application-required plugins, which blocks the ability to port the application and run it on HoloLens 2.</span></span> <span data-ttu-id="b11fd-219">Entre em contato com seu provedor de plug-in para resolver o problema e fornecer suporte para o ARM.</span><span class="sxs-lookup"><span data-stu-id="b11fd-219">Contact your plugin provider to resolve the issue and provide support for ARM.</span></span>

- <span data-ttu-id="b11fd-220">O minfloat (e variantes como min16float, minint e assim por diante) em sombreadores pode se comportar de modo diferente no HoloLens 2 comparado ao HoloLens (1ª geração).</span><span class="sxs-lookup"><span data-stu-id="b11fd-220">The minfloat (and variants such as min16float, minint, and so on) in shaders might behave differently on HoloLens 2 than on HoloLens (1st gen).</span></span> <span data-ttu-id="b11fd-221">Especificamente, eles garantem que pelo menos o número especificado de bits seja usado.</span><span class="sxs-lookup"><span data-stu-id="b11fd-221">Specifically, these guarantee that at least the specified number of bits will be used.</span></span> <span data-ttu-id="b11fd-222">Em GPUs da Intel/da NVIDIA, os minfloats são basicamente tratados como 32 bits.</span><span class="sxs-lookup"><span data-stu-id="b11fd-222">On Intel/Nvidia GPUs, minfloats are largely treated as 32 bits.</span></span> <span data-ttu-id="b11fd-223">No ARM, o número de bits especificado é realmente respeitado.</span><span class="sxs-lookup"><span data-stu-id="b11fd-223">On ARM, the number of bits specified is actually adhered to.</span></span> <span data-ttu-id="b11fd-224">Isso significa que, na prática, esses números podem ter menos precisão ou alcance no HoloLens 2 do que tinham no HoloLens (1ª geração).</span><span class="sxs-lookup"><span data-stu-id="b11fd-224">That means in practice, these numbers might have less precision or range on HoloLens 2 than they did on HoloLens (1st gen).</span></span>

- <span data-ttu-id="b11fd-225">As instruções de _asm não parecem funcionar no ARM, o que significa que qualquer código que use as instruções de _asm precisa ser reescrito.</span><span class="sxs-lookup"><span data-stu-id="b11fd-225">The _asm instructions don’t appear to work on ARM, meaning any code using _asm instructions must be rewritten.</span></span>

- <span data-ttu-id="b11fd-226">O ARM não dá suporte à instrução SIMD definida porque vários cabeçalhos, como xmmintrin.h, emmintrin.h, tmmintrin.h e immintrin.h, não estão disponíveis no ARM.</span><span class="sxs-lookup"><span data-stu-id="b11fd-226">ARM doesn't support the SIMD instruction set because various headers, such as xmmintrin.h, emmintrin.h, tmmintrin.h, and immintrin.h, aren't available on ARM.</span></span>

- <span data-ttu-id="b11fd-227">O compilador de sombreador no ARM é executado durante a primeira chamada de desenho depois que o sombreador é carregado ou algo do qual o sombreador depende é alterado, não no tempo de carregamento do sombreador.</span><span class="sxs-lookup"><span data-stu-id="b11fd-227">The shader compiler on ARM runs during the first draw call after the shader has been loaded or something the shader relies on has changed, not at shader load time.</span></span> <span data-ttu-id="b11fd-228">O impacto na taxa de quadros pode ser perceptível, dependendo de quantos sombreadores precisam ser compilados, com implicações de como os sombreadores devem ser tratados, empacotados e atualizados de maneira diferente no HoloLens 2 versus HoloLens (1ª geração).</span><span class="sxs-lookup"><span data-stu-id="b11fd-228">The impact on framerate can be noticeable, depending on how many shaders need to be compiled, with implications for how shaders should be handled, packaged, updated differently on HoloLens 2 vs HoloLens (1st gen).</span></span>

## <a name="see-also"></a><span data-ttu-id="b11fd-229">Veja também</span><span class="sxs-lookup"><span data-stu-id="b11fd-229">See also</span></span>

* [<span data-ttu-id="b11fd-230">Instalar as ferramentas</span><span class="sxs-lookup"><span data-stu-id="b11fd-230">Install the tools</span></span>](../install-the-tools.md)
* [<span data-ttu-id="b11fd-231">MRTK – Guia de instalação</span><span class="sxs-lookup"><span data-stu-id="b11fd-231">MRTK - Installation guide</span></span>](/windows/mixed-reality/mrtk-unity/install-the-tools)
* [<span data-ttu-id="b11fd-232">MRTK – Página inicial da documentação</span><span class="sxs-lookup"><span data-stu-id="b11fd-232">MRTK - Documentation home</span></span>](/windows/mixed-reality/mrtk-unity)
* [<span data-ttu-id="b11fd-233">Portabilidade do HoloToolkit/MRTK para o MRTK versão 2</span><span class="sxs-lookup"><span data-stu-id="b11fd-233">Porting from HoloToolkit/MRTK to MRTK version 2</span></span>](/windows/mixed-reality/mrtk-unity/updates-deployment/htk-to-mrtk-porting-guide)
* [<span data-ttu-id="b11fd-234">Configurações recomendadas do Unity</span><span class="sxs-lookup"><span data-stu-id="b11fd-234">Recommended settings for Unity</span></span>](../unity/recommended-settings-for-unity.md)
* [<span data-ttu-id="b11fd-235">Noções básicas sobre o desempenho da Realidade Misturada</span><span class="sxs-lookup"><span data-stu-id="b11fd-235">Understanding performance for Mixed Reality</span></span>](../platform-capabilities-and-apis/understanding-performance-for-mixed-reality.md)