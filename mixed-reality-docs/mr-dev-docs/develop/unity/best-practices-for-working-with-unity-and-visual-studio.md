---
title: Práticas recomendadas do Unity e do Visual Studio
description: Dicas e truques para simplificar o fluxo de trabalho de criação de um aplicativo de realidade misturada com o Unity e o Visual Studio.
author: mattzmsft
ms.author: mazeller
ms.date: 03/21/2018
ms.topic: article
keywords: implantar, Unity, Visual Studio, HoloLens, HoloLens 2, headset de imersão, práticas recomendadas, headset de realidade misturada, headset de realidade mista do Windows, headset de realidade virtual, UWP, Ferramentas do Visual Studio, SDK do Windows
ms.openlocfilehash: edd79b95d02cfeb1da4effc485fc57078e3d24a3
ms.sourcegitcommit: 12ea3fb2df4664c5efd07dcbb9040c2ff173afb6
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/29/2021
ms.locfileid: "113042257"
---
# <a name="best-practices-for-working-with-unity-and-visual-studio"></a><span data-ttu-id="e918e-104">Melhores práticas para trabalhar com o Unity e o Visual Studio</span><span class="sxs-lookup"><span data-stu-id="e918e-104">Best practices for working with Unity and Visual Studio</span></span>

<span data-ttu-id="e918e-105">Ao criar um aplicativo de realidade misturada com o Unity, você precisa alternar entre o Unity e o Visual Studio para criar e implantar o pacote do aplicativo para o HoloLens ou um headset de imersão.</span><span class="sxs-lookup"><span data-stu-id="e918e-105">When you're creating a mixed reality application with Unity, you need to switch between Unity and Visual Studio to build and deploy the app package to HoloLens or an immersive headset.</span></span> <span data-ttu-id="e918e-106">Por padrão, duas instâncias do Visual Studio são necessárias – uma instância para modificar scripts de Unity e outra para implantar no dispositivo e depurar.</span><span class="sxs-lookup"><span data-stu-id="e918e-106">By default, two instances of Visual Studio are required - one instance to modify Unity scripts and another to deploy to the device and debug.</span></span> <span data-ttu-id="e918e-107">As instruções a seguir permitem desenvolver usando uma única instância do Visual Studio, reduzindo a frequência de exportação de projetos de Unity e aprimorando a experiência de depuração.</span><span class="sxs-lookup"><span data-stu-id="e918e-107">The following instructions let you develop using a single Visual Studio instance, reducing the frequency of exporting Unity projects and improves the debugging experience.</span></span>

## <a name="improving-iteration-time"></a><span data-ttu-id="e918e-108">Melhorando o tempo de iteração</span><span class="sxs-lookup"><span data-stu-id="e918e-108">Improving iteration time</span></span>

<span data-ttu-id="e918e-109">O suporte para o back-end de script do .NET no Unity foi preterido no Unity 2018 e removido a partir do Unity 2019 +, portanto, recomendamos que você alterne para [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span><span class="sxs-lookup"><span data-stu-id="e918e-109">Support for .NET scripting back-end in Unity was deprecated in Unity 2018 and removed as of Unity 2019+, so we recommend you switch to [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span></span> <span data-ttu-id="e918e-110">No entanto, você pode experimentar tempos de compilação mais longos do Unity para o Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e918e-110">However, you may experience longer build times from Unity to Visual Studio.</span></span> <span data-ttu-id="e918e-111">Para melhorar a iteração mais rápida, configure seu ambiente para obter melhores resultados de compilação:</span><span class="sxs-lookup"><span data-stu-id="e918e-111">To improve for faster iteration, set up your environment for best compilation results:</span></span>

1) <span data-ttu-id="e918e-112">Use a criação incremental criando seu projeto para o mesmo diretório a cada vez, reutilizando os arquivos pré-criados lá</span><span class="sxs-lookup"><span data-stu-id="e918e-112">Use incremental building by building your project to the same directory every time, reusing the pre-built files there</span></span>
2) <span data-ttu-id="e918e-113">Desabilitar verificações de software antimalware para seu projeto & criar pastas</span><span class="sxs-lookup"><span data-stu-id="e918e-113">Disable anti-malware software scans for your project & build folders</span></span>
   - <span data-ttu-id="e918e-114">Abra o **vírus & proteção contra ameaças** em seu aplicativo de configurações do Windows 10</span><span class="sxs-lookup"><span data-stu-id="e918e-114">Open **Virus & threat protection** under your Windows 10 settings app</span></span>
   - <span data-ttu-id="e918e-115">Selecione **gerenciar configurações** em **vírus & ameaças proteção configurações**</span><span class="sxs-lookup"><span data-stu-id="e918e-115">Select **Manage Settings** under **Virus & threat protection settings**</span></span>
   - <span data-ttu-id="e918e-116">Selecione **Adicionar ou remover exclusões** na seção **exclusões**</span><span class="sxs-lookup"><span data-stu-id="e918e-116">Select **Add or remove exclusions** under the **Exclusions** section</span></span>
   - <span data-ttu-id="e918e-117">Selecione **Adicionar uma exclusão** e selecione a pasta que contém o código do projeto de Unity e as saídas de compilação</span><span class="sxs-lookup"><span data-stu-id="e918e-117">Select **Add an exclusion** and select the folder containing your Unity project code and build outputs</span></span>
3) <span data-ttu-id="e918e-118">Usar um SSD para compilação</span><span class="sxs-lookup"><span data-stu-id="e918e-118">Use an SSD for building</span></span>

<span data-ttu-id="e918e-119">Examine [otimizar os tempos de compilação para IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="e918e-119">Review [Optimizing Build Times for IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html) for more info.</span></span> <span data-ttu-id="e918e-120">Além disso, examine [depuração em IL2CPP scripting back-end](https://docs.unity3d.com/Manual/windowsstore-debugging-il2cpp.html).</span><span class="sxs-lookup"><span data-stu-id="e918e-120">Also, review [Debugging on IL2CPP Scripting Back-end](https://docs.unity3d.com/Manual/windowsstore-debugging-il2cpp.html).</span></span>

<span data-ttu-id="e918e-121">Considere instalar a [extensão do Visual Studio *UnityScriptAnalyzer*](https://github.com/Microsoft/MixedRealityCompanionKit/tree/master/UnityScriptAnalyzer).</span><span class="sxs-lookup"><span data-stu-id="e918e-121">Consider installing the [*UnityScriptAnalyzer* Visual Studio extension](https://github.com/Microsoft/MixedRealityCompanionKit/tree/master/UnityScriptAnalyzer).</span></span> <span data-ttu-id="e918e-122">Essa ferramenta analisa seus scripts do Unity C# para o código que pode ser escrito de maneira mais otimizada.</span><span class="sxs-lookup"><span data-stu-id="e918e-122">This tool analyzes your Unity C# scripts for code that can be written in a more optimized manner.</span></span>

## <a name="visual-studio-tools-for-unity"></a><span data-ttu-id="e918e-123">Ferramentas do Visual Studio para Unity</span><span class="sxs-lookup"><span data-stu-id="e918e-123">Visual Studio Tools for Unity</span></span>

<span data-ttu-id="e918e-124">Baixar [Ferramentas do Visual Studio para Unity](/visualstudio/cross-platform/getting-started-with-visual-studio-tools-for-unity)</span><span class="sxs-lookup"><span data-stu-id="e918e-124">Download [Visual Studio Tools for Unity](/visualstudio/cross-platform/getting-started-with-visual-studio-tools-for-unity)</span></span>

<span data-ttu-id="e918e-125">**Benefícios do Ferramentas do Visual Studio para Unity**</span><span class="sxs-lookup"><span data-stu-id="e918e-125">**Benefits of Visual Studio Tools for Unity**</span></span>
* <span data-ttu-id="e918e-126">Depure o modo de reprodução do Unity no editor do Visual Studio colocando pontos de interrupção, avaliando variáveis e expressões complexas.</span><span class="sxs-lookup"><span data-stu-id="e918e-126">Debug Unity in-editor play mode from Visual Studio by putting breakpoints, evaluating variables and complex expressions.</span></span>
* <span data-ttu-id="e918e-127">Use o explorador de projeto do Unity para localizar o script com exatamente a mesma hierarquia que o Unity exibe.</span><span class="sxs-lookup"><span data-stu-id="e918e-127">Use the Unity Project Explorer to find your script with the exact same hierarchy that Unity displays.</span></span>
* <span data-ttu-id="e918e-128">Obtenha o console do Unity diretamente dentro do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e918e-128">Get the Unity console directly inside Visual Studio.</span></span>
* <span data-ttu-id="e918e-129">Use assistentes para criar ou navegar rapidamente para scripts.</span><span class="sxs-lookup"><span data-stu-id="e918e-129">Use wizards to quickly create or navigate to scripts.</span></span>

## <a name="expose-c-class-variables-for-easy-tuning"></a><span data-ttu-id="e918e-130">Expor variáveis de classe C# para facilitar o ajuste</span><span class="sxs-lookup"><span data-stu-id="e918e-130">Expose C# class variables for easy tuning</span></span>

<span data-ttu-id="e918e-131">Há duas maneiras de expor variáveis de classe.</span><span class="sxs-lookup"><span data-stu-id="e918e-131">There are two ways to expose class variables.</span></span> <span data-ttu-id="e918e-132">A maneira recomendada é adicionar o atributo [Serializefield] às suas variáveis privadas.</span><span class="sxs-lookup"><span data-stu-id="e918e-132">The recommended way is to add the [SerializeField] attribute to your private variables.</span></span> <span data-ttu-id="e918e-133">Os campos serializados podem ser acessados no editor, mas não são expostos programaticamente.</span><span class="sxs-lookup"><span data-stu-id="e918e-133">Serialized fields can be accessed from the editor but not programmatically exposed.</span></span>  <span data-ttu-id="e918e-134">A outra opção é tornar as variáveis de classe do C# públicas para expô-las na interface do usuário do editor.</span><span class="sxs-lookup"><span data-stu-id="e918e-134">The other option is to make C# class variables public to expose them in the editor UI.</span></span> 

<span data-ttu-id="e918e-135">Ambas as abordagens possibilitam o ajuste fácil de variáveis durante a execução no editor, o que é especialmente útil para ajustar propriedades mecânicas de interação.</span><span class="sxs-lookup"><span data-stu-id="e918e-135">Both approaches make it possible to easily tweak variables while playing in-editor, which is especially useful for tuning interaction mechanic properties.</span></span>

## <a name="regenerate-uwp-visual-studio-solutions-after-windows-sdk-or-unity-upgrade"></a><span data-ttu-id="e918e-136">Regenerar soluções do Visual Studio UWP após a atualização do SDK do Windows ou do Unity</span><span class="sxs-lookup"><span data-stu-id="e918e-136">Regenerate UWP Visual Studio solutions after Windows SDK or Unity upgrade</span></span>

<span data-ttu-id="e918e-137">As soluções UWP do Visual Studio com check-in no controle do código-fonte podem ficar desatualizadas após a atualização para um novo SDK do Windows ou mecanismo do Unity.</span><span class="sxs-lookup"><span data-stu-id="e918e-137">UWP Visual Studio solutions checked in to source control can get out-of-date after upgrading to a new Windows SDK or Unity engine.</span></span> <span data-ttu-id="e918e-138">Você pode resolver soluções desatualizadas depois de criar uma nova solução UWP do Unity e mesclar as diferenças na solução com check-in.</span><span class="sxs-lookup"><span data-stu-id="e918e-138">You can resolve out-of-date solutions after by building a new UWP solution from Unity and merging differences into the checked-in solution.</span></span>

## <a name="use-text-format-assets-for-easy-comparison-of-content-changes"></a><span data-ttu-id="e918e-139">Usar ativos de formato de texto para uma comparação fácil de alterações de conteúdo</span><span class="sxs-lookup"><span data-stu-id="e918e-139">Use text-format assets for easy comparison of content changes</span></span>

<span data-ttu-id="e918e-140">O armazenamento de ativos em formato de texto facilita a revisão de diferenciações de alteração de conteúdo no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e918e-140">Storing assets in text format makes it easier to review content change diffs in Visual Studio.</span></span> <span data-ttu-id="e918e-141">Você pode armazenar ativos em formato de texto selecionando **editar > configurações do projeto > editor** e alterar o modo de **serialização do ativo** para **forçar o texto**.</span><span class="sxs-lookup"><span data-stu-id="e918e-141">You can store assets in text format by selecting **Edit > Project Settings > Editor** and change **Asset Serialization** mode to **Force Text**.</span></span> <span data-ttu-id="e918e-142">No entanto, mesclar alterações de arquivo de ativo de texto é propenso a erros e não é recomendado, portanto, considere habilitar check-outs binários exclusivos no controle do código-fonte.</span><span class="sxs-lookup"><span data-stu-id="e918e-142">However, merging text asset file changes is error-prone and not recommended, so consider enabling exclusive binary checkouts in your source control.</span></span>

## <a name="see-also"></a><span data-ttu-id="e918e-143">Confira também</span><span class="sxs-lookup"><span data-stu-id="e918e-143">See also</span></span>
- [<span data-ttu-id="e918e-144">Ferramentas do Visual Studio para Unity</span><span class="sxs-lookup"><span data-stu-id="e918e-144">Visual Studio Tools for Unity</span></span>](https://visualstudiogallery.msdn.microsoft.com/8d26236e-4a64-4d64-8486-7df95156aba9)
- [<span data-ttu-id="e918e-145">Otimizando os tempos de compilação para IL2CPP</span><span class="sxs-lookup"><span data-stu-id="e918e-145">Optimizing Build Times for IL2CPP</span></span>](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html)
- [<span data-ttu-id="e918e-146">*UnityScriptAnalyzer* Extensão do Visual Studio</span><span class="sxs-lookup"><span data-stu-id="e918e-146">*UnityScriptAnalyzer* Visual Studio extension</span></span>](https://github.com/Microsoft/MixedRealityCompanionKit/tree/master/UnityScriptAnalyzer)