---
title: Entendendo o desempenho da realidade misturada
description: Aprenda informações e detalhes avançados para analisar e otimizar o desempenho do aplicativo de realidade mista do Windows.
author: hferrone
ms.author: v-hferrone
ms.date: 3/26/2019
ms.topic: article
keywords: Realidade mista do Windows, realidade misturada, realidade virtual, VR, Sr, desempenho, otimização, CPU, GPU
ms.openlocfilehash: eabc151382652bc2588249ef78d2f9f3b0f8cd99
ms.sourcegitcommit: ac315c1d35f2b9c431e79bc3f1212215301bb867
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/25/2021
ms.locfileid: "105550116"
---
# <a name="understanding-performance-for-mixed-reality"></a><span data-ttu-id="d38a6-104">Entendendo o desempenho da realidade misturada</span><span class="sxs-lookup"><span data-stu-id="d38a6-104">Understanding performance for mixed reality</span></span>

<span data-ttu-id="d38a6-105">Este artigo é uma introdução ao entendimento do significado do desempenho para seu aplicativo de realidade misturada.</span><span class="sxs-lookup"><span data-stu-id="d38a6-105">This article is an introduction to understanding the significance of performance for your Mixed Reality app.</span></span>  <span data-ttu-id="d38a6-106">A experiência do usuário pode ser bastante degradada se o seu aplicativo não for executado em uma taxa de quadros ideal.</span><span class="sxs-lookup"><span data-stu-id="d38a6-106">User experience can be greatly degraded if your application doesn't run at optimal frame rate.</span></span> <span data-ttu-id="d38a6-107">Os hologramas aparecerão instáveis e o controle de cabeça do ambiente será impreciso, levando a uma experiência ruim para o usuário.</span><span class="sxs-lookup"><span data-stu-id="d38a6-107">Holograms will appear unstable and head tracking of the environment will be inaccurate, leading to a poor experience for the user.</span></span> <span data-ttu-id="d38a6-108">O desempenho deve ser considerado um recurso de primeira classe para o desenvolvimento de realidade misturada e não uma tarefa em polonês.</span><span class="sxs-lookup"><span data-stu-id="d38a6-108">Performance must be considered a first class feature for mixed reality development and not a polish task.</span></span>

<span data-ttu-id="d38a6-109">Os valores de taxa de quadros de alto desempenho para cada plataforma de destino são listados abaixo.</span><span class="sxs-lookup"><span data-stu-id="d38a6-109">The performant framerate values for each target platform are listed below.</span></span>

| <span data-ttu-id="d38a6-110">Plataforma</span><span class="sxs-lookup"><span data-stu-id="d38a6-110">Platform</span></span> | <span data-ttu-id="d38a6-111">Taxa de quadros de destino</span><span class="sxs-lookup"><span data-stu-id="d38a6-111">Target Frame Rate</span></span> |
|----------|-------------------|
| [<span data-ttu-id="d38a6-112">HoloLens</span><span class="sxs-lookup"><span data-stu-id="d38a6-112">HoloLens</span></span>](/hololens/hololens1-hardware) | <span data-ttu-id="d38a6-113">60 FPS</span><span class="sxs-lookup"><span data-stu-id="d38a6-113">60 FPS</span></span> |
| [<span data-ttu-id="d38a6-114">Windows Mixed Reality ultra PCs</span><span class="sxs-lookup"><span data-stu-id="d38a6-114">Windows Mixed Reality Ultra PCs</span></span>](../../discover/immersive-headset-hardware-details.md) | <span data-ttu-id="d38a6-115">90 FPS</span><span class="sxs-lookup"><span data-stu-id="d38a6-115">90 FPS</span></span> |
| [<span data-ttu-id="d38a6-116">Computadores Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="d38a6-116">Windows Mixed Reality PCs</span></span>](../../discover/immersive-headset-hardware-details.md) | <span data-ttu-id="d38a6-117">60 FPS</span><span class="sxs-lookup"><span data-stu-id="d38a6-117">60 FPS</span></span> |

<span data-ttu-id="d38a6-118">A estrutura a seguir descreve as práticas recomendadas para atingir as taxas de quadros de destino.</span><span class="sxs-lookup"><span data-stu-id="d38a6-118">The framework below outlines best practices for hitting target frame rates.</span></span> <span data-ttu-id="d38a6-119">É recomendável ler o [artigo recomendações de desempenho para o Unity](../unity/performance-recommendations-for-unity.md) para obter dicas sobre como medir e melhorar a taxa de quadros no ambiente do Unity.</span><span class="sxs-lookup"><span data-stu-id="d38a6-119">We recommend reading the [performance recommendations for Unity article](../unity/performance-recommendations-for-unity.md) for tips on measuring and improving framerate in the Unity environment.</span></span>

## <a name="understanding-performance-bottlenecks"></a><span data-ttu-id="d38a6-120">Noções básicas sobre afunilamentos de desempenho</span><span class="sxs-lookup"><span data-stu-id="d38a6-120">Understanding performance bottlenecks</span></span>

<span data-ttu-id="d38a6-121">Se seu aplicativo tiver uma taxa de quadros com desempenho alto, a primeira etapa será analisar e entender onde o aplicativo é computacionalmente intensivo.</span><span class="sxs-lookup"><span data-stu-id="d38a6-121">If your app has an underperforming framerate, the first step is to analyze and understand where your application is computationally intensive.</span></span> <span data-ttu-id="d38a6-122">Há dois processadores principais responsáveis pelo trabalho de renderizar sua cena: a CPU e a GPU, cada um manipulando diferentes aspectos do seu aplicativo de realidade misturada.</span><span class="sxs-lookup"><span data-stu-id="d38a6-122">There are two primary processors responsible for the work to render your scene: the CPU and the GPU, each handling different aspects of your Mixed Reality app.</span></span> <span data-ttu-id="d38a6-123">Os três locais principais onde os afunilamentos podem ocorrer são:</span><span class="sxs-lookup"><span data-stu-id="d38a6-123">The three key places where bottlenecks may occur are:</span></span> 

1. <span data-ttu-id="d38a6-124">**Thread de aplicativo-CPU** -
    Responsável pela lógica do aplicativo, incluindo entrada de processamento, animações, física e outras lógicas de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d38a6-124">**App Thread - CPU** -
 Responsible for your app logic, including processing input, animations, physics, and other app logic.</span></span>
2. <span data-ttu-id="d38a6-125">**Renderizar thread-CPU para GPU** -responsável por enviar suas chamadas de desenho para a GPU.</span><span class="sxs-lookup"><span data-stu-id="d38a6-125">**Render Thread - CPU to GPU** - Responsible for submitting your draw calls to the GPU.</span></span> <span data-ttu-id="d38a6-126">Quando seu aplicativo deseja renderizar um objeto como um cubo ou modelo, esse thread envia uma solicitação para a GPU para realizar as operações.</span><span class="sxs-lookup"><span data-stu-id="d38a6-126">When your app wants to render an object such as a cube or model, this thread sends a request to the GPU to do the operations.</span></span>
3. <span data-ttu-id="d38a6-127">A **GPU** -normalmente manipula a pipeline gráfica de seu aplicativo para transformar dados 3D (modelos, texturas etc.) em pixels.</span><span class="sxs-lookup"><span data-stu-id="d38a6-127">**GPU** - Most commonly handles the graphics pipeline of your application to transform 3D data (models, textures, and so on) into pixels.</span></span> <span data-ttu-id="d38a6-128">Ele finalmente produz uma imagem 2D para enviar à tela do seu dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d38a6-128">It ultimately produces a 2D image to submit to your device's screen.</span></span>

![Tempo de vida de um quadro](images/lifetime-of-a-frame.png)

<span data-ttu-id="d38a6-130">Geralmente, os aplicativos do HoloLens serão associados à GPU, mas nem sempre.</span><span class="sxs-lookup"><span data-stu-id="d38a6-130">Generally, HoloLens applications will be GPU bound, but not always.</span></span> <span data-ttu-id="d38a6-131">Use as ferramentas e técnicas abaixo para entender onde seu aplicativo específico está afunilado.</span><span class="sxs-lookup"><span data-stu-id="d38a6-131">Use the tools and techniques below to understand where your particular app is bottlenecked.</span></span>

## <a name="how-to-analyze-your-application"></a><span data-ttu-id="d38a6-132">Como analisar seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="d38a6-132">How to analyze your application</span></span>

<span data-ttu-id="d38a6-133">Há muitas ferramentas que permitem que você entenda o perfil de desempenho e gargalos potenciais em seu aplicativo de realidade misturada.</span><span class="sxs-lookup"><span data-stu-id="d38a6-133">There are many tools that allow you to understand the performance profile and potential bottlenecks in your mixed reality application.</span></span> 

<span data-ttu-id="d38a6-134">Abaixo estão algumas ferramentas comuns para ajudá-lo a coletar informações de criação de perfil aprofundadas para seu aplicativo:</span><span class="sxs-lookup"><span data-stu-id="d38a6-134">Below are some common tools to help you gather deep profiling information for your application:</span></span>
- [<span data-ttu-id="d38a6-135">Analisadores de desempenho de gráficos Intel</span><span class="sxs-lookup"><span data-stu-id="d38a6-135">Intel Graphics Performance Analyzers</span></span>](https://software.intel.com/gpa)
- [<span data-ttu-id="d38a6-136">Depuradores de gráficos do Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d38a6-136">Visual Studio Graphics Debuggers</span></span>](/visualstudio/debugger/graphics/visual-studio-graphics-diagnostics)
- [<span data-ttu-id="d38a6-137">Criador de perfil do Unity</span><span class="sxs-lookup"><span data-stu-id="d38a6-137">Unity Profiler</span></span>](https://docs.unity3d.com/Manual/Profiler.html)
- [<span data-ttu-id="d38a6-138">Depurador de quadros do Unity</span><span class="sxs-lookup"><span data-stu-id="d38a6-138">Unity Frame Debugger</span></span>](https://docs.unity3d.com/Manual/FrameDebugger.html)
- [<span data-ttu-id="d38a6-139">Percepções inreais</span><span class="sxs-lookup"><span data-stu-id="d38a6-139">Unreal Insights</span></span>](../unreal/unreal-insights.md)
- [<span data-ttu-id="d38a6-140">PIX</span><span class="sxs-lookup"><span data-stu-id="d38a6-140">PIX</span></span>](https://devblogs.microsoft.com/pix/)
- [<span data-ttu-id="d38a6-141">Pofiling GPU em não real</span><span class="sxs-lookup"><span data-stu-id="d38a6-141">GPU Pofiling in Unreal</span></span>](https://docs.unrealengine.com/en-US/TestingAndOptimization/PerformanceAndProfiling/GPU/index.html)

### <a name="how-to-profile-in-any-environment"></a><span data-ttu-id="d38a6-142">Como criar um perfil em qualquer ambiente</span><span class="sxs-lookup"><span data-stu-id="d38a6-142">How to profile in any environment</span></span>

<span data-ttu-id="d38a6-143">Uma maneira de determinar se seu aplicativo está associado à GPU ou à CPU é reduzir a resolução da saída de destino de renderização.</span><span class="sxs-lookup"><span data-stu-id="d38a6-143">One way to determine if your app is GPU or CPU bound is to lower the resolution of the render target output.</span></span> <span data-ttu-id="d38a6-144">Ao reduzir o número de pixels para calcular, você reduzirá sua carga de GPU.</span><span class="sxs-lookup"><span data-stu-id="d38a6-144">By reducing the number of pixels to calculate, you'll reduce your GPU load.</span></span> <span data-ttu-id="d38a6-145">O dispositivo será renderizado para uma textura menor e, em seguida, a amostra para exibir a imagem final.</span><span class="sxs-lookup"><span data-stu-id="d38a6-145">The device will render to a smaller texture, then up-sample to display your final image.</span></span>

<span data-ttu-id="d38a6-146">Depois de reduzir a resolução de renderização, se:</span><span class="sxs-lookup"><span data-stu-id="d38a6-146">After lowering rendering resolution, if:</span></span>
1) <span data-ttu-id="d38a6-147">**Aumento** da taxa de quadros do aplicativo; provavelmente, você está **vinculado à GPU**</span><span class="sxs-lookup"><span data-stu-id="d38a6-147">Application framerate **increases**, then you're likely **GPU Bound**</span></span>
1) <span data-ttu-id="d38a6-148">Taxa de quadros do aplicativo **inalterado**, provavelmente, você está com a **CPU associada**</span><span class="sxs-lookup"><span data-stu-id="d38a6-148">Application framerate **unchanged**, then you're likely **CPU Bound**</span></span>

>[!NOTE]
><span data-ttu-id="d38a6-149">O Unity fornece a capacidade de modificar facilmente a resolução de destino de renderização de seu aplicativo em tempo de execução por meio da propriedade *[XRSettings. renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* .</span><span class="sxs-lookup"><span data-stu-id="d38a6-149">Unity provides the ability to easily modify the render target resolution of your application at runtime through the *[XRSettings.renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* property.</span></span> <span data-ttu-id="d38a6-150">A imagem final apresentada no dispositivo tem uma resolução fixa.</span><span class="sxs-lookup"><span data-stu-id="d38a6-150">The final image presented on device has a fixed resolution.</span></span> <span data-ttu-id="d38a6-151">A plataforma obterá uma amostra da saída de resolução mais baixa para criar uma imagem de resolução mais alta para renderização em exibições.</span><span class="sxs-lookup"><span data-stu-id="d38a6-151">The platform will sample the lower resolution output to build a higher resolution image for rendering on displays.</span></span> 
>
>```CS
>UnityEngine.XR.XRSettings.renderScale = 0.7f;
>```

## <a name="how-to-improve-your-application"></a><span data-ttu-id="d38a6-152">Como melhorar seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="d38a6-152">How to improve your application</span></span>

### <a name="cpu-performance-recommendations"></a><span data-ttu-id="d38a6-153">Recomendações de desempenho da CPU</span><span class="sxs-lookup"><span data-stu-id="d38a6-153">CPU performance recommendations</span></span>

<span data-ttu-id="d38a6-154">Em geral, a maior parte do trabalho em um aplicativo de realidade misturada na CPU envolve a "simulação" da cena e o processamento da lógica do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d38a6-154">Generally, most work in a mixed reality application on the CPU involves doing the "simulation" of the scene and processing your application logic.</span></span> <span data-ttu-id="d38a6-155">As seguintes áreas são destinadas à otimização:</span><span class="sxs-lookup"><span data-stu-id="d38a6-155">The following areas are targeted for optimization:</span></span>

- <span data-ttu-id="d38a6-156">Animações</span><span class="sxs-lookup"><span data-stu-id="d38a6-156">Animations</span></span>
- <span data-ttu-id="d38a6-157">Física</span><span class="sxs-lookup"><span data-stu-id="d38a6-157">Physics</span></span>
- <span data-ttu-id="d38a6-158">Alocações de memória</span><span class="sxs-lookup"><span data-stu-id="d38a6-158">Memory allocations</span></span>
- <span data-ttu-id="d38a6-159">Algoritmos complexos (ou seja,</span><span class="sxs-lookup"><span data-stu-id="d38a6-159">Complex algorithms (i.e</span></span> <span data-ttu-id="d38a6-160">cinemática inversa, localização de caminho)</span><span class="sxs-lookup"><span data-stu-id="d38a6-160">inverse kinematics, path-finding)</span></span>

### <a name="gpu-performance-recommendations"></a><span data-ttu-id="d38a6-161">Recomendações de desempenho da GPU</span><span class="sxs-lookup"><span data-stu-id="d38a6-161">GPU performance recommendations</span></span>

#### <a name="understanding-bandwidth-vs-fill-rate"></a><span data-ttu-id="d38a6-162">Compreendendo a largura de banda versus a taxa de preenchimento</span><span class="sxs-lookup"><span data-stu-id="d38a6-162">Understanding bandwidth vs. fill rate</span></span>
<span data-ttu-id="d38a6-163">Ao renderizar um quadro na GPU, um aplicativo é associado pela largura de banda da memória ou pela taxa de preenchimento.</span><span class="sxs-lookup"><span data-stu-id="d38a6-163">When rendering a frame on the GPU, an application is either bound by memory bandwidth or fill rate.</span></span>

- <span data-ttu-id="d38a6-164">**Largura de banda de memória** é a taxa de leituras e gravações que a GPU pode fazer da memória</span><span class="sxs-lookup"><span data-stu-id="d38a6-164">**Memory bandwidth** is the rate of reads and writes the GPU can do from memory</span></span>
    - <span data-ttu-id="d38a6-165">Para identificar as limitações de largura de banda, reduza a qualidade da textura e verifique se a taxa de quadros foi aprimorada.</span><span class="sxs-lookup"><span data-stu-id="d38a6-165">To identify bandwidth limitations, reduce texture quality and check if the framerate has improved.</span></span>
    - <span data-ttu-id="d38a6-166">No Unity, altere a **qualidade da textura** em **Editar**  >  **configurações do projeto**  >  **[configurações de qualidade](https://docs.unity3d.com/Manual/class-QualitySettings.html)**.</span><span class="sxs-lookup"><span data-stu-id="d38a6-166">In Unity, change **Texture Quality** in **Edit** > **Project Settings** > **[Quality Settings](https://docs.unity3d.com/Manual/class-QualitySettings.html)**.</span></span>
- <span data-ttu-id="d38a6-167">A **taxa de preenchimento** refere-se aos pixels que podem ser desenhados por segundo pela GPU.</span><span class="sxs-lookup"><span data-stu-id="d38a6-167">**Fill rate** refers to the pixels that can be drawn per second by the GPU.</span></span>
    - <span data-ttu-id="d38a6-168">Para identificar as limitações da taxa de preenchimento, reduza a resolução de vídeo e verifique se a taxa de quadros foi aprimorada.</span><span class="sxs-lookup"><span data-stu-id="d38a6-168">To identify fill rate limitations, lower the display resolution and check if framerate improved.</span></span> 
    - <span data-ttu-id="d38a6-169">No Unity, use a propriedade *[XRSettings. renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)*</span><span class="sxs-lookup"><span data-stu-id="d38a6-169">In Unity, use the  *[XRSettings.renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* property</span></span>

<span data-ttu-id="d38a6-170">A largura de banda de memória geralmente envolve otimizações para:</span><span class="sxs-lookup"><span data-stu-id="d38a6-170">Memory bandwidth generally involves optimizations to either:</span></span>
1) <span data-ttu-id="d38a6-171">Resoluções de textura inferiores</span><span class="sxs-lookup"><span data-stu-id="d38a6-171">Lower texture resolutions</span></span>
2) <span data-ttu-id="d38a6-172">Usar menos texturas (normais, especulares e assim por diante)</span><span class="sxs-lookup"><span data-stu-id="d38a6-172">Use fewer textures (normals, specular, and so on)</span></span>

<span data-ttu-id="d38a6-173">A taxa de preenchimento concentra-se na redução do número de operações que precisam ser computadas para um pixel renderizado final, incluindo:</span><span class="sxs-lookup"><span data-stu-id="d38a6-173">Fill rate is focused on reducing the number of operations that need to be computed for a final rendered pixel, including:</span></span>
1) <span data-ttu-id="d38a6-174">Número de objetos a serem renderizados/processados</span><span class="sxs-lookup"><span data-stu-id="d38a6-174">Number of objects to render/process</span></span>
2) <span data-ttu-id="d38a6-175">Número de operações por sombreador</span><span class="sxs-lookup"><span data-stu-id="d38a6-175">Number of operations per shader</span></span>
3) <span data-ttu-id="d38a6-176">Número de estágios de GPU para o resultado final (sombreadores de geometria, efeitos pós-processamento e assim por diante)</span><span class="sxs-lookup"><span data-stu-id="d38a6-176">Number of GPU stages to final result (geometry shaders, post-processing effects, and so on)</span></span>
4) <span data-ttu-id="d38a6-177">Número de pixels a serem renderizados (resolução de vídeo)</span><span class="sxs-lookup"><span data-stu-id="d38a6-177">Number of pixels to render (display resolution)</span></span>

#### <a name="reduce-polygon-count"></a><span data-ttu-id="d38a6-178">Reduzir contagem de polígonos</span><span class="sxs-lookup"><span data-stu-id="d38a6-178">Reduce polygon count</span></span>

<span data-ttu-id="d38a6-179">Contagens de polígono mais altas resultam em mais operações para a GPU, portanto, [reduzir o número de polígonos](/dynamics365/mixed-reality/import-tool/optimize-models#performance-targets) em sua cena reduz o tempo de renderização.</span><span class="sxs-lookup"><span data-stu-id="d38a6-179">Higher polygon counts result in more operations for the GPU, so [reducing the number of polygons](/dynamics365/mixed-reality/import-tool/optimize-models#performance-targets) in your scene reduces the render time.</span></span> <span data-ttu-id="d38a6-180">Há outros fatores que tornam o sombreamento caro da geometria, mas a contagem de polígonos é a métrica mais simples para determinar quanto trabalho será necessário para processar uma cena.</span><span class="sxs-lookup"><span data-stu-id="d38a6-180">There are other factors that make shading the geometry expensive, but polygon count is the simplest metric to determine how much work it will take to render a scene.</span></span>

#### <a name="limit-overdraw"></a><span data-ttu-id="d38a6-181">Limitar a sobreposição</span><span class="sxs-lookup"><span data-stu-id="d38a6-181">Limit overdraw</span></span>

<span data-ttu-id="d38a6-182">O alto sobreempate ocorre quando vários objetos são renderizados, mas não são mostrados na tela, pois estão ocultos por um objeto occluding.</span><span class="sxs-lookup"><span data-stu-id="d38a6-182">High overdraw occurs when multiple objects are rendered but not shown on screen as they're hidden by an occluding object.</span></span> <span data-ttu-id="d38a6-183">Imagine examinar uma parede que contém objetos por trás dela.</span><span class="sxs-lookup"><span data-stu-id="d38a6-183">Imagine looking at a wall that has objects behind it.</span></span> <span data-ttu-id="d38a6-184">Toda a geometria seria processada para renderização, mas apenas a parede opaca precisa ser renderizada, o que resulta em operações desnecessárias.</span><span class="sxs-lookup"><span data-stu-id="d38a6-184">All of the geometry would be processed for rendering, but only the opaque wall needs to be rendered, which results in unnecessary operations.</span></span>

#### <a name="shaders"></a><span data-ttu-id="d38a6-185">Sombreadores</span><span class="sxs-lookup"><span data-stu-id="d38a6-185">Shaders</span></span>

<span data-ttu-id="d38a6-186">Os sombreadores são programas pequenos que são executados na GPU e executam duas etapas importantes na renderização:</span><span class="sxs-lookup"><span data-stu-id="d38a6-186">Shaders are small programs that run on the GPU and do two important steps in rendering:</span></span>
1) <span data-ttu-id="d38a6-187">Determinando quais vértices devem ser desenhados e onde estão no espaço da tela (o sombreador de vértice)</span><span class="sxs-lookup"><span data-stu-id="d38a6-187">Determining which vertices should be drawn and where they are in screen space (the Vertex shader)</span></span>
    - <span data-ttu-id="d38a6-188">O sombreador de vértice é executado por vértice para cada malha.</span><span class="sxs-lookup"><span data-stu-id="d38a6-188">The Vertex shader is executed per vertex for every mesh.</span></span>
2) <span data-ttu-id="d38a6-189">Determinando a cor de cada pixel (o sombreador de pixel)</span><span class="sxs-lookup"><span data-stu-id="d38a6-189">Determining the color of each pixel (the Pixel shader)</span></span>
    - <span data-ttu-id="d38a6-190">O sombreador de pixel é executado por pixel e renderizado pela geometria para a textura de renderização de destino.</span><span class="sxs-lookup"><span data-stu-id="d38a6-190">The Pixel shader is executed per pixel and rendered by the geometry to the target render texture.</span></span>

<span data-ttu-id="d38a6-191">Normalmente, os sombreadores fazem muitas transformações e cálculos de iluminação.</span><span class="sxs-lookup"><span data-stu-id="d38a6-191">Typically, shaders do many transformations and lighting calculations.</span></span> <span data-ttu-id="d38a6-192">Embora modelos de iluminação complexos, sombras e outras operações possam gerar resultados fantásticos, eles também têm um preço.</span><span class="sxs-lookup"><span data-stu-id="d38a6-192">Although complex lighting models, shadows, and other operations can generate fantastic results, they also come with a price.</span></span> <span data-ttu-id="d38a6-193">Reduzir o número de operações computadas em sombreadores pode reduzir muito o trabalho necessário para a GPU por quadro.</span><span class="sxs-lookup"><span data-stu-id="d38a6-193">Reducing the number of operations computed in shaders can greatly reduce the work needed for the GPU per frame.</span></span>

##### <a name="shader-coding-recommendations"></a><span data-ttu-id="d38a6-194">Recomendações de codificação de sombreador</span><span class="sxs-lookup"><span data-stu-id="d38a6-194">Shader coding recommendations</span></span>

- <span data-ttu-id="d38a6-195">Use a filtragem biline, sempre que possível</span><span class="sxs-lookup"><span data-stu-id="d38a6-195">Use bilinear filtering, whenever possible</span></span>
- <span data-ttu-id="d38a6-196">Reorganize as expressões para usar os intrínsecos do MAD para fazer uma multiplicação e uma adição ao mesmo tempo</span><span class="sxs-lookup"><span data-stu-id="d38a6-196">Rearrange expressions to use MAD intrinsics to do a multiply and an add at the same time</span></span>
- <span data-ttu-id="d38a6-197">Precalcule o máximo possível na CPU e passe como constantes para o material</span><span class="sxs-lookup"><span data-stu-id="d38a6-197">Precalculate as much as possible on the CPU and pass as constants to the material</span></span>
- <span data-ttu-id="d38a6-198">**Favorecer operações de movimentação do sombreador de pixel para o sombreador de vértice**</span><span class="sxs-lookup"><span data-stu-id="d38a6-198">**Favor moving operations from the pixel shader to the vertex shader**</span></span>
    - <span data-ttu-id="d38a6-199">Em geral, o número de vértices é muito menor do que o número de pixels (720p é de 921.600 pixels, 1080p é de 2.073.600 pixels e assim por diante)</span><span class="sxs-lookup"><span data-stu-id="d38a6-199">Generally, the number of vertices is much smaller than the number of pixels (720p is 921,600 pixels, 1080p is 2,073,600 pixels, and so on)</span></span>

#### <a name="remove-gpu-stages"></a><span data-ttu-id="d38a6-200">Remover estágios de GPU</span><span class="sxs-lookup"><span data-stu-id="d38a6-200">Remove GPU stages</span></span>

<span data-ttu-id="d38a6-201">Os efeitos de pós-processamento podem ser caros e aumentar a taxa de preenchimento do seu aplicativo, incluindo técnicas de suavização de alias, como a MSAA.</span><span class="sxs-lookup"><span data-stu-id="d38a6-201">Post-processing effects can be expensive and increase the fill rate of your application, including anti-aliasing techniques like MSAA.</span></span> <span data-ttu-id="d38a6-202">No HoloLens, recomendamos evitar essas técnicas e outros estágios de sombreador, como Geometry, envoltória e sombreadores de computação.</span><span class="sxs-lookup"><span data-stu-id="d38a6-202">On HoloLens, we recommended avoiding these techniques and additional shader stages such as geometry, hull, and compute shaders.</span></span>

## <a name="memory-recommendations"></a><span data-ttu-id="d38a6-203">Recomendações de memória</span><span class="sxs-lookup"><span data-stu-id="d38a6-203">Memory recommendations</span></span>

<span data-ttu-id="d38a6-204">As operações de alocação e desalocação de memória excessivas podem resultar em desempenho inconsistente, quadros congelados e outros comportamentos prejudiciais.</span><span class="sxs-lookup"><span data-stu-id="d38a6-204">Excessive memory allocation and deallocation operations can result in inconsistent performance, frozen frames, and other detrimental behavior.</span></span> <span data-ttu-id="d38a6-205">É especialmente importante entender as considerações de memória ao desenvolver no Unity, pois o gerenciamento de memória é controlado pelo coletor de lixo.</span><span class="sxs-lookup"><span data-stu-id="d38a6-205">It's especially important to understand memory considerations when developing in Unity, since memory management is controlled by the garbage collector.</span></span>

#### <a name="object-pooling"></a><span data-ttu-id="d38a6-206">Pool de objetos</span><span class="sxs-lookup"><span data-stu-id="d38a6-206">Object pooling</span></span>

<span data-ttu-id="d38a6-207">O pool de objetos é uma técnica popular para reduzir o custo de alocações e desalocações contínuas de objetos.</span><span class="sxs-lookup"><span data-stu-id="d38a6-207">Object pooling is a popular technique to reduce the cost of continuous allocations and deallocations of objects.</span></span> <span data-ttu-id="d38a6-208">Isso é feito pela alocação de um grande pool de objetos idênticos e pela reutilização das instâncias disponíveis inativas desse pool em vez da criação e da destruição constantes de objetos ao longo do tempo.</span><span class="sxs-lookup"><span data-stu-id="d38a6-208">This is done by allocating a large pool of identical objects and reusing inactive, available instances from this pool instead of constantly spawning and destroying objects over time.</span></span> <span data-ttu-id="d38a6-209">Os pools de objetos são ótimos para componentes reutilizados que têm um tempo de vida variável durante um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d38a6-209">Object pools are great for reuseable components that have variable lifetime during an app.</span></span>

## <a name="see-also"></a><span data-ttu-id="d38a6-210">Confira também</span><span class="sxs-lookup"><span data-stu-id="d38a6-210">See also</span></span>
- [<span data-ttu-id="d38a6-211">Recomendações de desempenho para Unity</span><span class="sxs-lookup"><span data-stu-id="d38a6-211">Performance recommendations for Unity</span></span>](../unity/performance-recommendations-for-unity.md)
- [<span data-ttu-id="d38a6-212">Configurações recomendadas do Unity</span><span class="sxs-lookup"><span data-stu-id="d38a6-212">Recommended settings for Unity</span></span>](../unity/recommended-settings-for-unity.md)
- [<span data-ttu-id="d38a6-213">Recomendações de desempenho para o Unreal</span><span class="sxs-lookup"><span data-stu-id="d38a6-213">Performance recommendations for Unreal</span></span>](../unreal/performance-recommendations-for-unreal.md)
- [<span data-ttu-id="d38a6-214">Recomendações de material no Unreal</span><span class="sxs-lookup"><span data-stu-id="d38a6-214">Material recommendations in Unreal</span></span>](../unreal/unreal-materials.md)
- [<span data-ttu-id="d38a6-215">Otimizar modelos 3D</span><span class="sxs-lookup"><span data-stu-id="d38a6-215">Optimize 3D models</span></span>](/dynamics365/mixed-reality/import-tool/optimize-models#performance-targets)
- [<span data-ttu-id="d38a6-216">Práticas recomendadas para converter e otimizar modelos 3D em tempo real</span><span class="sxs-lookup"><span data-stu-id="d38a6-216">Best practices for converting and optimizing real-time 3D Models</span></span>](/dynamics365/mixed-reality/import-tool/best-practices)
- [<span data-ttu-id="d38a6-217">Diretrizes de desempenho para artistas e designers para não real</span><span class="sxs-lookup"><span data-stu-id="d38a6-217">Performance guidelines for artists and designers for Unreal</span></span>](https://docs.unrealengine.com/en-US/TestingAndOptimization/PerformanceAndProfiling/Guidelines/index.html)
- [<span data-ttu-id="d38a6-218">Práticas recomendadas VR para inreal</span><span class="sxs-lookup"><span data-stu-id="d38a6-218">VR best practices for Unreal</span></span>](https://docs.unrealengine.com/en-US/SharingAndReleasing/XRDevelopment/VR/DevelopVR/ContentSetup/index.html)