---
title: Captura de realidade misturada para desenvolvedores
description: Saiba mais sobre as práticas recomendadas para habilenciar, usar e renderizar a captura de realidade misturada para desenvolvedores.
author: mattzmsft
ms.author: mazeller
ms.date: 02/24/2019
ms.topic: article
keywords: mrc, photo, video, capture, camera
ms.openlocfilehash: ec1a53d2f623a8047c2ee1973d8d6f20458ade88
ms.sourcegitcommit: c65759b8d6465b6b13925cacab5af74443f7e6bd
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/15/2021
ms.locfileid: "112110248"
---
# <a name="mixed-reality-capture-for-developers"></a><span data-ttu-id="715ff-104">Captura de realidade misturada para desenvolvedores</span><span class="sxs-lookup"><span data-stu-id="715ff-104">Mixed reality capture for developers</span></span>

> [!NOTE]
> <span data-ttu-id="715ff-105">Consulte [Renderizar da câmera PV abaixo](#render-from-the-pv-camera-opt-in) para obter diretrizes sobre uma nova funcionalidade do MRC para HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="715ff-105">See [Render from the PV camera](#render-from-the-pv-camera-opt-in) below for guidance on a new MRC capability for HoloLens 2.</span></span>

<span data-ttu-id="715ff-106">Você pode tirar uma foto ou vídeo do MRC (Mixed [Reality Capture)](/hololens/holographic-photos-and-videos) a qualquer momento, mas há algumas coisas a ter em mente ao desenvolver seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="715ff-106">You can take a [mixed reality capture](/hololens/holographic-photos-and-videos) (MRC) photo or video at any time, but there are few things to keep in mind when developing your application.</span></span> <span data-ttu-id="715ff-107">Isso inclui as práticas recomendadas para a qualidade visual do MRC e a capacidade de responder às alterações do sistema enquanto os MRCs estão sendo capturados.</span><span class="sxs-lookup"><span data-stu-id="715ff-107">This includes best practices for MRC visual quality and being responsive to system changes while MRCs are being captured.</span></span>

<span data-ttu-id="715ff-108">Os desenvolvedores também podem integrar perfeitamente a captura e a inserção de realidade misturada em seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="715ff-108">Developers can also seamlessly integrate mixed reality capture and insertion into their apps.</span></span>

<span data-ttu-id="715ff-109">O MRC no HoloLens (primeira geração) dá suporte a vídeos e fotos de até 720p, enquanto o MRC no HoloLens 2 dá suporte a vídeos de até 1080p e fotos de até 4K de resolução.</span><span class="sxs-lookup"><span data-stu-id="715ff-109">MRC on HoloLens (first-generation) supports videos and photos up to 720p, while MRC on HoloLens 2 supports videos up to 1080p and photos up to 4K resolution.</span></span>

## <a name="the-importance-of-quality-mrc"></a><span data-ttu-id="715ff-110">A importância do MRC de qualidade</span><span class="sxs-lookup"><span data-stu-id="715ff-110">The importance of quality MRC</span></span>

<span data-ttu-id="715ff-111">Seja capturas de tela de realidade misturada em sua página Microsoft Store ou outros usuários que compartilham conteúdo de captura em redes sociais, Captura de Realidade Misturada mídia geralmente é uma primeira exposição dos usuários ao seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="715ff-111">Whether it's mixed reality screenshots on your Microsoft Store page or other users sharing capture content on social networks, Mixed Reality Capture media is often a users first exposure to your app.</span></span> <span data-ttu-id="715ff-112">Você pode usar o MRC para demonstração de seu aplicativo, instruir os usuários, incentivar os usuários a compartilhar suas interações de mundo misto e para pesquisa de usuários e solução de problemas.</span><span class="sxs-lookup"><span data-stu-id="715ff-112">You can use MRC to demo your app, educate users, encourage users to share their mixed world interactions, and for user research and problem solving.</span></span>

## <a name="how-mrc-impacts-your-app"></a><span data-ttu-id="715ff-113">Como o MRC afeta seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="715ff-113">How MRC impacts your app</span></span>

### <a name="enabling-mrc-in-your-app"></a><span data-ttu-id="715ff-114">Habilitando o MRC em seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="715ff-114">Enabling MRC in your app</span></span>

<span data-ttu-id="715ff-115">Por padrão, um aplicativo não precisa fazer nada para permitir que os usuários capturem realidade misturada.</span><span class="sxs-lookup"><span data-stu-id="715ff-115">By default, an app doesn't have to do anything to enable users to take mixed reality captures.</span></span>

### <a name="enabling-improved-alignment-for-mrc-in-your-app"></a><span data-ttu-id="715ff-116">Habilitando o alinhamento aprimorado para MRC em seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="715ff-116">Enabling improved alignment for MRC in your app</span></span>

<span data-ttu-id="715ff-117">Por padrão, a captura de realidade misturada combina a saída holográfica do olho direito com a câmera de foto/vídeo (PV).</span><span class="sxs-lookup"><span data-stu-id="715ff-117">By default, mixed reality capture combines the right eye's holographic output with the photo/video (PV) camera.</span></span> <span data-ttu-id="715ff-118">Essas duas fontes são combinadas usando o ponto de foco definido pelo aplicativo imersivo em execução no momento.</span><span class="sxs-lookup"><span data-stu-id="715ff-118">These two sources are combined using the focus point set by the currently running immersive app.</span></span>

<span data-ttu-id="715ff-119">Isso significa que os hologramas fora do plano de foco não serão alinhados devido à distância física entre a câmera PV e a exibição à direita.</span><span class="sxs-lookup"><span data-stu-id="715ff-119">This means that holograms outside the focus plane won't align because of the physical distance between the PV camera and the right display.</span></span>

#### <a name="set-the-focus-point"></a><span data-ttu-id="715ff-120">Definir o ponto de foco</span><span class="sxs-lookup"><span data-stu-id="715ff-120">Set the focus point</span></span>

<span data-ttu-id="715ff-121">Aplicativos imersivos (no HoloLens) [](../unity/focus-point-in-unity.md) devem definir o ponto de foco de onde eles querem que seu plano de estabilização seja.</span><span class="sxs-lookup"><span data-stu-id="715ff-121">Immersive apps (on HoloLens) should set the [focus point](../unity/focus-point-in-unity.md) of where they want their stabilization plane to be.</span></span> <span data-ttu-id="715ff-122">Isso garante o melhor alinhamento no headset e na captura de realidade misturada.</span><span class="sxs-lookup"><span data-stu-id="715ff-122">This ensures the best alignment in both the headset and in mixed reality capture.</span></span>

<span data-ttu-id="715ff-123">Se um ponto de foco não estiver definido, o plano de estabilização será padrão para 2 metros.</span><span class="sxs-lookup"><span data-stu-id="715ff-123">If a focus point isn't set, the stabilization plane will default to 2 meters.</span></span>

#### <a name="render-from-the-pv-camera-opt-in"></a><span data-ttu-id="715ff-124">Renderizar da câmera PV (aceitação)</span><span class="sxs-lookup"><span data-stu-id="715ff-124">Render from the PV camera (opt-in)</span></span>

<span data-ttu-id="715ff-125">O HoloLens 2 adiciona a capacidade de um aplicativo imersivo renderizar da câmera **PV** enquanto a captura de realidade misturada está em execução.</span><span class="sxs-lookup"><span data-stu-id="715ff-125">HoloLens 2 adds the ability for an immersive app to **render from the PV camera** while mixed reality capture is running.</span></span> <span data-ttu-id="715ff-126">Para garantir que o aplicativo dá suporte à renderização adicional corretamente, o aplicativo precisa optar por essa funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="715ff-126">To ensure the app supports the additional render correctly, the app has to opt in to this functionality.</span></span>

<span data-ttu-id="715ff-127">A renderização da câmera PV oferece as seguintes melhorias em relação à experiência de MRC padrão:</span><span class="sxs-lookup"><span data-stu-id="715ff-127">Render from the PV camera offers the following improvements over the default MRC experience:</span></span>
* <span data-ttu-id="715ff-128">O alinhamento do holograma para seu ambiente físico e mãos para interações próximas deve ser preciso em todas as distâncias.</span><span class="sxs-lookup"><span data-stu-id="715ff-128">Hologram alignment to your physical environment and hands for near interactions should be accurate at all distances.</span></span> <span data-ttu-id="715ff-129">Evite ter um deslocamento em distâncias que não seja o ponto de foco, como você pode ver no MRC padrão.</span><span class="sxs-lookup"><span data-stu-id="715ff-129">Avoid having an offset at distances other than the focus point as you might see in the default MRC.</span></span>
* <span data-ttu-id="715ff-130">O olho direito no headset não será comprometido, pois ele não será usado para renderizar os hologramas para a saída do MRC.</span><span class="sxs-lookup"><span data-stu-id="715ff-130">The right eye in the headset won't be compromised, as it won't be used to render the holograms for the MRC output.</span></span>

<span data-ttu-id="715ff-131">Há três etapas para habilitar a renderização da câmera PV:</span><span class="sxs-lookup"><span data-stu-id="715ff-131">There are three steps to enable rendering from the PV camera:</span></span>
1. <span data-ttu-id="715ff-132">Habilitar o PhotoVideoCamera HolographicViewConfiguration</span><span class="sxs-lookup"><span data-stu-id="715ff-132">Enable the PhotoVideoCamera HolographicViewConfiguration</span></span>
2. <span data-ttu-id="715ff-133">Manipular a renderização holographicCamera adicional</span><span class="sxs-lookup"><span data-stu-id="715ff-133">Handle the additional HolographicCamera render</span></span>
3. <span data-ttu-id="715ff-134">Verifique se os sombreadores e o código renderizaram corretamente deste HolographicCamera adicional</span><span class="sxs-lookup"><span data-stu-id="715ff-134">Verify your shaders and code render correctly from this additional HolographicCamera</span></span>

##### <a name="enable-the-photovideocamera-holographicviewconfiguration-in-directx"></a><span data-ttu-id="715ff-135">Habilitar o PhotoVideoCamera HolographicViewConfiguration no DirectX</span><span class="sxs-lookup"><span data-stu-id="715ff-135">Enable the PhotoVideoCamera HolographicViewConfiguration in DirectX</span></span>

<span data-ttu-id="715ff-136">Para optar pela renderização da Câmera PV, um aplicativo simplesmente habilita o [HolographicViewConfiguration](/uwp/api/Windows.Graphics.Holographic.HolographicViewConfiguration)do PhotoVideoCamera:</span><span class="sxs-lookup"><span data-stu-id="715ff-136">To opt in to rendering from the PV Camera, an app simply enables the PhotoVideoCamera's [HolographicViewConfiguration](/uwp/api/Windows.Graphics.Holographic.HolographicViewConfiguration):</span></span>
```csharp
var display = Windows.Graphics.Holographic.HolographicDisplay.GetDefault();
var view = display.TryGetViewConfiguration(Windows.Graphics.Holographic.HolographicViewConfigurationKind.PhotoVideoCamera);
if (view != null)
{
    view.IsEnabled = true;
}
```

##### <a name="handle-the-additional-holographiccamera-render-in-directx"></a><span data-ttu-id="715ff-137">Manipular a renderização holographicCamera adicional no DirectX</span><span class="sxs-lookup"><span data-stu-id="715ff-137">Handle the additional HolographicCamera render in DirectX</span></span>

<span data-ttu-id="715ff-138">Quando o aplicativo tiver aceitação para renderizar da câmera PV e a captura de realidade misturada for iniciada:</span><span class="sxs-lookup"><span data-stu-id="715ff-138">When the app has opt-in to render from the PV camera and mixed reality capture starts:</span></span>
1. <span data-ttu-id="715ff-139">O evento CameraAdded do HolographicSpace será ativos.</span><span class="sxs-lookup"><span data-stu-id="715ff-139">HolographicSpace's CameraAdded event will fire.</span></span> <span data-ttu-id="715ff-140">Esse evento poderá ser adiado se o aplicativo não puder lidar com a câmera no momento.</span><span class="sxs-lookup"><span data-stu-id="715ff-140">This event can be deferred if the app can't handle the camera at this time.</span></span>
2. <span data-ttu-id="715ff-141">Depois que o evento tiver sido concluído sem adiamentos pendentes, o HolographicCamera aparecerá na próxima lista AddedCameras do HolographicFrame.</span><span class="sxs-lookup"><span data-stu-id="715ff-141">Once the event has completed with no outstanding deferrals, the HolographicCamera will appear in the next HolographicFrame's AddedCameras list.</span></span>

<span data-ttu-id="715ff-142">Quando a captura de realidade misturada for interrompida (ou se o aplicativo desabilitar a configuração de exibição enquanto a captura de realidade misturada estiver em execução): o HolographicCamera aparecerá na próxima lista RemoveCameras do HolographicFrame e o evento CameraRemoved do HolographicSpace será açado.</span><span class="sxs-lookup"><span data-stu-id="715ff-142">When mixed reality capture stops (or if the app disables the view configuration while mixed reality capture is running): the HolographicCamera will appear in the next HolographicFrame's RemovedCameras list and the HolographicSpace's CameraRemoved event will fire.</span></span>

<span data-ttu-id="715ff-143">Uma [propriedade ViewConfiguration](/uwp/api/windows.graphics.holographic.holographiccamera.viewconfiguration) foi adicionada ao HolographicCamera para ajudar a identificar a configuração à qual uma câmera pertence.</span><span class="sxs-lookup"><span data-stu-id="715ff-143">A [ViewConfiguration](/uwp/api/windows.graphics.holographic.holographiccamera.viewconfiguration) property has been added to HolographicCamera to help identify the configuration a camera belongs to.</span></span>

##### <a name="enable-the-photovideocamera-holographicviewconfiguration-in-unity"></a><span data-ttu-id="715ff-144">Habilitar o PhotoVideoCamera HolographicViewConfiguration no Unity</span><span class="sxs-lookup"><span data-stu-id="715ff-144">Enable the PhotoVideoCamera HolographicViewConfiguration in Unity</span></span>

> [!NOTE]
> <span data-ttu-id="715ff-145">Se você estiver usando o Unity 2018, isso exigirá **o Unity 2018.4.13f1** ou mais novo.</span><span class="sxs-lookup"><span data-stu-id="715ff-145">If you're using Unity 2018, this requires **Unity 2018.4.13f1** or newer.</span></span> <span data-ttu-id="715ff-146">Se você estiver usando o Unity 2019, isso exigirá **o Unity 2019.4** ou mais novo.</span><span class="sxs-lookup"><span data-stu-id="715ff-146">If you're using Unity 2019, this requires **Unity 2019.4**, or newer.</span></span>

<span data-ttu-id="715ff-147">Para optar pela renderização da Câmera PV ao usar [](/windows/mixed-reality/mrtk-unity/features/camera-system/windows-mixed-reality-camera-settings) o Kit de Ferramentas de Realidade Misturada, [](https://microsoft.github.io/MixedRealityToolkit-Unity/README.html)habilita o provedor de Configurações da Câmera Windows Mixed Reality e marque Renderizar da Câmera **PV.**</span><span class="sxs-lookup"><span data-stu-id="715ff-147">To opt in to rendering from the PV Camera when using the [Mixed Reality Toolkit](https://microsoft.github.io/MixedRealityToolkit-Unity/README.html), enable the [Windows Mixed Reality Camera Settings](/windows/mixed-reality/mrtk-unity/features/camera-system/windows-mixed-reality-camera-settings) provider and check **Render from PV Camera**.</span></span>

<span data-ttu-id="715ff-148">Se você não estiver usando o Kit de Ferramentas de Realidade Misturada, poderá usar um componente para optar [manualmente,](#enable-the-photovideocamera-holographicviewconfiguration-in-directx) conforme descrito acima para o DirectX.</span><span class="sxs-lookup"><span data-stu-id="715ff-148">If you're not using the Mixed Reality Toolkit, you can use a component to [manually opt-in](#enable-the-photovideocamera-holographicviewconfiguration-in-directx) as described above for DirectX.</span></span>

##### <a name="handle-the-additional-holographiccamera-render-in-unity"></a><span data-ttu-id="715ff-149">Manipular a renderização holographicCamera adicional no Unity</span><span class="sxs-lookup"><span data-stu-id="715ff-149">Handle the additional HolographicCamera render in Unity</span></span>

<span data-ttu-id="715ff-150">Isso é feito automaticamente pelo Unity.</span><span class="sxs-lookup"><span data-stu-id="715ff-150">This is done for you automatically by Unity.</span></span>

##### <a name="enable-the-photovideocamera-holographicviewconfiguration-in-unreal"></a><span data-ttu-id="715ff-151">Habilitar o PhotoVideoCamera HolographicViewConfiguration no Unreal</span><span class="sxs-lookup"><span data-stu-id="715ff-151">Enable the PhotoVideoCamera HolographicViewConfiguration in Unreal</span></span>

> [!NOTE]
> <span data-ttu-id="715ff-152">Isso requer o **Unreal Engine 4.25** ou posterior.</span><span class="sxs-lookup"><span data-stu-id="715ff-152">This requires **Unreal Engine 4.25** or newer.</span></span>

<span data-ttu-id="715ff-153">Para aceitar a renderização por meio da Câmera de PV:</span><span class="sxs-lookup"><span data-stu-id="715ff-153">To opt in to rendering from the PV Camera:</span></span>

1. <span data-ttu-id="715ff-154">Chamar **SetEnabledMixedRealityCamera** e **ResizeMixedRealityCamera**</span><span class="sxs-lookup"><span data-stu-id="715ff-154">Call **SetEnabledMixedRealityCamera** and **ResizeMixedRealityCamera**</span></span>
    * <span data-ttu-id="715ff-155">Use os valores de **Tamanho X** e **Tamanho Y** para definir as dimensões do vídeo.</span><span class="sxs-lookup"><span data-stu-id="715ff-155">Use the **Size X** and **Size Y** values to set the video dimensions.</span></span>

![Terceira câmera](images/unreal-camera-3rd.PNG)

##### <a name="handle-the-additional-holographiccamera-render-in-unreal"></a><span data-ttu-id="715ff-157">Manipular a renderização holographicCamera adicional no Unreal</span><span class="sxs-lookup"><span data-stu-id="715ff-157">Handle the additional HolographicCamera render in Unreal</span></span>

<span data-ttu-id="715ff-158">Isso é feito automaticamente pelo Unreal.</span><span class="sxs-lookup"><span data-stu-id="715ff-158">This is done for you automatically by Unreal.</span></span>

##### <a name="verify-shaders-and-code-support-additional-cameras"></a><span data-ttu-id="715ff-159">Verificar sombreadores e código com suporte a câmeras adicionais</span><span class="sxs-lookup"><span data-stu-id="715ff-159">Verify shaders and code support additional cameras</span></span>

<span data-ttu-id="715ff-160">Execute uma captura de realidade misturada e verifique se há alinhamento incomum, conteúdo ausente ou problemas de desempenho.</span><span class="sxs-lookup"><span data-stu-id="715ff-160">Run a mixed reality capture and check for unusual alignment, missing content, or performance issues.</span></span> <span data-ttu-id="715ff-161">Atualize sombreadores e código conforme apropriado.</span><span class="sxs-lookup"><span data-stu-id="715ff-161">Update shaders and code as appropriate.</span></span>

<span data-ttu-id="715ff-162">Se houver determinadas cenas que não podem dar suporte à renderização para uma câmera adicional, você poderá desabilitar o HolographicViewConfiguration do PhotoVideoCamera.</span><span class="sxs-lookup"><span data-stu-id="715ff-162">If there are certain scenes that can't support rendering to an additional camera, you can disable the PhotoVideoCamera's HolographicViewConfiguration.</span></span>

### <a name="disabling-mrc-in-your-app"></a><span data-ttu-id="715ff-163">Desabilitando o MRC em seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="715ff-163">Disabling MRC in your app</span></span>

#### <a name="2d-app"></a><span data-ttu-id="715ff-164">Aplicativo 2D</span><span class="sxs-lookup"><span data-stu-id="715ff-164">2D app</span></span>

<span data-ttu-id="715ff-165">Os aplicativos 2D podem optar por ter seu conteúdo visual obscurecido quando a captura de realidade misturada estiver em execução:</span><span class="sxs-lookup"><span data-stu-id="715ff-165">2D apps can choose to have their visual content obscured when mixed reality capture is running by:</span></span>
* <span data-ttu-id="715ff-166">Presente com o [sinalizador DXGI_PRESENT_RESTRICT_TO_OUTPUT](/windows/desktop/direct3ddxgi/dxgi-present) de dados</span><span class="sxs-lookup"><span data-stu-id="715ff-166">Present with the [DXGI_PRESENT_RESTRICT_TO_OUTPUT](/windows/desktop/direct3ddxgi/dxgi-present) flag</span></span>
* <span data-ttu-id="715ff-167">Criar a cadeia de permuta do aplicativo com o [sinalizador DXGI_SWAP_CHAIN_FLAG_HW_PROTECTED](/windows/desktop/api/dxgi/ne-dxgi-dxgi_swap_chain_flag) aplicativo</span><span class="sxs-lookup"><span data-stu-id="715ff-167">Create the app's swap chain with the [DXGI_SWAP_CHAIN_FLAG_HW_PROTECTED](/windows/desktop/api/dxgi/ne-dxgi-dxgi_swap_chain_flag) flag</span></span>
* <span data-ttu-id="715ff-168">Com o Atualização de maio de 2019 para o Windows 10, definindo [IsScreenCaptureEnabled](/uwp/api/windows.ui.viewmanagement.applicationview.isscreencaptureenabled) do ApplicationView</span><span class="sxs-lookup"><span data-stu-id="715ff-168">With the Windows 10 May 2019 Update, setting ApplicationView's [IsScreenCaptureEnabled](/uwp/api/windows.ui.viewmanagement.applicationview.isscreencaptureenabled)</span></span>

#### <a name="immersive-app"></a><span data-ttu-id="715ff-169">Aplicativo imersivo</span><span class="sxs-lookup"><span data-stu-id="715ff-169">Immersive app</span></span>

<span data-ttu-id="715ff-170">Os aplicativos imersivos podem optar por ter seu conteúdo visual excluído da captura de realidade misturada:</span><span class="sxs-lookup"><span data-stu-id="715ff-170">Immersive apps can choose to have their visual content excluded from mixed reality capture by:</span></span>
* <span data-ttu-id="715ff-171">Definindo [IsContentProtectionEnabled](/uwp/api/windows.graphics.holographic.holographiccamerarenderingparameters.iscontentprotectionenabled) de HolographicCameraRenderingParameter para desabilitar a captura de realidade misturada para seu quadro associado</span><span class="sxs-lookup"><span data-stu-id="715ff-171">Setting HolographicCameraRenderingParameter's [IsContentProtectionEnabled](/uwp/api/windows.graphics.holographic.holographiccamerarenderingparameters.iscontentprotectionenabled) to disable mixed reality capture for its associated frame</span></span>
* <span data-ttu-id="715ff-172">Definindo [IsHardwareContentProtectionEnabled](/uwp/api/windows.graphics.holographic.holographiccamera.ishardwarecontentprotectionenabled) da HolographicCamera para desabilitar a captura de realidade misturada para sua câmera holográfica associada</span><span class="sxs-lookup"><span data-stu-id="715ff-172">Setting HolographicCamera's [IsHardwareContentProtectionEnabled](/uwp/api/windows.graphics.holographic.holographiccamera.ishardwarecontentprotectionenabled) to disable mixed reality capture for its associated holographic camera</span></span>

#### <a name="password-keyboard"></a><span data-ttu-id="715ff-173">Teclado de senha</span><span class="sxs-lookup"><span data-stu-id="715ff-173">Password Keyboard</span></span>

<span data-ttu-id="715ff-174">Com o Atualização de maio de 2019 para o Windows 10, o conteúdo visual é excluído automaticamente da captura de realidade misturada quando uma senha ou teclado de pino está visível.</span><span class="sxs-lookup"><span data-stu-id="715ff-174">With the Windows 10 May 2019 Update, visual content is automatically excluded from mixed reality capture when a password or pin keyboard is visible.</span></span>

### <a name="knowing-when-mrc-is-active"></a><span data-ttu-id="715ff-175">Saber quando o MRC está ativo</span><span class="sxs-lookup"><span data-stu-id="715ff-175">Knowing when MRC is active</span></span>

<span data-ttu-id="715ff-176">A [classe AppCapture](/uwp/api/Windows.Media.Capture.AppCapture) pode ser usada por um aplicativo para saber quando a captura de realidade misturada do sistema está em execução (para áudio ou vídeo).</span><span class="sxs-lookup"><span data-stu-id="715ff-176">The [AppCapture](/uwp/api/Windows.Media.Capture.AppCapture) class can be used by an app to know when system mixed reality capture is running (for either audio or video).</span></span>

>[!NOTE]
><span data-ttu-id="715ff-177">A API [GetForCurrentView](/uwp/api/windows.media.capture.appcapture.getforcurrentview) do AppCapture poderá retornar nulo se a captura de realidade misturada não estiver disponível no dispositivo.</span><span class="sxs-lookup"><span data-stu-id="715ff-177">AppCapture's [GetForCurrentView](/uwp/api/windows.media.capture.appcapture.getforcurrentview) API can return null if mixed reality capture isn't available on the device.</span></span> <span data-ttu-id="715ff-178">Também é importante des registrar o evento CapturingChanged quando seu aplicativo é suspenso, caso contrário, o MRC pode entrar em um estado bloqueado.</span><span class="sxs-lookup"><span data-stu-id="715ff-178">It's also important to de-register the CapturingChanged event when your app is suspended, otherwise MRC can get into a blocked state.</span></span>

### <a name="best-practices-hololens-specific"></a><span data-ttu-id="715ff-179">Práticas recomendadas (específicas do HoloLens)</span><span class="sxs-lookup"><span data-stu-id="715ff-179">Best practices (HoloLens-specific)</span></span>

<span data-ttu-id="715ff-180">Espera-se que o MRC funcione sem esforço de desenvolvimento adicional, mas há algumas coisas a serem cientes ao fornecer a melhor experiência de captura de realidade misturada.</span><span class="sxs-lookup"><span data-stu-id="715ff-180">MRC is expected to work without additional development effort, but there are a few things to be aware of when providing the best mixed reality capture experience.</span></span>

<span data-ttu-id="715ff-181">**O MRC usa o canal alfa do holograma para combinar com a [imagem da](locatable-camera.md) câmera**</span><span class="sxs-lookup"><span data-stu-id="715ff-181">**MRC uses the hologram’s alpha channel to blend with the [camera](locatable-camera.md) imagery**</span></span>

<span data-ttu-id="715ff-182">A etapa mais importante é certificar-se de que seu aplicativo está limpando para preto transparente em vez de limpar para preto opaco.</span><span class="sxs-lookup"><span data-stu-id="715ff-182">The most important step is to make sure your app is clearing to transparent black instead of clearing to opaque black.</span></span> <span data-ttu-id="715ff-183">No Unity, isso é feito por padrão com o MixedRealityToolkit.</span><span class="sxs-lookup"><span data-stu-id="715ff-183">In Unity, this is done by default with the MixedRealityToolkit.</span></span> <span data-ttu-id="715ff-184">Se você estiver desenvolvendo no não Unity, talvez seja necessário fazer uma alteração de linha.</span><span class="sxs-lookup"><span data-stu-id="715ff-184">If you're developing in non-Unity, you may need to make a one line change.</span></span>

<span data-ttu-id="715ff-185">Aqui estão alguns dos artefatos que você poderá ver no MRC se seu aplicativo não estiver desobstruindo para preto transparente:</span><span class="sxs-lookup"><span data-stu-id="715ff-185">Here are some of the artifacts you might see in MRC if your app isn't clearing to transparent black:</span></span>

<span data-ttu-id="715ff-186">**Falhas de exemplo:** bordas pretas ao redor do conteúdo (falha ao limpar para preto transparente)</span><span class="sxs-lookup"><span data-stu-id="715ff-186">**Example Failures**: Black edges around the content (failing to clear to transparent black)</span></span>

<table>
<tr>
<td>
<img src="images/chessboardblackedges-300px.jpg" alt="Failure to clear to transparent black: black edge artifacts around holograms"/>
</td>
<td>
<img src="images/fieldblackedges-300px.jpg" alt="Failing to clear to transparent black: black edge artifacts around holograms"/>
</td>
</tr>
</table>

<span data-ttu-id="715ff-187">**Exemplo de falhas:** toda a cena em segundo plano do holograma aparece preta.</span><span class="sxs-lookup"><span data-stu-id="715ff-187">**Example Failures**: The entire background scene of the hologram appears black.</span></span> <span data-ttu-id="715ff-188">Definir um valor alfa em segundo plano de um resulta em um plano de fundo preto</span><span class="sxs-lookup"><span data-stu-id="715ff-188">Setting a background alpha value of one results in a black background</span></span>

![Definir um valor alfa em segundo plano de 1 resulta em um plano de fundo preto](images/clearopaqueblack-300px.png)

<span data-ttu-id="715ff-190">**Resultado esperado:** os hologramas aparecem corretamente mesclados com o mundo real (resultado esperado se estiver limpando para preto transparente)</span><span class="sxs-lookup"><span data-stu-id="715ff-190">**Expected Result**: Holograms appear properly blended with the real-world (expected result if clearing to transparent black)</span></span>

![Resultado esperado se estiver limpando para preto transparente](images/cleartransparentblack-300px.png)

<span data-ttu-id="715ff-192">**Solução**:</span><span class="sxs-lookup"><span data-stu-id="715ff-192">**Solution**:</span></span>
* <span data-ttu-id="715ff-193">Altere qualquer conteúdo que aparece como preto opaco para ter um valor alfa de 0.</span><span class="sxs-lookup"><span data-stu-id="715ff-193">Change any content that is showing up as opaque black to have an alpha value of 0.</span></span>
* <span data-ttu-id="715ff-194">Verifique se o aplicativo está limpando para preto transparente.</span><span class="sxs-lookup"><span data-stu-id="715ff-194">Ensure that the app is clearing to transparent black.</span></span>
* <span data-ttu-id="715ff-195">O Unity assume como padrão limpar automaticamente com o MixedRealityToolkit, mas se for um aplicativo não Unity, você deverá modificar a cor usada com ID3D11DeiceContext::ClearRenderTargetView().</span><span class="sxs-lookup"><span data-stu-id="715ff-195">Unity defaults to clear automatically with the MixedRealityToolkit, but if it’s a non-Unity app you should modify the color used with ID3D11DeiceContext::ClearRenderTargetView().</span></span> <span data-ttu-id="715ff-196">Você deseja garantir que você limpe para preto transparente (0,0,0,0) em vez de preto opaco (0,0,0,1).</span><span class="sxs-lookup"><span data-stu-id="715ff-196">You want to ensure you clear to transparent black (0,0,0,0) instead of opaque black (0,0,0,1).</span></span>

<span data-ttu-id="715ff-197">Agora você pode ajustar os valores alfa de seus ativos se quiser, mas normalmente não é necessário.</span><span class="sxs-lookup"><span data-stu-id="715ff-197">You can now tune the alpha values of your assets if you’d like, but typically don’t need to.</span></span> <span data-ttu-id="715ff-198">Na maioria das vezes, os MRCs terão uma boa aparência.</span><span class="sxs-lookup"><span data-stu-id="715ff-198">Most of the time, MRCs will look good out of the box.</span></span> <span data-ttu-id="715ff-199">O MRC assume alfa pré-multiplicado.</span><span class="sxs-lookup"><span data-stu-id="715ff-199">MRC assumes pre-multiplied alpha.</span></span> <span data-ttu-id="715ff-200">Os valores alfa afetarão apenas a captura do MRC.</span><span class="sxs-lookup"><span data-stu-id="715ff-200">The alpha values will only affect the MRC capture.</span></span>

### <a name="what-to-expect-when-mrc-is-enabled-on-hololens"></a><span data-ttu-id="715ff-201">O que esperar quando o MRC estiver habilitado no HoloLens</span><span class="sxs-lookup"><span data-stu-id="715ff-201">What to expect when MRC is enabled on HoloLens</span></span>

<span data-ttu-id="715ff-202">O seguinte se aplica ao HoloLens (primeira geração) e ao HoloLens 2, a menos que seja notado de outra forma:</span><span class="sxs-lookup"><span data-stu-id="715ff-202">The following apply to both HoloLens (first-generation) and HoloLens 2, unless otherwise noted:</span></span>

* <span data-ttu-id="715ff-203">O sistema irá acelerar o aplicativo para renderização de 30 Hz.</span><span class="sxs-lookup"><span data-stu-id="715ff-203">The system will throttle the application to 30-Hz rendering.</span></span> <span data-ttu-id="715ff-204">Isso cria algum espaço de trabalho para que o MRC seja executado para que o aplicativo não precise manter uma reserva de orçamento constante e também corresponde à taxa de quadros de registro de vídeo mrc de 30 fps</span><span class="sxs-lookup"><span data-stu-id="715ff-204">This creates some headroom for MRC to run so the app doesn’t need to keep a constant budget reserve and also matches the MRC video record framerate of 30 fps</span></span>
* <span data-ttu-id="715ff-205">O conteúdo do holograma no olho direito do dispositivo pode parecer "inativo" ao gravar/transmitir MRC: o texto pode se tornar mais difícil de ler e as bordas do holograma podem parecer mais desajustadas (optar pela terceira renderização de câmera no **HoloLens 2** evita esse comprometimento)</span><span class="sxs-lookup"><span data-stu-id="715ff-205">Hologram content in the right eye of the device may appear to “sparkle” when recording/streaming MRC: text may become more difficult to read and hologram edges may appear more jaggy (opting in to third camera render on **HoloLens 2** avoids this compromise)</span></span>
* <span data-ttu-id="715ff-206">Fotos e vídeos do MRC [](../unity/focus-point-in-unity.md) respeitarão o ponto de foco do aplicativo se o aplicativo o habilitar, o que ajudará a garantir que os hologramas sejam posicionados com precisão.</span><span class="sxs-lookup"><span data-stu-id="715ff-206">MRC photos and videos will respect the application’s [focus point](../unity/focus-point-in-unity.md) if the application has enabled it, which will help ensure holograms are accurately positioned.</span></span> <span data-ttu-id="715ff-207">Para vídeos, o Ponto de Foco é suavizado para que os hologramas possam parecer se desafocar lentamente se a profundidade do Ponto de Foco mudar significativamente.</span><span class="sxs-lookup"><span data-stu-id="715ff-207">For videos, the Focus Point is smoothed so holograms may appear to slowly drift into place if the Focus Point depth changes significantly.</span></span> <span data-ttu-id="715ff-208">Hologramas que estão em profundidades diferentes do ponto de foco podem parecer deslocamentos do mundo real (veja o exemplo abaixo em que o Ponto de Foco está definido em 2 metros, mas o holograma está posicionado a 1 medidor).</span><span class="sxs-lookup"><span data-stu-id="715ff-208">Holograms that are at different depths from the focus point may appear offset from the real world (see example below where Focus Point is set at 2 meters but hologram is positioned at 1 meter).</span></span>

![Hologramas a 2 metros aparecerão perfeitamente registrados para o mundo.](images/hologramaccuracydistancemrc-1000px.png)

## <a name="integrating-mrc-functionality-from-within-your-app"></a><span data-ttu-id="715ff-211">Integrando a funcionalidade do MRC de dentro do seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="715ff-211">Integrating MRC functionality from within your app</span></span>

<span data-ttu-id="715ff-212">Seu aplicativo de realidade misturada pode iniciar a captura de fotos ou vídeos do MRC de dentro do aplicativo e o conteúdo capturado é disponibilizado para seu aplicativo sem ser armazenado no "Rolo de câmera" do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="715ff-212">Your mixed reality app can start MRC photo or video capture from within the app, and the content captured is made available to your app without being stored to the device's "Camera roll."</span></span> <span data-ttu-id="715ff-213">Você pode criar um gravador personalizado do MRC ou aproveitar a interface do usuário de captura de câmera.</span><span class="sxs-lookup"><span data-stu-id="715ff-213">You can create a custom MRC recorder or take advantage of built-in camera capture UI.</span></span> 

### <a name="mrc-with-built-in-camera-ui"></a><span data-ttu-id="715ff-214">MRC com interface do usuário da câmera</span><span class="sxs-lookup"><span data-stu-id="715ff-214">MRC with built-in camera UI</span></span>

<span data-ttu-id="715ff-215">Os desenvolvedores podem usar a API de *[interface](/windows/uwp/audio-video-camera/capture-photos-and-video-with-cameracaptureui)* do usuário de Captura de Câmera para obter uma foto ou vídeo de realidade misturada capturada pelo usuário com apenas algumas linhas de código.</span><span class="sxs-lookup"><span data-stu-id="715ff-215">Developers can use the *[Camera Capture UI API](/windows/uwp/audio-video-camera/capture-photos-and-video-with-cameracaptureui)* to get a user-captured mixed reality photo or video with just a few lines of code.</span></span>

<span data-ttu-id="715ff-216">Essa API inicia a interface do usuário interna da câmera mrc em que os usuários podem tirar uma foto ou um vídeo e retorna a captura resultante para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="715ff-216">This API launches the built-in MRC camera UI where users can take a photo or video and returns the resulting capture to your app.</span></span> <span data-ttu-id="715ff-217">Você pode criar um gravador Captura de Realidade Misturada personalizado se precisar adicionar sua própria interface do usuário da câmera ou acesso de nível inferior para capturar fluxos.</span><span class="sxs-lookup"><span data-stu-id="715ff-217">You can create a custom Mixed Reality Capture recorder if you need to add your own camera UI or lower-level access to capture streams.</span></span>

### <a name="creating-a-custom-mrc-recorder"></a><span data-ttu-id="715ff-218">Criando um gravador personalizado do MRC</span><span class="sxs-lookup"><span data-stu-id="715ff-218">Creating a custom MRC recorder</span></span>

<span data-ttu-id="715ff-219">Embora o usuário sempre possa disparar uma foto ou vídeo usando o serviço de captura mrc do sistema, um aplicativo pode querer criar um aplicativo de câmera personalizado que inclua hologramas no fluxo de câmera, assim como o MRC.</span><span class="sxs-lookup"><span data-stu-id="715ff-219">While the user can always trigger a photo or video using the system MRC capture service, an application may want to build a custom camera app that include holograms in the camera stream just like MRC.</span></span> <span data-ttu-id="715ff-220">Isso permite que o aplicativo inicialize capturas da entrada do usuário, crie uma interface do usuário de gravação personalizada ou personalize as configurações do MRC para nomear alguns exemplos.</span><span class="sxs-lookup"><span data-stu-id="715ff-220">This allows the application to kick off captures from user input, build custom recording UI, or customize MRC settings to name a few examples.</span></span>

<span data-ttu-id="715ff-221">**O HoloStudio adiciona uma câmera MRC personalizada usando efeitos de MRC**</span><span class="sxs-lookup"><span data-stu-id="715ff-221">**HoloStudio adds a custom MRC camera using MRC effects**</span></span>

![O HoloStudio adiciona uma câmera MRC personalizada usando efeitos de MRC](images/cameraiconholostudio-300px.jpg)

<span data-ttu-id="715ff-223">Os aplicativos unity [devem Locatable_camera_in_Unity](../unity/locatable-camera-in-unity.md) para a propriedade para habilitar hologramas.</span><span class="sxs-lookup"><span data-stu-id="715ff-223">Unity Applications should see [Locatable_camera_in_Unity](../unity/locatable-camera-in-unity.md) for the property to enable holograms.</span></span>

<span data-ttu-id="715ff-224">Outros aplicativos podem fazer isso usando as [APIs](/uwp/api/Windows.Media.Capture.MediaCapture) do Windows Media Capture para controlar a Câmera e adicionar um efeito mrc video and Audio para incluir hologramas virtuais e áudio do aplicativo em imagens e vídeos.</span><span class="sxs-lookup"><span data-stu-id="715ff-224">Other applications can do this by using the [Windows Media Capture APIs](/uwp/api/Windows.Media.Capture.MediaCapture) to control the Camera and add an MRC Video and Audio effect to include virtual holograms and application audio in stills and videos.</span></span>

<span data-ttu-id="715ff-225">Os aplicativos têm duas opções para adicionar o efeito:</span><span class="sxs-lookup"><span data-stu-id="715ff-225">Applications have two options to add the effect:</span></span>
* <span data-ttu-id="715ff-226">A API mais antiga: [Windows.Media.Capture.MediaCapture.AddEffectAsync()](/uwp/api/windows.media.capture.mediacapture.addeffectasync)</span><span class="sxs-lookup"><span data-stu-id="715ff-226">The older API: [Windows.Media.Capture.MediaCapture.AddEffectAsync()](/uwp/api/windows.media.capture.mediacapture.addeffectasync)</span></span>
* <span data-ttu-id="715ff-227">A nova API recomendada da Microsoft (retorna um objeto , possibilitando manipular propriedades dinâmicas): [Windows.Media.Capture.MediaCapture.AddVideoEffectAsync()](/uwp/api/windows.media.capture.mediacapture.addvideoeffectasync)  /  [Windows.Media.Capture.MediaCapture.AddAudioEffectAsync()](/uwp/api/windows.media.capture.mediacapture.addaudioeffectasync) que exigem que o aplicativo crie sua própria implementação de [IVideoEffectDefinition](/uwp/api/Windows.Media.Effects.IVideoEffectDefinition) [e IAudioEffectDefinition](/uwp/api/windows.media.effects.iaudioeffectdefinition).</span><span class="sxs-lookup"><span data-stu-id="715ff-227">The new Microsoft recommended API (returns an object, making it possible to manipulate dynamic properties): [Windows.Media.Capture.MediaCapture.AddVideoEffectAsync()](/uwp/api/windows.media.capture.mediacapture.addvideoeffectasync) / [Windows.Media.Capture.MediaCapture.AddAudioEffectAsync()](/uwp/api/windows.media.capture.mediacapture.addaudioeffectasync) which require the app create its own implementation of [IVideoEffectDefinition](/uwp/api/Windows.Media.Effects.IVideoEffectDefinition) and [IAudioEffectDefinition](/uwp/api/windows.media.effects.iaudioeffectdefinition).</span></span> <span data-ttu-id="715ff-228">Consulte o [aplicativo de exemplo mrc](https://github.com/microsoft/Windows-universal-samples/tree/master/Samples/HolographicMixedRealityCapture) para ver exemplos.</span><span class="sxs-lookup"><span data-stu-id="715ff-228">See the [MRC sample app](https://github.com/microsoft/Windows-universal-samples/tree/master/Samples/HolographicMixedRealityCapture) for examples.</span></span>

>[!NOTE]
> <span data-ttu-id="715ff-229">O namespace Windows.Media.MixedRealityCapture não será reconhecido pelo Visual Studio, mas as cadeias de caracteres ainda são válidas.</span><span class="sxs-lookup"><span data-stu-id="715ff-229">The Windows.Media.MixedRealityCapture namespace will not be recognized by Visual Studio, but the strings are still valid.</span></span>

<span data-ttu-id="715ff-230">Efeito de vídeo mrc (**Windows.Media.MixedRealityCapture.MixedRealityCaptureVideoEffect**)</span><span class="sxs-lookup"><span data-stu-id="715ff-230">MRC Video Effect (**Windows.Media.MixedRealityCapture.MixedRealityCaptureVideoEffect**)</span></span>

|  <span data-ttu-id="715ff-231">Nome da propriedade</span><span class="sxs-lookup"><span data-stu-id="715ff-231">Property Name</span></span>  |  <span data-ttu-id="715ff-232">Type</span><span class="sxs-lookup"><span data-stu-id="715ff-232">Type</span></span>  |  <span data-ttu-id="715ff-233">Valor padrão</span><span class="sxs-lookup"><span data-stu-id="715ff-233">Default Value</span></span>  |  <span data-ttu-id="715ff-234">Descrição</span><span class="sxs-lookup"><span data-stu-id="715ff-234">Description</span></span> |
|----------|----------|----------|----------|
|  <span data-ttu-id="715ff-235">StreamType</span><span class="sxs-lookup"><span data-stu-id="715ff-235">StreamType</span></span>  |  <span data-ttu-id="715ff-236">UINT32 ([MediaStreamType](/uwp/api/Windows.Media.Capture.MediaStreamType))</span><span class="sxs-lookup"><span data-stu-id="715ff-236">UINT32 ([MediaStreamType](/uwp/api/Windows.Media.Capture.MediaStreamType))</span></span>  |  <span data-ttu-id="715ff-237">1 (VideoRecord)</span><span class="sxs-lookup"><span data-stu-id="715ff-237">1 (VideoRecord)</span></span>  |  <span data-ttu-id="715ff-238">Descrever para qual fluxo de captura esse efeito é usado.</span><span class="sxs-lookup"><span data-stu-id="715ff-238">Describe which capture stream this effect is used for.</span></span> <span data-ttu-id="715ff-239">O áudio não está disponível.</span><span class="sxs-lookup"><span data-stu-id="715ff-239">Audio isn't available.</span></span> |
|  <span data-ttu-id="715ff-240">HologramCompositionEnabled</span><span class="sxs-lookup"><span data-stu-id="715ff-240">HologramCompositionEnabled</span></span>  |  <span data-ttu-id="715ff-241">booleano</span><span class="sxs-lookup"><span data-stu-id="715ff-241">boolean</span></span>  |  <span data-ttu-id="715ff-242">TRUE</span><span class="sxs-lookup"><span data-stu-id="715ff-242">TRUE</span></span>  |  <span data-ttu-id="715ff-243">Sinalizador para habilitar ou desabilitar hologramas na captura de vídeo.</span><span class="sxs-lookup"><span data-stu-id="715ff-243">Flag to enable or disable holograms in video capture.</span></span> |
|  <span data-ttu-id="715ff-244">RecordingIndicatorEnabled</span><span class="sxs-lookup"><span data-stu-id="715ff-244">RecordingIndicatorEnabled</span></span>  |  <span data-ttu-id="715ff-245">booleano</span><span class="sxs-lookup"><span data-stu-id="715ff-245">boolean</span></span>  |  <span data-ttu-id="715ff-246">TRUE</span><span class="sxs-lookup"><span data-stu-id="715ff-246">TRUE</span></span>  |  <span data-ttu-id="715ff-247">Sinalizador para habilitar ou desabilitar o indicador de gravação na tela durante a captura do holograma.</span><span class="sxs-lookup"><span data-stu-id="715ff-247">Flag to enable or disable recording indicator on screen during hologram capturing.</span></span> |
|  <span data-ttu-id="715ff-248">VideoStabilizationEnabled</span><span class="sxs-lookup"><span data-stu-id="715ff-248">VideoStabilizationEnabled</span></span>  |  <span data-ttu-id="715ff-249">booleano</span><span class="sxs-lookup"><span data-stu-id="715ff-249">boolean</span></span>  |  <span data-ttu-id="715ff-250">FALSE</span><span class="sxs-lookup"><span data-stu-id="715ff-250">FALSE</span></span>  |  <span data-ttu-id="715ff-251">Sinalizador para habilitar ou desabilitar a estabilização de vídeo ativada pelo rastreador do HoloLens.</span><span class="sxs-lookup"><span data-stu-id="715ff-251">Flag to enable or disable video stabilization powered by the HoloLens tracker.</span></span> |
|  <span data-ttu-id="715ff-252">VideoStabilizationBufferLength</span><span class="sxs-lookup"><span data-stu-id="715ff-252">VideoStabilizationBufferLength</span></span>  |  <span data-ttu-id="715ff-253">UINT32</span><span class="sxs-lookup"><span data-stu-id="715ff-253">UINT32</span></span>  |  <span data-ttu-id="715ff-254">0</span><span class="sxs-lookup"><span data-stu-id="715ff-254">0</span></span>  |  <span data-ttu-id="715ff-255">Definir quantos quadros históricos são usados para estabilização de vídeo.</span><span class="sxs-lookup"><span data-stu-id="715ff-255">Set how many historical frames are used for video stabilization.</span></span> <span data-ttu-id="715ff-256">0 é de 0 latência e quase "livre" de uma perspectiva de energia e desempenho.</span><span class="sxs-lookup"><span data-stu-id="715ff-256">0 is 0-latency and nearly "free" from a power and performance perspective.</span></span> <span data-ttu-id="715ff-257">15 é recomendado para a mais alta qualidade (ao custo de 15 quadros de latência e memória).</span><span class="sxs-lookup"><span data-stu-id="715ff-257">15 is recommended for highest quality (at the cost of 15 frames of latency and memory).</span></span> |
|  <span data-ttu-id="715ff-258">GlobalOpacityCoefficient</span><span class="sxs-lookup"><span data-stu-id="715ff-258">GlobalOpacityCoefficient</span></span>  |  <span data-ttu-id="715ff-259">FLOAT</span><span class="sxs-lookup"><span data-stu-id="715ff-259">float</span></span>  |  <span data-ttu-id="715ff-260">0.9 (HoloLens) 1.0 (headset imersivo)</span><span class="sxs-lookup"><span data-stu-id="715ff-260">0.9 (HoloLens) 1.0 (Immersive headset)</span></span>  |  <span data-ttu-id="715ff-261">Definir coeficiente de opacidade global do holograma no intervalo de 0,0 (totalmente transparente) para 1,0 (totalmente opaco).</span><span class="sxs-lookup"><span data-stu-id="715ff-261">Set global opacity coefficient of hologram in range from 0.0 (fully transparent) to 1.0 (fully opaque).</span></span> |
|  <span data-ttu-id="715ff-262">BlankOnProtectedContent</span><span class="sxs-lookup"><span data-stu-id="715ff-262">BlankOnProtectedContent</span></span>  |  <span data-ttu-id="715ff-263">booleano</span><span class="sxs-lookup"><span data-stu-id="715ff-263">boolean</span></span>  |  <span data-ttu-id="715ff-264">FALSE</span><span class="sxs-lookup"><span data-stu-id="715ff-264">FALSE</span></span>  |  <span data-ttu-id="715ff-265">Sinalizador para habilitar ou desabilitar o retorno de um quadro vazio se houver um aplicativo UWP 2d mostrando conteúdo protegido.</span><span class="sxs-lookup"><span data-stu-id="715ff-265">Flag to enable or disable returning an empty frame if there's a 2d UWP app showing protected content.</span></span> <span data-ttu-id="715ff-266">Se esse sinalizador for false e um aplicativo UWP 2d estiver mostrando conteúdo protegido, o aplicativo UWP 2d será substituído por uma textura de conteúdo protegido no headset e na captura de realidade misturada.</span><span class="sxs-lookup"><span data-stu-id="715ff-266">If this flag is false and a 2d UWP app is showing protected content, the 2d UWP app will be replaced by a protected content texture in both the headset and in the mixed reality capture.</span></span> |
|  <span data-ttu-id="715ff-267">ShowHiddenMesh</span><span class="sxs-lookup"><span data-stu-id="715ff-267">ShowHiddenMesh</span></span>  |  <span data-ttu-id="715ff-268">booleano</span><span class="sxs-lookup"><span data-stu-id="715ff-268">boolean</span></span>  |  <span data-ttu-id="715ff-269">FALSE</span><span class="sxs-lookup"><span data-stu-id="715ff-269">FALSE</span></span>  |  <span data-ttu-id="715ff-270">Sinalizador para habilitar ou desabilitar mostrando a malha de área oculta da câmera holográfica e o conteúdo vizinho.</span><span class="sxs-lookup"><span data-stu-id="715ff-270">Flag to enable or disable showing the holographic camera's hidden area mesh and neighboring content.</span></span> |
| <span data-ttu-id="715ff-271">OutputSize</span><span class="sxs-lookup"><span data-stu-id="715ff-271">OutputSize</span></span> | <span data-ttu-id="715ff-272">Tamanho</span><span class="sxs-lookup"><span data-stu-id="715ff-272">Size</span></span> | <span data-ttu-id="715ff-273">0, 0</span><span class="sxs-lookup"><span data-stu-id="715ff-273">0, 0</span></span> | <span data-ttu-id="715ff-274">Definir o tamanho de saída desejado após o corte para estabilização de vídeo.</span><span class="sxs-lookup"><span data-stu-id="715ff-274">Set the desired output size after cropping for video stabilization.</span></span> <span data-ttu-id="715ff-275">Um tamanho de corte padrão será escolhido se 0 ou um tamanho de saída inválido for especificado.</span><span class="sxs-lookup"><span data-stu-id="715ff-275">A default crop size is chosen if 0 or an invalid output size is specified.</span></span> |
| <span data-ttu-id="715ff-276">PreferredHologramPerspective</span><span class="sxs-lookup"><span data-stu-id="715ff-276">PreferredHologramPerspective</span></span> | <span data-ttu-id="715ff-277">UINT32</span><span class="sxs-lookup"><span data-stu-id="715ff-277">UINT32</span></span> | <span data-ttu-id="715ff-278">**Renderizar da configuração** câmera no Portal de Dispositivos do Windows</span><span class="sxs-lookup"><span data-stu-id="715ff-278">**Render from Camera** setting in the Windows Device Portal</span></span> | <span data-ttu-id="715ff-279">Enum usado para indicar qual configuração de exibição de câmera holográfica deve ser capturada: 0 (Exibição) significa que o aplicativo não será solicitado a renderizar da câmera de foto/vídeo; 1 (PhotoVideoCamera) solicitará que o aplicativo renderizar da câmera de foto/vídeo (se o aplicativo dá suporte a ele).</span><span class="sxs-lookup"><span data-stu-id="715ff-279">Enum used to indicate which holographic camera view configuration should be captured: 0 (Display) means that the app won't be asked to render from the photo/video camera, 1 (PhotoVideoCamera) will ask the app to render from the photo/video camera (if the app supports it).</span></span> <span data-ttu-id="715ff-280">Somente com suporte no HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="715ff-280">Only supported on HoloLens 2</span></span> |

>[!NOTE]
> <span data-ttu-id="715ff-281">Você pode alterar o valor padrão **de PreferredHologramPerspective** no Portal de Dispositivos do Windows indo para a página [Captura de Realidade Misturada e](using-the-windows-device-portal.md#mixed-reality-capture) desmarcando **Renderizar da Câmera.**</span><span class="sxs-lookup"><span data-stu-id="715ff-281">You can change the default value of **PreferredHologramPerspective** in the Windows Device Portal by going to the [Mixed Reality Capture page](using-the-windows-device-portal.md#mixed-reality-capture) and unchecking **Render from Camera**.</span></span> <span data-ttu-id="715ff-282">A configuração assume como **padrão 1 (PhotoVideoCamera),** mas pode ser desmarcada para defini-la **como 0 (Exibição)**.</span><span class="sxs-lookup"><span data-stu-id="715ff-282">The setting defaults to **1 (PhotoVideoCamera)**, but can be unchecked to set it to **0 (Display)**.</span></span>
>
> <span data-ttu-id="715ff-283">O valor padrão **de PreferredHologramPerspective** era **0 (Exibição)** antes da atualização de junho de 2020 (Windows Holographic, versão 2004 build 19041.1106 e Windows Holographic, versão 1903 build 18362.1064).</span><span class="sxs-lookup"><span data-stu-id="715ff-283">The default value of **PreferredHologramPerspective** was **0 (Display)** prior to the June 2020 update (Windows Holographic, version 2004 build 19041.1106 and Windows Holographic, version 1903 build 18362.1064).</span></span>

<span data-ttu-id="715ff-284">Efeito de áudio MRC (**Windows.Media.MixedRealityCapture.MixedRealityCaptureAudioEffect**)</span><span class="sxs-lookup"><span data-stu-id="715ff-284">MRC Audio Effect (**Windows.Media.MixedRealityCapture.MixedRealityCaptureAudioEffect**)</span></span>

| <span data-ttu-id="715ff-285">Nome da propriedade</span><span class="sxs-lookup"><span data-stu-id="715ff-285">Property Name</span></span> | <span data-ttu-id="715ff-286">Type</span><span class="sxs-lookup"><span data-stu-id="715ff-286">Type</span></span> | <span data-ttu-id="715ff-287">Valor padrão</span><span class="sxs-lookup"><span data-stu-id="715ff-287">Default Value</span></span> | <span data-ttu-id="715ff-288">Descrição</span><span class="sxs-lookup"><span data-stu-id="715ff-288">Description</span></span> |
|----------|----------|----------|----------|
| <span data-ttu-id="715ff-289">MixerMode</span><span class="sxs-lookup"><span data-stu-id="715ff-289">MixerMode</span></span> | <span data-ttu-id="715ff-290">UINT32</span><span class="sxs-lookup"><span data-stu-id="715ff-290">UINT32</span></span> | <span data-ttu-id="715ff-291">2 (microfone e áudio do sistema)</span><span class="sxs-lookup"><span data-stu-id="715ff-291">2 (Mic and System audio)</span></span> | <span data-ttu-id="715ff-292">Enum usado para indicar quais fontes de áudio devem ser usadas: 0 (somente áudio de microfone), 1 (somente áudio do sistema), 2 (microfone e áudio do sistema)</span><span class="sxs-lookup"><span data-stu-id="715ff-292">Enum used to indicate which audio sources should be used: 0 (Mic audio only), 1 (System audio only), 2 (Mic and System audio)</span></span> |
| <span data-ttu-id="715ff-293">LoopbackGain</span><span class="sxs-lookup"><span data-stu-id="715ff-293">LoopbackGain</span></span> | <span data-ttu-id="715ff-294">FLOAT</span><span class="sxs-lookup"><span data-stu-id="715ff-294">float</span></span> | <span data-ttu-id="715ff-295">**Configuração ganho de** áudio do aplicativo no Portal de Dispositivos do Windows</span><span class="sxs-lookup"><span data-stu-id="715ff-295">**App Audio Gain** setting in the Windows Device Portal</span></span> | <span data-ttu-id="715ff-296">Obtenha a aplicação ao volume de áudio do sistema.</span><span class="sxs-lookup"><span data-stu-id="715ff-296">Gain to apply to system audio volume.</span></span> <span data-ttu-id="715ff-297">Varia de 0,0 a 5,0.</span><span class="sxs-lookup"><span data-stu-id="715ff-297">Ranges from 0.0 to 5.0.</span></span> <span data-ttu-id="715ff-298">Somente com suporte no HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="715ff-298">Only supported on HoloLens 2</span></span> |
| <span data-ttu-id="715ff-299">MicrophoneGain</span><span class="sxs-lookup"><span data-stu-id="715ff-299">MicrophoneGain</span></span> | <span data-ttu-id="715ff-300">FLOAT</span><span class="sxs-lookup"><span data-stu-id="715ff-300">float</span></span> | <span data-ttu-id="715ff-301">Configuração de **lucro de áudio do MIC** no portal do dispositivo Windows</span><span class="sxs-lookup"><span data-stu-id="715ff-301">**Mic Audio Gain** setting in the Windows Device Portal</span></span> | <span data-ttu-id="715ff-302">Obter para aplicar ao volume do MIC.</span><span class="sxs-lookup"><span data-stu-id="715ff-302">Gain to apply to mic volume.</span></span> <span data-ttu-id="715ff-303">Varia de 0,0 a 5,0.</span><span class="sxs-lookup"><span data-stu-id="715ff-303">Ranges from 0.0 to 5.0.</span></span> <span data-ttu-id="715ff-304">Somente com suporte no HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="715ff-304">Only supported on HoloLens 2</span></span> |

>[!NOTE]
> <span data-ttu-id="715ff-305">Você pode alterar o valor padrão de **LoopbackGain** ou **MicrophoneGain** no portal do dispositivo Windows acessando a [página de captura da realidade misturada](using-the-windows-device-portal.md#mixed-reality-capture) e ajustando o controle deslizante ao lado de suas respectivas configurações.</span><span class="sxs-lookup"><span data-stu-id="715ff-305">You can change the default value of **LoopbackGain** or **MicrophoneGain** in the Windows Device Portal by going to the [Mixed Reality Capture page](using-the-windows-device-portal.md#mixed-reality-capture) and adjusting the slider next to their respective settings.</span></span> <span data-ttu-id="715ff-306">Ambas as configurações assumem como padrão **1,0**, mas podem ser definidas como qualquer valor entre **0,0** e **5,0**.</span><span class="sxs-lookup"><span data-stu-id="715ff-306">Both settings default to **1.0**, but can be set to any value between **0.0** and **5.0**.</span></span>
>
> <span data-ttu-id="715ff-307">O uso do portal de dispositivos do Windows para configurar os valores de obter padrão foi adicionado com a atualização de junho de 2020 (Windows Holographic, versão 2004 Build 19041,1106 e Windows Holographic, versão 1903 Build 18362,1064).</span><span class="sxs-lookup"><span data-stu-id="715ff-307">Using Windows Device Portal to configure the default gain values was added with the June 2020 update (Windows Holographic, version 2004 build 19041.1106 and Windows Holographic, version 1903 build 18362.1064).</span></span>

### <a name="simultaneous-mrc-limitations"></a><span data-ttu-id="715ff-308">Limitações de MRC simultâneas</span><span class="sxs-lookup"><span data-stu-id="715ff-308">Simultaneous MRC limitations</span></span>

<span data-ttu-id="715ff-309">Você precisa estar ciente de determinadas limitações quando vários aplicativos estão acessando a MRC ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="715ff-309">You need to be aware of certain limitations when multiple apps are accessing MRC at the same time.</span></span>

#### <a name="photovideo-camera-access"></a><span data-ttu-id="715ff-310">Acesso à câmera de foto/vídeo</span><span class="sxs-lookup"><span data-stu-id="715ff-310">Photo/video camera access</span></span>

<span data-ttu-id="715ff-311">No HoloLens 1, a MRC falhará em capturar um vídeo de foto ou captura enquanto um processo estiver gravando vídeo ou tirando uma foto.</span><span class="sxs-lookup"><span data-stu-id="715ff-311">On HoloLens 1, MRC will fail to capture a photo or capture video while a process is recording video or taking a photo.</span></span> <span data-ttu-id="715ff-312">O inverso também é verdadeiro: se a MRC estiver em execução, o aplicativo não conseguirá obter acesso à câmera.</span><span class="sxs-lookup"><span data-stu-id="715ff-312">The reverse is also true: if MRC is running, the application will fail to get access to the camera.</span></span> 

<span data-ttu-id="715ff-313">Com o HoloLens 2, é possível compartilhar o acesso à câmera.</span><span class="sxs-lookup"><span data-stu-id="715ff-313">With HoloLens 2, it's possible for you to share access to the camera.</span></span> <span data-ttu-id="715ff-314">Se você não precisar de controle direto da resolução ou da taxa de quadros, poderá inicializar MediaCapture usando a [Propriedade sharedmode](/uwp/api/windows.media.capture.mediacaptureinitializationsettings.sharingmode?view=winrt-19041) com SharedReadOnly.</span><span class="sxs-lookup"><span data-stu-id="715ff-314">If you don't need direct control of the resolution or frame-rate, you can initialize MediaCapture using the [SharedMode property](/uwp/api/windows.media.capture.mediacaptureinitializationsettings.sharingmode?view=winrt-19041) with SharedReadOnly.</span></span>  

##### <a name="built-in-mrc-photovideo-camera-access"></a><span data-ttu-id="715ff-315">Acesso interno à câmera de fotos/vídeo da MRC</span><span class="sxs-lookup"><span data-stu-id="715ff-315">Built-in MRC photo/video camera access</span></span>

<span data-ttu-id="715ff-316">Funcionalidade da MRC incorporada ao Windows 10 (via Cortana, menu Iniciar, atalhos de hardware, Miracast, portal de dispositivos Windows):</span><span class="sxs-lookup"><span data-stu-id="715ff-316">MRC functionality built into Windows 10 (via Cortana, Start Menu, hardware shortcuts, Miracast, Windows Device Portal):</span></span>

* <span data-ttu-id="715ff-317">Será executado com ExclusiveControl por padrão</span><span class="sxs-lookup"><span data-stu-id="715ff-317">Will run with ExclusiveControl by default</span></span>

<span data-ttu-id="715ff-318">No entanto, o suporte foi adicionado ao subsistema da MRC para operar em um modo compartilhado:</span><span class="sxs-lookup"><span data-stu-id="715ff-318">However, support has been added to MRC subsystem to operate in a shared mode:</span></span> 

* <span data-ttu-id="715ff-319">Se um aplicativo solicitar acesso ExclusiveControl à câmera de foto/vídeo, a MRC interna interromperá automaticamente o uso da câmera de foto/vídeo para que a solicitação do aplicativo seja realizada com sucesso</span><span class="sxs-lookup"><span data-stu-id="715ff-319">If an app requests ExclusiveControl access to the photo/video camera, built-in MRC will automatically stop using the photo/video camera so the app's request will succeed</span></span> 
* <span data-ttu-id="715ff-320">Se a MRC interna for iniciada enquanto um aplicativo tiver ExclusiveControl, a MRC interna será executada no modo SharedReadOnly</span><span class="sxs-lookup"><span data-stu-id="715ff-320">If built in MRC is started while an app has ExclusiveControl, built-in MRC will run in SharedReadOnly mode</span></span> 

<span data-ttu-id="715ff-321">Essa funcionalidade de modo compartilhado tem determinadas restrições:</span><span class="sxs-lookup"><span data-stu-id="715ff-321">This shared mode functionality has certain restrictions:</span></span>

* <span data-ttu-id="715ff-322">Foto via Cortana, atalhos de hardware ou menu iniciar: requer a atualização do Windows 10 de abril de 2018 (ou posterior)</span><span class="sxs-lookup"><span data-stu-id="715ff-322">Photo via Cortana, hardware shortcuts, or Start Menu: Requires the Windows 10 April 2018 Update (or later)</span></span>
* <span data-ttu-id="715ff-323">Vídeo via Cortana, atalhos de hardware ou menu iniciar: requer a atualização do Windows 10 de abril de 2018 (ou posterior)</span><span class="sxs-lookup"><span data-stu-id="715ff-323">Video via Cortana, hardware shortcuts, or Start Menu: Requires the Windows 10 April 2018 Update (or later)</span></span>
* <span data-ttu-id="715ff-324">Streaming de MRC sobre Miracast: requer a atualização do Windows 10 de outubro de 2018 (ou posterior)</span><span class="sxs-lookup"><span data-stu-id="715ff-324">Streaming MRC over Miracast: Requires the Windows 10 October 2018 Update (or later)</span></span>
* <span data-ttu-id="715ff-325">Streaming de MRC no portal de dispositivo do Windows ou por meio do aplicativo de complemento do HoloLens: requer o HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="715ff-325">Streaming MRC over Windows Device Portal or via the HoloLens companion app: Requires HoloLens 2</span></span>

>[!NOTE]
> <span data-ttu-id="715ff-326">A resolução e a taxa de quadros da interface do usuário da câmera da MRC interna podem ser reduzidas de seus valores normais quando outro aplicativo estiver usando a câmera de foto/vídeo.</span><span class="sxs-lookup"><span data-stu-id="715ff-326">The resolution and frame-rate of the built-in MRC camera UI might be reduced from its normal values when another app is using the photo/video camera.</span></span>

#### <a name="mrc-access-for-developers"></a><span data-ttu-id="715ff-327">Acesso da MRC para desenvolvedores</span><span class="sxs-lookup"><span data-stu-id="715ff-327">MRC access for developers</span></span>

<span data-ttu-id="715ff-328">Recomendamos que você sempre solicite controle exclusivo para a câmera ao usar a MRC.</span><span class="sxs-lookup"><span data-stu-id="715ff-328">We recommend you always request Exclusive control for the camera when using MRC.</span></span> <span data-ttu-id="715ff-329">Isso garantirá que seu aplicativo tenha controle total das configurações da câmera, contanto que você esteja ciente das limitações listadas acima.</span><span class="sxs-lookup"><span data-stu-id="715ff-329">This will ensure your application has full control of the settings for the camera as long as you're aware of the limitations listed above.</span></span> 

* <span data-ttu-id="715ff-330">Criar um objeto de captura de mídia usando as [configurações de inicialização](/uwp/api/windows.media.capture.mediacaptureinitializationsettings?view=winrt-19041)</span><span class="sxs-lookup"><span data-stu-id="715ff-330">Create a media capture object using the [initialization settings](/uwp/api/windows.media.capture.mediacaptureinitializationsettings?view=winrt-19041)</span></span>
* <span data-ttu-id="715ff-331">Definir a propriedade [sharingmode](/uwp/api/windows.media.capture.mediacaptureinitializationsettings.sharingmode?view=winrt-19041#Windows_Media_Capture_MediaCaptureInitializationSettings_SharingMode) como **exclusiva**</span><span class="sxs-lookup"><span data-stu-id="715ff-331">Set the [SharingMode](/uwp/api/windows.media.capture.mediacaptureinitializationsettings.sharingmode?view=winrt-19041#Windows_Media_Capture_MediaCaptureInitializationSettings_SharingMode) property to **exclusive**</span></span>

> [!CAUTION]
> <span data-ttu-id="715ff-332">Lembre-se de ler atentamente os [comentários de sharingmode](/uwp/api/windows.media.capture.mediacaptureinitializationsettings.sharingmode?view=winrt-19041#remarks) antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="715ff-332">Be sure to carefully read the [SharingMode remarks](/uwp/api/windows.media.capture.mediacaptureinitializationsettings.sharingmode?view=winrt-19041#remarks) before continuing.</span></span>

* <span data-ttu-id="715ff-333">Configure sua câmera da maneira desejada</span><span class="sxs-lookup"><span data-stu-id="715ff-333">Set up your camera the way you want it</span></span>
* <span data-ttu-id="715ff-334">Inicie o aplicativo, Capture quadros de vídeo com a API inicial e, em seguida, habilite a MRC</span><span class="sxs-lookup"><span data-stu-id="715ff-334">Start the app, capture video frames with the start API, then enable MRC</span></span>

> [!CAUTION]
> <span data-ttu-id="715ff-335">Se você iniciar a MRC antes de iniciar seu aplicativo, não será possível garantir que o recurso funcionará conforme o esperado.</span><span class="sxs-lookup"><span data-stu-id="715ff-335">If you start MRC before you start your app, we can't guarantee the feature will work as expected.</span></span>

<span data-ttu-id="715ff-336">Você pode encontrar uma amostra completa do processo acima no exemplo de [acompanhamento facial do Holographic](/samples/microsoft/windows-universal-samples/holographicfacetracking).</span><span class="sxs-lookup"><span data-stu-id="715ff-336">You can find a full sample of the above process in the [holographic face tracking sample](/samples/microsoft/windows-universal-samples/holographicfacetracking).</span></span>

> [!NOTE]
> <span data-ttu-id="715ff-337">Antes da atualização do Windows 10 de abril de 2018, o gravador da MRC personalizada de um aplicativo era mutuamente exclusivo com o sistema da MRC (capturando fotos, capturando vídeos ou transmitindo do portal de dispositivos do Windows).</span><span class="sxs-lookup"><span data-stu-id="715ff-337">Before the Windows 10 April 2018 Update, an app's custom MRC recorder was mutually exclusive with system MRC (capturing photos, capturing videos, or streaming from the Windows Device Portal).</span></span>

## <a name="see-also"></a><span data-ttu-id="715ff-338">Confira também</span><span class="sxs-lookup"><span data-stu-id="715ff-338">See also</span></span>

* [<span data-ttu-id="715ff-339">Captura de realidade mista</span><span class="sxs-lookup"><span data-stu-id="715ff-339">Mixed reality capture</span></span>](/hololens/holographic-photos-and-videos)
* [<span data-ttu-id="715ff-340">Modo de exibição Espectador</span><span class="sxs-lookup"><span data-stu-id="715ff-340">Spectator view</span></span>](spectator-view.md)
* [<span data-ttu-id="715ff-341">Visão geral do desenvolvimento do Unity</span><span class="sxs-lookup"><span data-stu-id="715ff-341">Unity Development Overview</span></span>](../unity/unity-development-overview.md)
* [<span data-ttu-id="715ff-342">Visão geral do desenvolvimento do Unreal</span><span class="sxs-lookup"><span data-stu-id="715ff-342">Unreal development overview</span></span>](../unreal/unreal-development-overview.md)
