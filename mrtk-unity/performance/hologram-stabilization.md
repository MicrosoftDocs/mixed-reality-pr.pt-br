---
title: Estabilização do holograma
description: Desempenho de hologramas em diferentes condições de ambiente e taxa de quadros.
author: keveleigh
ms.author: kurtie
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, Realidade Misturada, desenvolvimento, MRTK, Acompanhamento de ambiente, TMP,
ms.openlocfilehash: 7aab167f2d850a4bca88a2cc40aae4f3cc50fb4b
ms.sourcegitcommit: f338b1f121a10577bcce08a174e462cdc86d5874
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/01/2021
ms.locfileid: "113176486"
---
# <a name="hologram-stabilization"></a><span data-ttu-id="1d7a6-104">Estabilização do holograma</span><span class="sxs-lookup"><span data-stu-id="1d7a6-104">Hologram stabilization</span></span>

## <a name="performance"></a><span data-ttu-id="1d7a6-105">Desempenho</span><span class="sxs-lookup"><span data-stu-id="1d7a6-105">Performance</span></span>

<span data-ttu-id="1d7a6-106">Para que a plataforma de realidade misturada subjacente e o dispositivo produzam os melhores resultados, é importante obter taxas de quadros de desempenho.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-106">In order for the underlying mixed reality platform and device to produce the best results, it is important to achieve performing frame rates.</span></span> <span data-ttu-id="1d7a6-107">A taxa de quadros de destino (por ex. 60 FPS ou 90 FPS) variará entre plataformas e dispositivos.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-107">The target framerate (ex: 60 FPS or 90 FPS) will vary across platforms and devices.</span></span> <span data-ttu-id="1d7a6-108">No entanto, os aplicativos de realidade misturada que atenderem à taxa de quadros terão hologramas estáveis, bem como acompanhamento de cabeça eficiente, acompanhamento de mão e muito mais.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-108">However, mixed reality applications meeting framerate will have stable holograms as well as efficient head tracking, hand tracking and more.</span></span>  

## <a name="environment-tracking"></a><span data-ttu-id="1d7a6-109">Acompanhamento de ambiente</span><span class="sxs-lookup"><span data-stu-id="1d7a6-109">Environment tracking</span></span>

<span data-ttu-id="1d7a6-110">A renderização holográfica estável depende muito do acompanhamento de pose de cabeça pela plataforma & dispositivo.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-110">Stable holographic rendering heavily relies on head-pose tracking by the platform & device.</span></span> <span data-ttu-id="1d7a6-111">O Unity renderizará a cena a cada quadro da câmera, que são estimados e fornecidos pela plataforma subjacente.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-111">Unity will render the scene every frame from the camera pose estimated and supplied by the underlying platform.</span></span> <span data-ttu-id="1d7a6-112">Se esse acompanhamento não seguir corretamente o movimento real da cabeça, os hologramas aparecerão visualmente imprecisos.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-112">If this tracking does not correctly follow actual head movement, then holograms will appear visually inaccurate.</span></span> <span data-ttu-id="1d7a6-113">Isso é especialmente evidente e importante para dispositivos AR como HoloLens em que os usuários podem relacionar hologramas virtuais ao mundo real.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-113">This is especially evident and important for AR devices like HoloLens where users can relate virtual holograms to the real world.</span></span> <span data-ttu-id="1d7a6-114">O desempenho é significativo para o acompanhamento de cabeça confiável, mas também [pode haver outros](/windows/mixed-reality/environment-considerations-for-hololens)recursos importantes.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-114">Performance is significant for reliable head tracking, but there can be [other important features](/windows/mixed-reality/environment-considerations-for-hololens), as well.</span></span> <span data-ttu-id="1d7a6-115">Os tipos de elementos de ambiente que impactam a experiência do usuário dependerão das especificações da plataforma de alvo.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-115">The types of environment elements impacting user experience will depend on the targeted platform specifics.</span></span>

## <a name="windows-mixed-reality"></a><span data-ttu-id="1d7a6-116">Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="1d7a6-116">Windows Mixed Reality</span></span>

<span data-ttu-id="1d7a6-117">A Windows Mixed Reality de dados fornece algum [material de referência](/windows/mixed-reality/hologram-stability) para estabilizar hologramas na plataforma.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-117">The Windows Mixed Reality platform provides some [reference material](/windows/mixed-reality/hologram-stability) for stabilizing holograms on the platform.</span></span> <span data-ttu-id="1d7a6-118">No entanto, há algumas ferramentas importantes que os desenvolvedores podem utilizar para melhorar a experiência visual do holograma para os usuários.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-118">There are a handful of key tools though that developers can utilize to improve the hologram visual experience for users.</span></span>

### <a name="depth-buffer-sharing"></a><span data-ttu-id="1d7a6-119">Compartilhamento de buffer de profundidade</span><span class="sxs-lookup"><span data-stu-id="1d7a6-119">Depth buffer sharing</span></span>

<span data-ttu-id="1d7a6-120">Os desenvolvedores do Unity têm a opção de compartilhar o buffer de profundidade do aplicativo com a plataforma.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-120">Unity developers have the option of sharing the application's depth buffer with the platform.</span></span> <span data-ttu-id="1d7a6-121">Isso fornece informações, em que os hologramas existem para um quadro atual, que a plataforma pode utilizar para estabilizar hologramas por meio de um processo assistido por hardware conhecido como Late-Stage Reprojection.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-121">This provides information, where holograms exist for a current frame, that the platform can utilize to stabilize holograms via a hardware-assisted process known as Late-Stage Reprojection.</span></span>

#### <a name="late-stage-reprojection"></a><span data-ttu-id="1d7a6-122">Reprodução de estágio tardio</span><span class="sxs-lookup"><span data-stu-id="1d7a6-122">Late-stage reprojection</span></span>

<span data-ttu-id="1d7a6-123">No final da renderização de um quadro, a plataforma Windows Mixed Reality leva a cor de destinos de renderização de profundidade & produzidos pelo aplicativo e transforma a saída da tela final para levar em conta qualquer pequeno movimento de cabeça desde a última previsão de pose de cabeça.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-123">At the end of rendering a frame, the Windows Mixed Reality platform takes the color & depth render targets produced by the application and transforms the final screen output to account for any slight head movement since the last head pose prediction.</span></span> <span data-ttu-id="1d7a6-124">O loop de jogo de um aplicativo leva tempo para ser executado.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-124">An application's game loop takes time to execute.</span></span> <span data-ttu-id="1d7a6-125">Por exemplo, em 60 FPS, isso significa que o aplicativo está levando cerca de 16,667 ms para renderizar um quadro.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-125">For example, at 60 FPS, this means the application is taking ~16.667ms to render a frame.</span></span> <span data-ttu-id="1d7a6-126">Embora isso possa parecer uma quantidade mínima de tempo, a posição e a orientação da cabeça do usuário mudarão, resultando em novas matrizes de projeção para a câmera na renderização.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-126">Even though this may seem like a miniscule amount of time, the user's position and orientation of their head will change resulting in new projection matrices for the camera in rendering.</span></span> <span data-ttu-id="1d7a6-127">A reprojeção de estágio tardio transforma os pixels na imagem final para levar em conta essa nova perspectiva.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-127">Late-stage reprojection transforms the pixels in the final image to account for this new perspective.</span></span>

#### <a name="per-pixel-vs-stabilization-plane-lsr"></a><span data-ttu-id="1d7a6-128">LSR por pixel versus plano de estabilização</span><span class="sxs-lookup"><span data-stu-id="1d7a6-128">Per-pixel vs stabilization plane LSR</span></span>

<span data-ttu-id="1d7a6-129">Dependendo do ponto de extremidade do dispositivo e da versão do sistema operacional em execução em um dispositivo Windows Mixed Reality, o algoritmo Late-Stage Reprojection será executado por pixel ou por meio de um plano de [estabilização](/windows/mixed-reality/hologram-stability#stabilization-plane).</span><span class="sxs-lookup"><span data-stu-id="1d7a6-129">Depending on the device endpoint and OS version running on a Windows Mixed Reality device, the Late-Stage Reprojection algorithm will either be performed per-pixel or via a [stabilization plane](/windows/mixed-reality/hologram-stability#stabilization-plane).</span></span>

##### <a name="per-pixel-depth-based"></a><span data-ttu-id="1d7a6-130">Baseado em profundidade por pixel</span><span class="sxs-lookup"><span data-stu-id="1d7a6-130">Per-pixel depth-based</span></span>

<span data-ttu-id="1d7a6-131">A reprojeção baseada em profundidade por pixel envolve a utilização do buffer de profundidade para modificar a saída da imagem por pixel e, portanto, estabilizar hologramas a várias distâncias.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-131">Per-pixel depth-based reprojection involves utilizing the depth buffer to modify the image output per pixel and thus stabilize holograms at various distances.</span></span> <span data-ttu-id="1d7a6-132">Por exemplo, uma esfera a 1 m de distância pode estar na frente de um pilar que está a 10 m de distância.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-132">For example, a sphere 1m away may be in front of a pillar that is 10m away.</span></span> <span data-ttu-id="1d7a6-133">Os pixels que representam a esfera terão uma transformação diferente dos pixels distantes que representam o pilar se o usuário tiver inclinado ligeiramente a cabeça.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-133">The pixels representing the sphere will have a different transform than the far away pixels representing the pillar if the user has tilted their head slightly.</span></span> <span data-ttu-id="1d7a6-134">A reprojeção por pixel levará em conta essa diferença de distância em cada pixel para uma reprodução mais precisa.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-134">Per-pixel reprojection will take into account this distance difference at every pixel for more accurate reprojection.</span></span>

##### <a name="stabilization-plane"></a><span data-ttu-id="1d7a6-135">Plano de estabilização</span><span class="sxs-lookup"><span data-stu-id="1d7a6-135">Stabilization plane</span></span>

<span data-ttu-id="1d7a6-136">Se não for possível criar um buffer de profundidade preciso para compartilhar com a plataforma, outra forma de LSR utilizará um plano de estabilização.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-136">If it is not possible to create an accurate depth buffer to share with the platform, another form of LSR utilizes a stabilization plane.</span></span> <span data-ttu-id="1d7a6-137">Todos os hologramas em uma cena receberão alguma estabilização, mas os hologramas que estão no plano desejado receberão a estabilização máxima de hardware.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-137">All holograms in a scene will receive some stabilization, but holograms lying in the desired plane will receive the maximum hardware stabilization.</span></span> <span data-ttu-id="1d7a6-138">O ponto e o normal para o plano podem ser fornecidos para a plataforma por meio da API *HolographicSettings.SetFocusPointForFrame* [fornecida pelo Unity.](/windows/mixed-reality/focus-point-in-unity)</span><span class="sxs-lookup"><span data-stu-id="1d7a6-138">The point and normal for the plane can be supplied to the platform via the *HolographicSettings.SetFocusPointForFrame* [API provided by Unity](/windows/mixed-reality/focus-point-in-unity).</span></span>

#### <a name="depth-buffer-format"></a><span data-ttu-id="1d7a6-139">Formato de buffer de profundidade</span><span class="sxs-lookup"><span data-stu-id="1d7a6-139">Depth buffer format</span></span>

<span data-ttu-id="1d7a6-140">Se o direcionamento HoloLens desenvolvimento, é altamente recomendável utilizar o formato de buffer de profundidade de 16 bits em comparação com 24 bits.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-140">If targeting HoloLens for development, it is highly recommended to utilize the 16-bit depth buffer format compared to 24-bit.</span></span> <span data-ttu-id="1d7a6-141">Isso pode economizar muito no desempenho, embora os valores de profundidade tenham menos precisão.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-141">This can save tremendously on performance although depth values will have less precision.</span></span> <span data-ttu-id="1d7a6-142">Para compensar a precisão mais baixa e evitar o [](https://docs.unity3d.com/Manual/class-Camera.html) [z-fighting](https://en.wikipedia.org/wiki/Z-fighting), é recomendável reduzir o plano de corte distante do valor padrão de 1000 m definido pelo Unity.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-142">To compensate for the lower precision and avoid [z-fighting](https://en.wikipedia.org/wiki/Z-fighting), it is recommended to reduce the [far clip plane](https://docs.unity3d.com/Manual/class-Camera.html) from the 1000m default value set by Unity.</span></span>

> [!NOTE]
> <span data-ttu-id="1d7a6-143">Se estiver usando o formato de profundidade de *16* bits, os efeitos necessários do buffer de estêncil não funcionarão porque o Unity não cria um buffer de [estêncil](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) nessa configuração.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-143">If using *16-bit depth format*, stencil buffer required effects will not work because [Unity does not create a stencil buffer](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) in this setting.</span></span> <span data-ttu-id="1d7a6-144">Selecionar o formato de profundidade de *24* bits geralmente criará um buffer de estêncil de [8 bits,](https://docs.unity3d.com/Manual/SL-Stencil.html)se aplicável na plataforma de gráficos do ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-144">Selecting *24-bit depth format* conversely will generally create an [8-bit stencil buffer](https://docs.unity3d.com/Manual/SL-Stencil.html), if applicable on the endpoint graphics platform.</span></span>

#### <a name="depth-buffer-sharing-in-unity"></a><span data-ttu-id="1d7a6-145">Compartilhamento de buffer de profundidade no Unity</span><span class="sxs-lookup"><span data-stu-id="1d7a6-145">Depth buffer sharing in Unity</span></span>

<span data-ttu-id="1d7a6-146">Para utilizar a LSR baseada em profundidade, há duas etapas importantes que os desenvolvedores precisam seguir.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-146">In order to utilize depth-based LSR, there are two important steps that developers need to take.</span></span>

1. <span data-ttu-id="1d7a6-147">Em **Editar**  >  **Project Configurações**  >  **Player**  >  **XR Configurações** SDKs de Realidade  >  **Virtual** > habilitar o **compartilhamento de buffer de profundidade**</span><span class="sxs-lookup"><span data-stu-id="1d7a6-147">Under **Edit** > **Project Settings** > **Player** > **XR Settings** > **Virtual Reality SDKs** > Enable **Depth Buffer Sharing**</span></span>
    1. <span data-ttu-id="1d7a6-148">Se estiver direcionando HoloLens, é recomendável selecionar o formato de profundidade de **16** bits também.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-148">If targeting HoloLens, it is recommended to select **16-bit depth format** as well.</span></span>
1. <span data-ttu-id="1d7a6-149">Ao renderizar a cor na tela, a profundidade de renderização também</span><span class="sxs-lookup"><span data-stu-id="1d7a6-149">When rendering color on screen, render depth as well</span></span>

<span data-ttu-id="1d7a6-150">[GameObjects opacos](https://docs.unity3d.com/Manual/StandardShaderMaterialParameterRenderingMode.html) no Unity geralmente gravarão em profundidade automaticamente.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-150">[Opaque GameObjects](https://docs.unity3d.com/Manual/StandardShaderMaterialParameterRenderingMode.html) in Unity will generally write to depth automatically.</span></span> <span data-ttu-id="1d7a6-151">No entanto, objetos & de texto transparente geralmente não serão escritos em profundidade por padrão.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-151">However, transparent & text objects will generally not write to depth by default.</span></span> <span data-ttu-id="1d7a6-152">Se estiver utilizando o Sombreador Padrão do MRTK ou a malha de texto Pro, isso poderá ser facilmente corrigido.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-152">If utilizing the MRTK Standard Shader or Text Mesh Pro, this can be easily remedied.</span></span>

> [!NOTE]
> <span data-ttu-id="1d7a6-153">Para determinar rapidamente quais objetos em uma cena não são escritos no buffer de profundidade visualmente, é possível usar o utilitário [ *Buffer*](../configuration/mixed-reality-configuration-guide.md#editor-utilities) de Profundidade de Renderização no *editor Configurações* no perfil configuração do MRTK.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-153">To quickly determine which objects in a scene do not write to the depth buffer visually, one can use the [*Render Depth Buffer* utility](../configuration/mixed-reality-configuration-guide.md#editor-utilities) under the *Editor Settings* in the MRTK Configuration profile.</span></span>

##### <a name="transparent-mrtk-standard-shader"></a><span data-ttu-id="1d7a6-154">Sombreador padrão transparente do MRTK</span><span class="sxs-lookup"><span data-stu-id="1d7a6-154">Transparent MRTK Standard shader</span></span>

<span data-ttu-id="1d7a6-155">Para materiais transparentes usando o [sombreador padrão do MRTK,](../features/rendering/MRTK-standard-shader.md)selecione o material para exibi-lo na *janela Inspetor.*</span><span class="sxs-lookup"><span data-stu-id="1d7a6-155">For transparent materials using the [MRTK Standard shader](../features/rendering/MRTK-standard-shader.md), select the material to view it in the *Inspector* window.</span></span> <span data-ttu-id="1d7a6-156">Em seguida, *clique no botão Corrigir* Agora para converter o material para gravar em profundidade (ou seja,</span><span class="sxs-lookup"><span data-stu-id="1d7a6-156">Then click the *Fix Now* button to convert the material to write to depth (i.e</span></span> <span data-ttu-id="1d7a6-157">Z-Write On).</span><span class="sxs-lookup"><span data-stu-id="1d7a6-157">Z-Write On).</span></span>

<span data-ttu-id="1d7a6-158">Antes</span><span class="sxs-lookup"><span data-stu-id="1d7a6-158">Before</span></span>

![Buffer de profundidade antes de corrigir o sombreador padrão do MRTK](../features/images/performance/DepthBufferFixNow_Before.PNG)

<span data-ttu-id="1d7a6-160">After (após)</span><span class="sxs-lookup"><span data-stu-id="1d7a6-160">After</span></span>

![Sombreador padrão mrtk de buffer de profundidade fixo](../features/images/performance/DepthBufferFixNow_After.PNG)

##### <a name="text-mesh-pro"></a><span data-ttu-id="1d7a6-162">Malha de texto Pro</span><span class="sxs-lookup"><span data-stu-id="1d7a6-162">Text Mesh Pro</span></span>

<span data-ttu-id="1d7a6-163">Para Objetos de Pro texto, selecione o GameObject TMP para exibi-lo no inspetor.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-163">For Text Mesh Pro objects, select the TMP GameObject to view it in the inspector.</span></span> <span data-ttu-id="1d7a6-164">No componente de material, alternar o sombreador do material atribuído para usar o sombreador TextMeshPro do MRTK.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-164">Under the material component, switch the shader for the assigned material to use the MRTK TextMeshPro shader.</span></span>

![Correção do buffer de Pro texto](../features/images/performance/TextMeshPro-DepthBuffer-Fix.PNG)

##### <a name="custom-shader"></a><span data-ttu-id="1d7a6-166">Sombreador personalizado</span><span class="sxs-lookup"><span data-stu-id="1d7a6-166">Custom shader</span></span>

<span data-ttu-id="1d7a6-167">Se estiver escrevendo um sombreador personalizado, adicione o  sinalizador [ZWrite](https://docs.unity3d.com/Manual/SL-CullAndDepth.html) à parte superior da definição De passagem do bloco para configurar o sombreador para gravar no buffer de profundidade.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-167">If writing a custom shader, add the [ZWrite flag](https://docs.unity3d.com/Manual/SL-CullAndDepth.html) to the top of the *Pass* block definition to configure the shader to write to the depth buffer.</span></span>

```
Shader "Custom/MyShader"
{
    SubShader
    {
        Pass
        {
            ...
            ZWrite On
            ...
        }
    }
}
```

##### <a name="opaque-backings"></a><span data-ttu-id="1d7a6-168">Backings opacos</span><span class="sxs-lookup"><span data-stu-id="1d7a6-168">Opaque backings</span></span>

<span data-ttu-id="1d7a6-169">Se os métodos acima não funcionarem para um determinado cenário (ou seja,</span><span class="sxs-lookup"><span data-stu-id="1d7a6-169">If the above methods do not work for a given scenario (i.e</span></span> <span data-ttu-id="1d7a6-170">usando a interface do usuário do Unity), é possível fazer com que outro objeto escreva no buffer de profundidade.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-170">using Unity UI), it is possible to have another object write to the depth buffer.</span></span> <span data-ttu-id="1d7a6-171">Um exemplo comum é usar o Texto da Interface do Usuário do Unity em um painel flutuante em uma cena.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-171">A common example is using Unity UI Text on a floating panel in a scene.</span></span> <span data-ttu-id="1d7a6-172">Ao tornar o painel opaco ou, pelo menos, escrever em profundidade, o texto & o painel será estabilizado pela plataforma, pois seus valores z estão tão próximos uns dos outros.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-172">By making the panel opaque or at least writing to depth, then both the text & the panel will be stabilized by the platform since their z-values are so close to each other.</span></span>

### <a name="worldanchors-hololens"></a><span data-ttu-id="1d7a6-173">WorldAnchors (HoloLens)</span><span class="sxs-lookup"><span data-stu-id="1d7a6-173">WorldAnchors (HoloLens)</span></span>

<span data-ttu-id="1d7a6-174">Além de garantir que as configurações corretas sejam atendidas para garantir a estabilidade visual, é importante garantir que os hologramas permaneçam estáveis em seus locais físicos corretos.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-174">Along with ensuring the correct configurations are met to ensure visual stability, it is important to ensure holograms remain stable at their correct physical locations.</span></span> <span data-ttu-id="1d7a6-175">Para informar a plataforma sobre locais importantes em um espaço físico, os desenvolvedores podem aproveitar [WorldAnchors](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) em GameObjects que precisam permanecer em um único lugar.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-175">To inform the platform on important locations in a physical space, developers can leverage [WorldAnchors](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) on GameObjects that need to stay in one place.</span></span> <span data-ttu-id="1d7a6-176">Um [WorldAnchor](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) é um componente adicionado a um GameObject que assume controle absoluto sobre a transformação desse objeto.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-176">A [WorldAnchor](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) is a component added to a GameObject that takes absolute control over that object's transform.</span></span>

<span data-ttu-id="1d7a6-177">Dispositivos como HoloLens estão constantemente digitalizando e aprendendo sobre o ambiente.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-177">Devices such as HoloLens are constantly scanning and learning about the environment.</span></span> <span data-ttu-id="1d7a6-178">Assim, à medida que HoloLens o movimento & posição no espaço, suas estimativas serão atualizadas e o sistema de coordenadas [do Unity ajustado.](/windows/mixed-reality/coordinate-systems-in-unity)</span><span class="sxs-lookup"><span data-stu-id="1d7a6-178">Thus, as the HoloLens tracks movement & position in space, its estimates will be updated and the [Unity coordinate system adjusted](/windows/mixed-reality/coordinate-systems-in-unity).</span></span> <span data-ttu-id="1d7a6-179">Por exemplo, se um GameObject for colocado a 1 m da câmera no início, à medida que o HoloLens rastreia o ambiente, ele poderá perceber que o ponto físico em que o GameObject está localizado está, na verdade, a 1,1 m de distância.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-179">For example, if a GameObject is placed 1m from the camera at start, as the HoloLens tracks the environment, it may realize the physical point where the GameObject is located is actually 1.1m away.</span></span> <span data-ttu-id="1d7a6-180">Isso resultaria no desa drift do holograma.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-180">This would result in the hologram drifting.</span></span> <span data-ttu-id="1d7a6-181">Aplicar um WorldAnchor a um GameObject permitirá que a âncora controle a transformação do objeto para que o objeto permaneça no local físico correto (ou seja,</span><span class="sxs-lookup"><span data-stu-id="1d7a6-181">Applying a WorldAnchor to a GameObject will enable the anchor to control the object's transform so that the object will remain at the correct physical location (i.e</span></span> <span data-ttu-id="1d7a6-182">atualize para 1,1 m de distância em vez de 1 m em runtime).</span><span class="sxs-lookup"><span data-stu-id="1d7a6-182">update to 1.1m away instead of 1m at runtime).</span></span> <span data-ttu-id="1d7a6-183">Para [persistir WorldAnchors entre](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) sessões de aplicativo, os desenvolvedores podem [empregar o WorldAnchorStore](https://docs.unity3d.com/ScriptReference/XR.WSA.Persistence.WorldAnchorStore.html) para [salvar e carregar o WorldAnchors.](/windows/mixed-reality/persistence-in-unity)</span><span class="sxs-lookup"><span data-stu-id="1d7a6-183">To persist [WorldAnchors](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) across app sessions, developers can employ the [WorldAnchorStore](https://docs.unity3d.com/ScriptReference/XR.WSA.Persistence.WorldAnchorStore.html) to [save and load WorldAnchors](/windows/mixed-reality/persistence-in-unity).</span></span>

> [!NOTE]
> <span data-ttu-id="1d7a6-184">Depois que um componente WorldAnchor tiver sido adicionado a um GameObject, não será possível modificar a transformação desse GameObject (ou seja,</span><span class="sxs-lookup"><span data-stu-id="1d7a6-184">Once a WorldAnchor component has been added to a GameObject, it is not possible to modify that GameObject's transform (i.e</span></span> <span data-ttu-id="1d7a6-185">transform.position = x).</span><span class="sxs-lookup"><span data-stu-id="1d7a6-185">transform.position = x).</span></span> <span data-ttu-id="1d7a6-186">Um desenvolvedor deve remover o WorldAnchor para editar a transformação.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-186">A developer must remove the WorldAnchor to edit the transform.</span></span>

```c#
WorldAnchor m_anchor;

public void AddAnchor()
{
    this.m_anchor = this.gameObject.AddComponent<WorldAnchor>();
}

public void RemoveAnchor()
{
    DestroyImmediate(m_anchor);
}
```

<span data-ttu-id="1d7a6-187">Se você quiser uma alternativa para trabalhar manualmente com Âncoras, confira As Ferramentas de Bloqueio do Microsoft World.</span><span class="sxs-lookup"><span data-stu-id="1d7a6-187">If you want an alternative to manually working with Anchors, check out the Microsoft World Locking Tools.</span></span> 

> [!div class="nextstepaction"]
> [<span data-ttu-id="1d7a6-188">Instalar com a Ferramenta de Recursos do MR</span><span class="sxs-lookup"><span data-stu-id="1d7a6-188">Install with the MR Feature Tool</span></span>](https://microsoft.github.io/MixedReality-WorldLockingTools-Unity/DocGen/Documentation/HowTos/WLTviaMRFeatureTool.html)

## <a name="see-also"></a><span data-ttu-id="1d7a6-189">Veja também</span><span class="sxs-lookup"><span data-stu-id="1d7a6-189">See also</span></span>

- [<span data-ttu-id="1d7a6-190">Desempenho</span><span class="sxs-lookup"><span data-stu-id="1d7a6-190">Performance</span></span>](../performance/perf-getting-started.md)
- [<span data-ttu-id="1d7a6-191">Considerações sobre ambiente para HoloLens</span><span class="sxs-lookup"><span data-stu-id="1d7a6-191">Environment Considerations for HoloLens</span></span>](/windows/mixed-reality/environment-considerations-for-hololens)
- [<span data-ttu-id="1d7a6-192">Estabilidade do holograma Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="1d7a6-192">Hologram Stability Windows Mixed Reality</span></span>](/windows/mixed-reality/hologram-stability)
- [<span data-ttu-id="1d7a6-193">Ponto de foco no Unity</span><span class="sxs-lookup"><span data-stu-id="1d7a6-193">Focus point in Unity</span></span>](/windows/mixed-reality/focus-point-in-unity)
- [<span data-ttu-id="1d7a6-194">Sistemas de coordenadas no Unity</span><span class="sxs-lookup"><span data-stu-id="1d7a6-194">Coordinate systems in Unity</span></span>](/windows/mixed-reality/coordinate-systems-in-unity)
- [<span data-ttu-id="1d7a6-195">Persistência no Unity</span><span class="sxs-lookup"><span data-stu-id="1d7a6-195">Persistence in Unity</span></span>](/windows/mixed-reality/persistence-in-unity)
- [<span data-ttu-id="1d7a6-196">Noções básicas sobre o desempenho da realidade misturada</span><span class="sxs-lookup"><span data-stu-id="1d7a6-196">Understanding Performance for Mixed Reality</span></span>](/windows/mixed-reality/understanding-performance-for-mixed-reality)
- [<span data-ttu-id="1d7a6-197">Recomendações de desempenho para Unity</span><span class="sxs-lookup"><span data-stu-id="1d7a6-197">Performance recommendations for Unity</span></span>](/windows/mixed-reality/performance-recommendations-for-unity)
