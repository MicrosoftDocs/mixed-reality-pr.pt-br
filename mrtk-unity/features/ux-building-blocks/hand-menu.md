---
title: Menu lateral
description: Cenário de exemplo de menu à mão em MRTK
author: cre8ivepark
ms.author: dongpark
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, realidade misturada, desenvolvimento, MRTK, HandMenu,
ms.openlocfilehash: 9bb0276c048912b4f463dd93d3303c9a3af8fe29
ms.sourcegitcommit: f338b1f121a10577bcce08a174e462cdc86d5874
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/01/2021
ms.locfileid: "113177521"
---
# <a name="hand-menu"></a><span data-ttu-id="ecac4-104">Menu lateral</span><span class="sxs-lookup"><span data-stu-id="ecac4-104">Hand menu</span></span>

![Exemplo de UX do menu do manual](../images/solver/MRTK_UX_HandMenu.png)

<span data-ttu-id="ecac4-106">Os menus à mão permitem que os usuários tragam rapidamente a interface do usuário conectada à mão para funções usadas com frequência.</span><span class="sxs-lookup"><span data-stu-id="ecac4-106">Hand menus allow users to quickly bring up hand-attached UI for frequently used functions.</span></span> <span data-ttu-id="ecac4-107">Para evitar a ativação falsa ao interagir com outros objetos, o menu à mão fornece opções como ' exigir Flatly ' e ' Use olhar Activation '.</span><span class="sxs-lookup"><span data-stu-id="ecac4-107">To prevent false activation while interacting with other objects, hand menu provides options such as 'Require Flat Hand' and 'Use Gaze Activation'.</span></span> <span data-ttu-id="ecac4-108">É recomendável usar essas opções para impedir a ativação indesejada.</span><span class="sxs-lookup"><span data-stu-id="ecac4-108">It is recommended to use these options to prevent unwanted activation.</span></span>

## <a name="hand-menu-examples"></a><span data-ttu-id="ecac4-109">Exemplos de menu do lado</span><span class="sxs-lookup"><span data-stu-id="ecac4-109">Hand menu examples</span></span>

<span data-ttu-id="ecac4-110">A cena **HandMenuExamples. Unity** está sob a ``MRTK/Examples/Demos/HandTracking/Scenes`` pasta.</span><span class="sxs-lookup"><span data-stu-id="ecac4-110">**HandMenuExamples.unity** scene is under ``MRTK/Examples/Demos/HandTracking/Scenes`` folder.</span></span> <span data-ttu-id="ecac4-111">Quando estiver em execução, a cena só ativará o tipo de menu selecionado no momento.</span><span class="sxs-lookup"><span data-stu-id="ecac4-111">When it is running, the scene will only activate currently selected menu type.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_ExampleScene.png" width="600px" alt="HandMenu_ExampleScene">

<span data-ttu-id="ecac4-112">Você pode encontrar esses menus pré-fabricados na ``MRTK/Examples/Demos/HandTracking/Prefabs`` pasta.</span><span class="sxs-lookup"><span data-stu-id="ecac4-112">You can find these hand menu prefabs under ``MRTK/Examples/Demos/HandTracking/Prefabs`` folder.</span></span>

### <a name="handmenu_small_hideonhanddrop-and-handmenu_medium_hideonhanddrop"></a><span data-ttu-id="ecac4-113">HandMenu_Small_HideOnHandDrop e HandMenu_Medium_HideOnHandDrop</span><span class="sxs-lookup"><span data-stu-id="ecac4-113">HandMenu_Small_HideOnHandDrop and HandMenu_Medium_HideOnHandDrop</span></span>

<span data-ttu-id="ecac4-114">Esses dois exemplos simplesmente ativam e desativam o objeto MenuContent para mostrar e ocultar o menu no evento **OnFirstHandDetected ()** e **OnLastHandLost ()** .</span><span class="sxs-lookup"><span data-stu-id="ecac4-114">These two examples simply activate and deactivate the MenuContent object to show and hide menu on **OnFirstHandDetected()** and **OnLastHandLost()** event.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example1.png" width="600" alt="HandMenu_ExampleScene 1">
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example2.png" width="600" alt="HandMenu_ExampleScene 2">

### <a name="handmenu_large_worldlock_on_grabandpull"></a><span data-ttu-id="ecac4-115">HandMenu_Large_WorldLock_On_GrabAndPull</span><span class="sxs-lookup"><span data-stu-id="ecac4-115">HandMenu_Large_WorldLock_On_GrabAndPull</span></span>

<span data-ttu-id="ecac4-116">Para menus mais complexos que exigem tempo de interação maior, é recomendável bloquear o mundo do menu.</span><span class="sxs-lookup"><span data-stu-id="ecac4-116">For more complex menus that require longer interaction time, it is recommended to world-lock the menu.</span></span> <span data-ttu-id="ecac4-117">Neste exemplo, o usuário pode pegar e efetuar pull para o mundo bloquear o menu, além de ativar e desativar o MenuContent em eventos **OnFirstHandDetected ()** e **OnLastHandLost ()** .</span><span class="sxs-lookup"><span data-stu-id="ecac4-117">In this example, the user can grab and pull to world-lock the menu, in addition to activating and deactivating the MenuContent on **OnFirstHandDetected()** and **OnLastHandLost()** events.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example3.png" width="600" alt="HandMenu_ExampleScene 3">

<span data-ttu-id="ecac4-118">A placa traseira `ManipulationHandler` torna-a que é possível capturar e móvel.</span><span class="sxs-lookup"><span data-stu-id="ecac4-118">Backplate's `ManipulationHandler` makes it grabbable and movable.</span></span> <span data-ttu-id="ecac4-119">**Em evento de manipulação iniciada** , **SolverHandler. UpdateSolvers** é desativado para o mundo-bloqueia o menu.</span><span class="sxs-lookup"><span data-stu-id="ecac4-119">**On Manipulation Started** event, **SolverHandler.UpdateSolvers** is deactivated to world-lock the menu.</span></span> <span data-ttu-id="ecac4-120">Além disso, ele mostra o **botão fechar** para permitir que o usuário feche o menu quando a tarefa for concluída.</span><span class="sxs-lookup"><span data-stu-id="ecac4-120">Additionally, it shows the **Close button** to allow the user to close the menu when the task is finished.</span></span> <span data-ttu-id="ecac4-121">**No evento Manipulation finalizado** , ele chama **HandConstraintPalmUp. StartWorldLockReattachCheckCoroutine** para permitir que o usuário traga o menu de volta para a mão, levantando e observando o Palm.</span><span class="sxs-lookup"><span data-stu-id="ecac4-121">**On Manipulation Ended** event, it calls **HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine** to allow the user bring the menu back to hand by raising and looking at the palm.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example4.png" width="600" alt="HandMenu_ExampleScene 4">

<span data-ttu-id="ecac4-122">O botão **fechar** reativa **SolverHandler. UpdateSolvers** e oculta o **MenuContent**.</span><span class="sxs-lookup"><span data-stu-id="ecac4-122">**Close** button reactivates **SolverHandler.UpdateSolvers** and hide the **MenuContent**.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example5.png" alt="HandMenu_ExampleScene 5">

### <a name="handmenu_large_autoworldlock_on_handdrop"></a><span data-ttu-id="ecac4-123">HandMenu_Large_AutoWorldLock_On_HandDrop</span><span class="sxs-lookup"><span data-stu-id="ecac4-123">HandMenu_Large_AutoWorldLock_On_HandDrop</span></span>

<span data-ttu-id="ecac4-124">Este exemplo é semelhante a HandMenu_Large_WorldLock_On_GrabAndPull.</span><span class="sxs-lookup"><span data-stu-id="ecac4-124">This example is similar to HandMenu_Large_WorldLock_On_GrabAndPull.</span></span> <span data-ttu-id="ecac4-125">A única diferença é que o menu será automaticamente bloqueado no lado do mundo.</span><span class="sxs-lookup"><span data-stu-id="ecac4-125">The only difference is that the menu will be automatically world-locked on hand drop.</span></span> <span data-ttu-id="ecac4-126">Isso é feito simplesmente não ocultando o evento MenuContent no **OnLastHandLost ()** .</span><span class="sxs-lookup"><span data-stu-id="ecac4-126">This is done by simply not hiding the MenuContent on **OnLastHandLost()** event.</span></span> <span data-ttu-id="ecac4-127">O comportamento de pull de & de captura é o mesmo que HandMenu_Large_WorldLock_On_GrabAndPull exemplo.</span><span class="sxs-lookup"><span data-stu-id="ecac4-127">Grab & pull behavior is same as HandMenu_Large_WorldLock_On_GrabAndPull example.</span></span>

## <a name="scripts"></a><span data-ttu-id="ecac4-128">Scripts</span><span class="sxs-lookup"><span data-stu-id="ecac4-128">Scripts</span></span>

<span data-ttu-id="ecac4-129">O [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) comportamento fornece um solucionador que restringe o objeto rastreado a uma região segura para conteúdo restrito por mão (como interface do usuário, menus, etc.).</span><span class="sxs-lookup"><span data-stu-id="ecac4-129">The [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) behavior provides a solver that constrains the tracked object to a region safe for hand constrained content (such as hand UI, menus, etc).</span></span> <span data-ttu-id="ecac4-130">regiões de Cofre são consideradas áreas que não fazem interseção com a mão.</span><span class="sxs-lookup"><span data-stu-id="ecac4-130">Safe regions are considered areas that don't intersect with the hand.</span></span> <span data-ttu-id="ecac4-131">Uma classe derivada de [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) chamada [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) também é incluída para demonstrar um comportamento comum de ativar o objeto rastreador acompanhado quando a Palm está voltada para o usuário.</span><span class="sxs-lookup"><span data-stu-id="ecac4-131">A derived class of [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) called [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) is also included to demonstrate a common behavior of activating the solver tracked object when the palm is facing the user.</span></span>

<span data-ttu-id="ecac4-132">Consulte as dicas de ferramenta disponíveis para cada [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) propriedade para obter mais documentação.</span><span class="sxs-lookup"><span data-stu-id="ecac4-132">Please see the tool tips available for each [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) property for additional documentation.</span></span> <span data-ttu-id="ecac4-133">Algumas propriedades são definidas mais detalhadamente abaixo.</span><span class="sxs-lookup"><span data-stu-id="ecac4-133">A few properties are defined in more detail below.</span></span>

<img src="../images/solver/MRTK_Solver_HandConstraintPalmUp.png" width="450" alt="HandMenu_ExampleScene Palm up">

* <span data-ttu-id="ecac4-134">**zona de Cofre**: a zona segura especifica em que ponto a mão deve restringir o conteúdo.</span><span class="sxs-lookup"><span data-stu-id="ecac4-134">**Safe Zone**: The safe zone specifies where on the hand to constrain content.</span></span> <span data-ttu-id="ecac4-135">É recomendável que o conteúdo seja colocado no lado do ulnar para evitar sobreposição com a mão e qualidade de interação aprimorada.</span><span class="sxs-lookup"><span data-stu-id="ecac4-135">It is recommended that content be placed on the Ulnar Side to avoid overlap with the hand and improved interaction quality.</span></span> <span data-ttu-id="ecac4-136">as zonas de Cofre são calculadas por meio da orientação de mãos projetadas em um plano ortogonal à exibição da câmera e raycasting em uma caixa delimitadora ao lado das mãos.</span><span class="sxs-lookup"><span data-stu-id="ecac4-136">Safe zones are calculated by taking the hands orientation projected into a plane orthogonal to the camera's view and raycasting against a bounding box around the hands.</span></span> <span data-ttu-id="ecac4-137">Cofre zonas são definidas para funcionar com o [`IMixedRealityHand`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityHand) , mas também funcionam com outros tipos de controlador.</span><span class="sxs-lookup"><span data-stu-id="ecac4-137">Safe zones are defined to work with [`IMixedRealityHand`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityHand) but also works with other controller types.</span></span> <span data-ttu-id="ecac4-138">É recomendável explorar o que cada zona segura representa em diferentes tipos de controlador.</span><span class="sxs-lookup"><span data-stu-id="ecac4-138">It is recommended to explore what each safe zone represents on different controller types.</span></span>

* <span data-ttu-id="ecac4-139">**Seguir mão até a câmera oposta** Com este ativo, o Solver seguirá a rotação, até que o menu esteja suficientemente alinhado com o olhar, no ponto em que ele se faces da câmera.</span><span class="sxs-lookup"><span data-stu-id="ecac4-139">**Follow Hand Until Facing Camera** With this active, solver will follow hand rotation until the menu is sufficiently aligned with the gaze, at which point it faces the camera.</span></span> <span data-ttu-id="ecac4-140">Isso funciona alterando o SolverRotationBehavior no HandConstraintSolver, de LookAtTrackedObject para LookAtMainCamera, pois o ângulo de GazeAlignment com o resolvedor varia.</span><span class="sxs-lookup"><span data-stu-id="ecac4-140">This works by changing the SolverRotationBehavior in the HandConstraintSolver, from LookAtTrackedObject to LookAtMainCamera as the GazeAlignment angle with the solver varies.</span></span>

<img src="../images/solver/MRTK_Solver_HandConstraintSafeZones.png" width="450" alt="HandMenu Safe Zones">

* <span data-ttu-id="ecac4-141">**Eventos de ativação**: atualmente, o [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) dispara quatro eventos de ativação.</span><span class="sxs-lookup"><span data-stu-id="ecac4-141">**Activation Events**: Currently the [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) triggers four activation events.</span></span> <span data-ttu-id="ecac4-142">Esses eventos podem ser usados em muitas combinações diferentes para criar [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) comportamentos exclusivos, consulte a cena HandBasedMenuExample em `MRTK/Examples/Demos/HandTracking/Scenes/` para obter exemplos desses comportamentos.</span><span class="sxs-lookup"><span data-stu-id="ecac4-142">These events can be used in many different combinations to create unique [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) behaviors, please see the HandBasedMenuExample scene under `MRTK/Examples/Demos/HandTracking/Scenes/` for examples of these behaviors.</span></span>

  * <span data-ttu-id="ecac4-143">*OnHandActivate*: dispara quando uma mão satisfaz o método IsHandActive.</span><span class="sxs-lookup"><span data-stu-id="ecac4-143">*OnHandActivate*: triggers when a hand satisfies the IsHandActive method.</span></span>
  * <span data-ttu-id="ecac4-144">*OnHandDeactivate*: dispara quando o método IsHandActive não é mais satisfeito.</span><span class="sxs-lookup"><span data-stu-id="ecac4-144">*OnHandDeactivate*: triggers when the IsHandActive method is no longer satisfied.</span></span>
  * <span data-ttu-id="ecac4-145">*OnFirstHandDetected*: ocorre quando o estado de acompanhamento da mão é alterado de sem hands no modo de exibição, para a primeira mão na exibição.</span><span class="sxs-lookup"><span data-stu-id="ecac4-145">*OnFirstHandDetected*: occurs when the hand tracking state changes from no hands in view, to the first hand in view.</span></span>
  * <span data-ttu-id="ecac4-146">*OnLastHandLost*: ocorre quando o estado de acompanhamento da mão é alterado de pelo menos uma mão na exibição, para nenhuma exibição prática.</span><span class="sxs-lookup"><span data-stu-id="ecac4-146">*OnLastHandLost*: occurs when the hand tracking state changes from at least one hand in view, to no hands in view.</span></span>

* <span data-ttu-id="ecac4-147">**Lógica de desativação/ativação do Solver**: atualmente, a recomendação para ativar e desativar a [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) lógica é fazer isso por meio do uso do valor UpdateSolver do SolverHandler, em vez de desabilitar/habilitar o objeto.</span><span class="sxs-lookup"><span data-stu-id="ecac4-147">**Solver Activation/Deactivation Logic**: Currently the recommendation for activating and deactivating [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) logic is to do so through the use of the SolverHandler's UpdateSolver value, rather than by disabling/enabling the object.</span></span> <span data-ttu-id="ecac4-148">Isso pode ser visto na cena de exemplo por meio de ganchos baseados em editor disparados após os eventos de ManipulationHandler "OnManipulationStarted/encerrado" do menu anexado.</span><span class="sxs-lookup"><span data-stu-id="ecac4-148">This can be seen in the example scene through the editor-based hooks triggered after the attached menu's ManipulationHandler "OnManipulationStarted/Ended" events.</span></span>

  * <span data-ttu-id="ecac4-149">*Parando a lógica de restrição à mão*: ao tentar definir o objeto restrito à mão para parar (bem como não executar a lógica de ativação/desativação), defina UpdateSolver como false em vez de desabilitar HandConstraintPalmUp.</span><span class="sxs-lookup"><span data-stu-id="ecac4-149">*Stopping the hand-constraint logic*: When trying to set the hand constrained object to stop (as well as not run the activation/deactivation logic), set UpdateSolver to False rather than disabling HandConstraintPalmUp.</span></span>
    * <span data-ttu-id="ecac4-150">Se você quiser habilitar a lógica de reanexação baseada em olhar (ou até mesmo em não-olhar), isso será seguido chamando a função HandConstraintPalmUp. StartWorldLockReattachCheckCoroutine ().</span><span class="sxs-lookup"><span data-stu-id="ecac4-150">If you want to enable the gaze-based (or even non-gaze-based) Reattach logic, this is then followed by calling the HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine() function.</span></span> <span data-ttu-id="ecac4-151">Isso disparará uma corrotina que continuará verificando se os critérios de "IsValidController" são atendidos e definirá UpdateSolver como true quando for (ou o objeto estiver desabilitado)</span><span class="sxs-lookup"><span data-stu-id="ecac4-151">This will trigger a coroutine that then continues to check if the "IsValidController" criteria is met and will set UpdateSolver to True once it is (or the object is disabled)</span></span>
  * <span data-ttu-id="ecac4-152">*Iniciando a lógica de restrição à mão*: ao tentar definir o objeto restrito à mão para começar a seguir novamente (com base em se ele atende aos critérios de ativação), defina UpdateSolver de SolverHandler como true.</span><span class="sxs-lookup"><span data-stu-id="ecac4-152">*Starting the hand-constraint logic*: When trying to set the hand constrained object to start following your hand again (based on whether it meets the activation criteria), set the SolverHandler's UpdateSolver to true.</span></span>

* <span data-ttu-id="ecac4-153">**Reanexar lógica**: no momento [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) , é capaz de reanexar automaticamente o objeto de destino ao ponto rastreado, independentemente de o UpdateSolver do SolverHandler ser verdadeiro ou não.</span><span class="sxs-lookup"><span data-stu-id="ecac4-153">**Reattach Logic**: Currently the [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) is able to automatically reattach the target object to the tracked point, regardless of whether the SolverHandler's UpdateSolver is True or not.</span></span> <span data-ttu-id="ecac4-154">Isso é feito por meio da chamada da função StartWorldLockReattachCheckCoroutine () da HandConstraintPalmUp, depois que ela é bloqueada pelo mundo (que, nesse caso, está efetivamente definindo a UpdateSolver de SolverHandler como false).</span><span class="sxs-lookup"><span data-stu-id="ecac4-154">This is done through calling the HandConstraintPalmUp's StartWorldLockReattachCheckCoroutine() function, after it's been world-locked (which in this case, is effectively setting the SolverHandler's UpdateSolver to False).</span></span>

## <a name="see-also"></a><span data-ttu-id="ecac4-155">Confira também</span><span class="sxs-lookup"><span data-stu-id="ecac4-155">See also</span></span>

* [<span data-ttu-id="ecac4-156">Botão</span><span class="sxs-lookup"><span data-stu-id="ecac4-156">Button</span></span>](button.md)
* [<span data-ttu-id="ecac4-157">Menu próximo</span><span class="sxs-lookup"><span data-stu-id="ecac4-157">Near Menu</span></span>](near-menu.md)
