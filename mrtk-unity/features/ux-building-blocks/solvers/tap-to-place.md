---
title: Toque para posicionar
description: Documentação do MRTK do TapToPlace
author: CDiaz-MS
ms.author: cadia
ms.date: 01/12/2021
ms.localizationpriority: high
keywords: Unity, HoloLens, HoloLens 2, Realidade Misturada, desenvolvimento, MRTK, Toque para Posicionar,
ms.openlocfilehash: 1664509a08c2d589d22b71df580328f3f3655c61
ms.sourcegitcommit: f338b1f121a10577bcce08a174e462cdc86d5874
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/01/2021
ms.locfileid: "113176404"
---
# <a name="tap-to-place"></a><span data-ttu-id="7f4f2-104">Toque para posicionar</span><span class="sxs-lookup"><span data-stu-id="7f4f2-104">Tap to place</span></span>

![TapToPlace](../../images/solver/tap-to-place/TapToPlaceIntroGif.gif)

<span data-ttu-id="7f4f2-106">Toque para Posicionar é um componente de interação distante usado para colocar um objeto de jogo na superfície.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-106">Tap to Place is a far interaction component that is used to place a game object on surface.</span></span> <span data-ttu-id="7f4f2-107">Esse componente é útil para colocar objetos em uma malha espacial.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-107">This component is useful for placing objects on a spatial mesh.</span></span> <span data-ttu-id="7f4f2-108">Toque para Posicionar usa uma combinação de dois cliques e movimento da cabeça para posicionar um objeto.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-108">Tap to Place uses a combination of two clicks and head movement to place an object.</span></span> <span data-ttu-id="7f4f2-109">Um clique para iniciar o posicionamento, movimento da cabeça para controlar a posição do objeto e um clique para posicionar o objeto na cena.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-109">A click to start the placement, head movement to control the position of the object and a click to place the object in the scene.</span></span>

## <a name="using-tap-to-place"></a><span data-ttu-id="7f4f2-110">Usando o Toque para Posicionar</span><span class="sxs-lookup"><span data-stu-id="7f4f2-110">Using Tap to Place</span></span>

1. <span data-ttu-id="7f4f2-111">Configurar a cena</span><span class="sxs-lookup"><span data-stu-id="7f4f2-111">Set up the scene</span></span>
    - <span data-ttu-id="7f4f2-112">Criar uma nova cena do Unity</span><span class="sxs-lookup"><span data-stu-id="7f4f2-112">Create a new unity scene</span></span>
    - <span data-ttu-id="7f4f2-113">Adicione o MRTK à cena navegando até o **Kit de Ferramentas de Realidade Misturada** > **Adicionar à Cena e Configurar**</span><span class="sxs-lookup"><span data-stu-id="7f4f2-113">Add MRTK to the scene by navigating to the **Mixed Reality Toolkit** > **Add to Scene and Configure**</span></span>
    > [!NOTE]
    > <span data-ttu-id="7f4f2-114">O Toque para Posicionar usa cliques controlados pelo Sistema de Entrada do MRTK, mas também pode ser controlado sem cliques, consulte a seção Capacidade de Configuração de Código do Toque para Posicionar abaixo.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-114">Tap to Place uses clicks driven by the MRTK Input System but it can also be controlled without clicks, see the Tap To Place Code Configurability section below.</span></span>
    - <span data-ttu-id="7f4f2-115">Adicione um cubo à cena e altere a escala para 0,2 e altere a posição para (0, 0, 0,7).</span><span class="sxs-lookup"><span data-stu-id="7f4f2-115">Add a cube to the scene and change the scale to 0.2 and change the position to (0, 0, 0.7).</span></span>
1. <span data-ttu-id="7f4f2-116">Anexar [Toque para Posicionar](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.TapToPlace) a um objeto de jogo com um colisor</span><span class="sxs-lookup"><span data-stu-id="7f4f2-116">Attach [Tap to Place](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.TapToPlace) to a game object with a collider</span></span>

    ![TapToPlaceInspector](../../images/solver/tap-to-place/TapToPlaceInspector2.png)

    - <span data-ttu-id="7f4f2-118">Quando o componente Toque para Posicionar for adicionado, um Manipulador do Solucionador também será anexado.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-118">When the Tap to Place component is added, a Solver Handler will also be attached.</span></span> <span data-ttu-id="7f4f2-119">O Toque para Posicionar deriva da classe [Solucionador](solver.md) que requer um Manipulador do Solucionador.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-119">Tap to Place derives from the [Solver](solver.md) class which requires a Solver Handler.</span></span> <span data-ttu-id="7f4f2-120">A posição de um objeto Toque para Posicionar é calculada em relação ao `TrackedTargetType` no Manipulador do Solucionador.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-120">The position of a Tap to Place object is calculated relative to the `TrackedTargetType` within the Solver Handler.</span></span> <span data-ttu-id="7f4f2-121">Por padrão, Cabeça é `TrackedTargetType`, ou seja, quando a cabeça se move, o objeto segue se estiver selecionado.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-121">By default the Head is the `TrackedTargetType`, i.e. when the head moves, the object follows if it is selected.</span></span>  <span data-ttu-id="7f4f2-122">`TrackedTargetType` também pode ser definido como Raio do Controlador, que faz com que o objeto siga o controlador.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-122">The `TrackedTargetType` can also be set to Controller Ray which has the object follow the controller.</span></span> <span data-ttu-id="7f4f2-123">O primeiro grupo de propriedades no inspetor do Toque para Posicionar são as [Propriedades Comuns do Solucionador](solver.md#common-solver-properties).</span><span class="sxs-lookup"><span data-stu-id="7f4f2-123">The first group of properties in the Tap to Place inspector are the [Common Solver Properties](solver.md#common-solver-properties).</span></span>  
    > [!IMPORTANT]
    > <span data-ttu-id="7f4f2-124">Toque para Posicionar é um Solucionador autônomo e não pode ser encadeado com outros Solucionadores.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-124">Tap to Place is a stand alone Solver and cannot be chained with other Solvers.</span></span> <span data-ttu-id="7f4f2-125">Ele não pode ser encadeado pois SolverHandler.UpdateSolvers é usado para atualizar a posição do objeto enquanto ele está sendo posicionado.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-125">It cannot be chained because SolverHandler.UpdateSolvers is used to update the object's position while it is being placed.</span></span>
    - <span data-ttu-id="7f4f2-126">Propriedades do Toque para Posicionar:</span><span class="sxs-lookup"><span data-stu-id="7f4f2-126">Tap to Place Properties:</span></span>
        - <span data-ttu-id="7f4f2-127">`Auto Start`: se verdadeiro, o solucionador do Toque para Posicionar começará a controlar a posição do objeto de jogo a ser posicionado.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-127">`Auto Start`: If true, the Tap to Place solver will start out controlling the position of the game object to be placed.</span></span> <span data-ttu-id="7f4f2-128">O objeto começará imediatamente a seguir o TrackedTargetType (Cabeça ou Raio do Controlador).</span><span class="sxs-lookup"><span data-stu-id="7f4f2-128">The object will immediately start following the TrackedTargetType (Head or Controller Ray).</span></span> <span data-ttu-id="7f4f2-129">Esse valor deve ser modificado antes que Start() seja invocado para ter efeito.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-129">This value must be modified before Start() is invoked in order to have any effect.</span></span>
        - <span data-ttu-id="7f4f2-130">`Default Placement Distance`: a distância padrão (em metros) que um objeto será posicionado em relação ao trackedTargetType para frente no SolverHandler.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-130">`Default Placement Distance`: The default distance (in meters) an object will be placed relative to the TrackedTargetType forward in the SolverHandler.</span></span> <span data-ttu-id="7f4f2-131">O objeto do jogo será posicionado na distância de posicionamento padrão se uma superfície não for atingida pelo raycast.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-131">The game object will be placed at the default placement distance if a surface is not hit by the raycast.</span></span>
        - <span data-ttu-id="7f4f2-132">`Max Raycast Distance`: a distância máxima (metros) para o raycast com base na origem 'TrackedTargetType'.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-132">`Max Raycast Distance`: The max distance (meters) for the raycast based on the 'TrackedTargetType' origin.</span></span> <span data-ttu-id="7f4f2-133">Esse raycast procura uma superfície para posicionar um objeto selecionado.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-133">This raycast looks for a surface to place a selected object.</span></span>
        - <span data-ttu-id="7f4f2-134">`UseDefaultSurfaceNormalOffset`: essa propriedade é verdadeira por padrão, ela garante que o objeto que está sendo posicionado esteja alinhado em uma superfície.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-134">`UseDefaultSurfaceNormalOffset`: This property is true by default, it ensures the object being placed is aligned on a surface.</span></span> <span data-ttu-id="7f4f2-135">Se essa propriedade for verdadeira, o deslocamento normal da superfície padrão será aplicado em vez de qualquer valor especificado para a propriedade `SurfaceNormalOffset`.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-135">If this property is true, the default surface normal offset will be applied instead of any value specified for the `SurfaceNormalOffset` property.</span></span> <span data-ttu-id="7f4f2-136">Se falso, o valor de `SurfaceNormalOffset` será aplicado.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-136">If false, the value for `SurfaceNormalOffset` will be applied.</span></span> <span data-ttu-id="7f4f2-137">O deslocamento normal da superfície padrão são as extensão do colisor ao longo do eixo z.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-137">The default surface normal offset is the collider's extents along the z axis.</span></span>
        - <span data-ttu-id="7f4f2-138">`Surface Normal Offset`: a distância entre o centro do objeto do jogo a ser posicionado e uma superfície ao longo da superfície normal, se o raycast atingir uma superfície.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-138">`Surface Normal Offset`: The distance between the center of the game object to place and a surface along the surface normal, if the raycast hits a surface.</span></span> <span data-ttu-id="7f4f2-139">Essa propriedade só será aplicada a um objeto se `UseDefaultSurfaceNormalOffset` for falso.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-139">This property is only applied to an object if `UseDefaultSurfaceNormalOffset` is false.</span></span>
        - <span data-ttu-id="7f4f2-140">`Keep Orientation Vertical`: se verdadeiro, o objeto de jogo a ser posicionado permanecerá na vertical e alinhado com Vector3.up.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-140">`Keep Orientation Vertical`: If true, the game object to place will remain upright and in line with Vector3.up.</span></span>
        - <span data-ttu-id="7f4f2-141">`Rotate According to Surface`: se falso, o objeto do jogo a ser posicionado não alterará sua rotação de acordo com a superfície atingida.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-141">`Rotate According to Surface`: If false, the game object to place will not change its rotation according to the surface hit.</span></span>  <span data-ttu-id="7f4f2-142">O objeto permanecerá voltado para a câmera enquanto IsBeingPlaced for verdadeiro.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-142">The object will remain facing the camera while IsBeingPlaced is true.</span></span>
        - <span data-ttu-id="7f4f2-143">`Magnetic Surfaces`: uma matriz de LayerMasks a ser executada da prioridade mais alta para a mais baixa.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-143">`Magnetic Surfaces`: An array of LayerMasks to execute from highest to lowest priority.</span></span> <span data-ttu-id="7f4f2-144">A primeira máscara de camada a fornecer um clique de raycast será usada para os cálculos de posição.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-144">First layer mask to provide a raycast hit will be used for position calculations.</span></span>
        - <span data-ttu-id="7f4f2-145">`Debug Enabled`: se verdadeiro e no Editor do Unity, o clique de raycast normal será desenhado em amarelo.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-145">`Debug Enabled`: If true and in the Unity Editor, the normal of the raycast hit will be drawn in yellow.</span></span> <span data-ttu-id="7f4f2-146">A depuração habilitada é útil quando `RotateAccordingToSurface` for verdadeiro, pois ela desenha a superfície atingida normal, o que explica visualmente por que o objeto é definido em sua orientação atual.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-146">Debug enabled is useful when `RotateAccordingToSurface` is true because it draws the normal of the surface hit which visually explains why the object is set at its current orientation.</span></span>
        - <span data-ttu-id="7f4f2-147">`On Placing Started`: esse evento é disparado uma vez quando o objeto de jogo a ser posicionado é selecionado.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-147">`On Placing Started`: This event is triggered once when the game object to place is selected.</span></span>
        - <span data-ttu-id="7f4f2-148">`On Placing Stopped`: esse evento é disparado uma vez quando o objeto de jogo a ser posicionado tem a seleção cancelada.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-148">`On Placing Stopped`: This event is triggered once when the game object to place is unselected, placed.</span></span>

1. <span data-ttu-id="7f4f2-149">Testando o comportamento do Toque para Posicionar no editor</span><span class="sxs-lookup"><span data-stu-id="7f4f2-149">Testing Tap to Place behavior in editor</span></span>
    - <span data-ttu-id="7f4f2-150">Pressione executar e segure a barra de espaço para mostrar uma mão de simulação de entrada.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-150">Press play and hold the space bar to show an input simulation hand.</span></span>
    - <span data-ttu-id="7f4f2-151">Mova a mão até que o cubo esteja em foco e simule um clique com a mão de simulação de entrada clicando com o botão esquerdo do mouse.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-151">Move the hand until the cube is in focus and simulate a click with the input simulation hand by clicking with the left mouse.</span></span>
        - <span data-ttu-id="7f4f2-152">Se os colisores não estiverem presentes na cena, o objeto seguirá `TrackedTargetType` o no `Default Placement Distance` definido.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-152">If colliders are not present in the scene, the object will follow the `TrackedTargetType` at the defined `Default Placement Distance`.</span></span>
    - <span data-ttu-id="7f4f2-153">O objeto seguirá o movimento de `TrackedTargetType` após a seleção.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-153">The object will follow the movement of the `TrackedTargetType` after selection.</span></span> <span data-ttu-id="7f4f2-154">Para simular o movimento da cabeça no editor, pressione as teclas WASD.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-154">To simulate head movement in editor, press the WASD keys.</span></span> <span data-ttu-id="7f4f2-155">Altere a rotação da cabeça clicando e segurando o botão direito do mouse.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-155">Change head rotation by clicking and holding the right mouse.</span></span>
    - <span data-ttu-id="7f4f2-156">Para parar de posicionar o objeto, clique novamente.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-156">To stop placing the object, click again.</span></span>  <span data-ttu-id="7f4f2-157">O objeto não precisa estar em foco para o clique de parar posicionamento.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-157">The object does not need to be in focus for the stop placement click.</span></span> <span data-ttu-id="7f4f2-158">O foco só é necessário para o clique inicial que inicia o processo de posicionamento.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-158">Focus is only required for the initial click that starts the placement process.</span></span>

    <span data-ttu-id="7f4f2-159">`TrackedTargetType`: Cabeça (Padrão)</span><span class="sxs-lookup"><span data-stu-id="7f4f2-159">`TrackedTargetType`: Head (Default)</span></span> |  <span data-ttu-id="7f4f2-160">`TrackedTargetType`: Raio do Controlador</span><span class="sxs-lookup"><span data-stu-id="7f4f2-160">`TrackedTargetType`: Controller Ray</span></span>
    :-------------------------:|:-------------------------:
    ![Toque para Posicionar Simulação de Entrada Cabeça Raio de controle](../../images/solver/tap-to-place/TapToPlaceInputSimulationHead.gif)  |  ![Toque para Posicionar Simulação de Entrada Raio do Controlador 2](../../images/solver/tap-to-place/TapToPlaceInputSimulationControllerRay.gif)

## <a name="tap-to-place-code-configurability"></a><span data-ttu-id="7f4f2-163">Toque para Posicionar Capacidade de Configuração de Código</span><span class="sxs-lookup"><span data-stu-id="7f4f2-163">Tap to Place Code Configurability</span></span>

<span data-ttu-id="7f4f2-164">O tempo de seleção de objeto do Toque para Posicionar também pode ser controlado por `StartPlacement()` e `StopPlacement()`em vez de exigir um evento de clique.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-164">Tap to Place object selection timing can also be controlled via `StartPlacement()` and `StopPlacement()` instead of requiring a click event.</span></span> <span data-ttu-id="7f4f2-165">Essa funcionalidade é útil para escrever testes e fornece um método alternativo para posicionar um objeto no editor sem usar o Sistema de Entrada do MRTK.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-165">This capability is useful for writing tests and provides an alternative method to place an object in editor without using the MRTK Input System.</span></span>

1. <span data-ttu-id="7f4f2-166">Criar um objeto de jogo vazio</span><span class="sxs-lookup"><span data-stu-id="7f4f2-166">Create an empty game object</span></span>
1. <span data-ttu-id="7f4f2-167">Criar e anexar o script de exemplo a seguir ao objeto de jogo vazio</span><span class="sxs-lookup"><span data-stu-id="7f4f2-167">Create and attach the following example script to the empty game object</span></span>

    ```c#
    using UnityEngine;
    using Microsoft.MixedReality.Toolkit.Utilities.Solvers;

    public class TapToPlaceInputExample : MonoBehaviour
    {
        private GameObject cube;
        private TapToPlace tapToPlace;

        void Start()
        {
            cube = GameObject.CreatePrimitive(PrimitiveType.Cube);
            cube.transform.localScale = Vector3.one * 0.2f;
            cube.transform.position = Vector3.forward * 0.7f;

            tapToPlace = cube.AddComponent<TapToPlace>();
        }

        void Update()
        {
            if (Input.GetKeyDown(KeyCode.U))
            {
                tapToPlace.StartPlacement();
            }
            if (Input.GetKeyDown(KeyCode.I))
            {
                tapToPlace.StopPlacement();
            }
        }
    }
    ```

1. <span data-ttu-id="7f4f2-168">No modo de reprodução, pressione a *tecla U* para começar a posicionar o cubo</span><span class="sxs-lookup"><span data-stu-id="7f4f2-168">In play mode, press the *U key* to start placing the cube</span></span>
1. <span data-ttu-id="7f4f2-169">Pressione a *tecla I* para interromper o posicionamento</span><span class="sxs-lookup"><span data-stu-id="7f4f2-169">Press the *I key* to stop the placement</span></span>

## <a name="tap-to-place-example-scene"></a><span data-ttu-id="7f4f2-170">Cena de Exemplo do Toque para Posicionar</span><span class="sxs-lookup"><span data-stu-id="7f4f2-170">Tap to Place Example Scene</span></span>

<span data-ttu-id="7f4f2-171">A cena de exemplo do Toque para Posicionar consiste em 4 objetos posicionáveis, cada um com uma configuração diferente.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-171">The Tap to Place example scene consists of 4 placeable objects, each with a different configuration.</span></span> <span data-ttu-id="7f4f2-172">A cena de exemplo contém paredes para mostrar o comportamento do posicionamento da superfície desabilitado por padrão na hierarquia.</span><span class="sxs-lookup"><span data-stu-id="7f4f2-172">The example scene contains walls to show the surface placement behavior that are disabled by default in the hierarchy.</span></span> <span data-ttu-id="7f4f2-173">A cena de exemplo pode ser encontrada no pacote do Unity Microsoft.MixedReality.Toolkit.Unity.Examples, encontrado na [Página de Versão](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases).</span><span class="sxs-lookup"><span data-stu-id="7f4f2-173">The example scene can be found in the Microsoft.MixedReality.Toolkit.Unity.Examples unity package found on the [Release Page](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases).</span></span> <span data-ttu-id="7f4f2-174">O local da cena é: *MRTK.Examples/Demos/Solvers/Scenes/TapToPlaceExample.unity*</span><span class="sxs-lookup"><span data-stu-id="7f4f2-174">The scene location is: *MRTK.Examples/Demos/Solvers/Scenes/TapToPlaceExample.unity*</span></span>

![Exemplo de Toque para Posicionar](../../images/solver/tap-to-place/TapToPlaceExampleScene.gif)

## <a name="see-also"></a><span data-ttu-id="7f4f2-176">Confira também</span><span class="sxs-lookup"><span data-stu-id="7f4f2-176">See also</span></span>

- [<span data-ttu-id="7f4f2-177">Solucionadores</span><span class="sxs-lookup"><span data-stu-id="7f4f2-177">Solvers</span></span>](solver.md)
- [<span data-ttu-id="7f4f2-178">Conscientização Espacial</span><span class="sxs-lookup"><span data-stu-id="7f4f2-178">Spatial Awareness</span></span>](../../spatial-awareness/spatial-awareness-getting-started.md)
- [<span data-ttu-id="7f4f2-179">Simulação de entrada</span><span class="sxs-lookup"><span data-stu-id="7f4f2-179">Input Simulation</span></span>](../../input-simulation/input-simulation-service.md)
- [<span data-ttu-id="7f4f2-180">Acompanhamento da Mão</span><span class="sxs-lookup"><span data-stu-id="7f4f2-180">Hand Tracking</span></span>](../../input/hand-tracking.md)
- [<span data-ttu-id="7f4f2-181">Foco</span><span class="sxs-lookup"><span data-stu-id="7f4f2-181">Gaze</span></span>](../../input/gaze.md)
