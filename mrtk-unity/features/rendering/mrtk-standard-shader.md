---
title: Sombreador padrão MRTK
description: Documentação do MRTKStandardShader
author: CDiaz-MS
ms.author: cadia
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, realidade misturada, desenvolvimento, MRTK, sombreador de material
ms.openlocfilehash: 8b570ebb023305cecbeca16b32832417a3f57cce
ms.sourcegitcommit: c0ba7d7bb57bb5dda65ee9019229b68c2ee7c267
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/19/2021
ms.locfileid: "110145112"
---
# <a name="mrtk-standard-shader"></a><span data-ttu-id="2a6bc-104">Sombreador padrão MRTK</span><span class="sxs-lookup"><span data-stu-id="2a6bc-104">MRTK Standard Shader</span></span>

![Exemplos de sombreador padrão](../images/mrtk-standard-shader/MRTK_StandardShader.jpg)

<span data-ttu-id="2a6bc-106">O sistema de sombreamento padrão MRTK utiliza um único sombreador flexível que pode obter visuais semelhantes ao sombreador padrão do Unity, implementar princípios de [sistema de design fluente](https://www.microsoft.com/design/fluent/) e manter o desempenho em dispositivos de realidade misturada.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-106">MRTK Standard shading system utilizes a single, flexible shader that can achieve visuals similar to Unity's Standard Shader, implement [Fluent Design System](https://www.microsoft.com/design/fluent/) principles, and remain performant on mixed reality devices.</span></span>

## <a name="example-scenes"></a><span data-ttu-id="2a6bc-107">Cenas de exemplo</span><span class="sxs-lookup"><span data-stu-id="2a6bc-107">Example scenes</span></span>

<span data-ttu-id="2a6bc-108">Você pode encontrar os exemplos de material do sombreador na cena **MaterialGallery** em `MRTK/Examples/Demos/StandardShader/Scenes/` .</span><span class="sxs-lookup"><span data-stu-id="2a6bc-108">You can find the shader material examples in the **MaterialGallery** scene under `MRTK/Examples/Demos/StandardShader/Scenes/`.</span></span> <span data-ttu-id="2a6bc-109">Todos os materiais nesta cena estão usando o sombreador MRTK/Standard.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-109">All materials in this scene are using the MRTK/Standard shader.</span></span>

![Galeria de materiais](../images/mrtk-standard-shader/MRTK_MaterialGallery.jpg)

<span data-ttu-id="2a6bc-111">Você pode encontrar uma cena de comparação para comparar e testar o sombreador MRTK/Standard em relação ao exemplo de sombreador Unity/Standard na cena **StandardMaterialComparison** em `MRTK/Examples/Demos/StandardShader/Scenes/` .</span><span class="sxs-lookup"><span data-stu-id="2a6bc-111">You can find a comparison scene to compare and test the MRTK/Standard shader against the Unity/Standard shader example in the **StandardMaterialComparison** scene under `MRTK/Examples/Demos/StandardShader/Scenes/`.</span></span>

![Comparação de materiais](../images/mrtk-standard-shader/MRTK_StandardMaterialComparison.gif)

## <a name="architecture"></a><span data-ttu-id="2a6bc-113">Arquitetura</span><span class="sxs-lookup"><span data-stu-id="2a6bc-113">Architecture</span></span>

<span data-ttu-id="2a6bc-114">O sistema de sombreamento MRTK/Standard é um "sombreador Uber" que usa o [recurso variante do programa de sombreador do Unity](https://docs.unity3d.com/Manual/SL-MultipleProgramVariants.html) para gerar automaticamente o código de sombreador ideal com base nas propriedades do material.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-114">The MRTK/Standard shading system is an "uber shader" that uses [Unity's shader program variant feature](https://docs.unity3d.com/Manual/SL-MultipleProgramVariants.html) to auto-generate optimal shader code based on material properties.</span></span> <span data-ttu-id="2a6bc-115">Quando um usuário seleciona propriedades de material no Inspetor de material, ele só incorre em custo de desempenho para os recursos que eles habilitaram.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-115">When a user selects material properties in the material inspector, they only incur performance cost for features they have enabled.</span></span>

## <a name="material-inspector"></a><span data-ttu-id="2a6bc-116">Inspetor de material</span><span class="sxs-lookup"><span data-stu-id="2a6bc-116">Material inspector</span></span>

<span data-ttu-id="2a6bc-117">Existe um inspetor de material personalizado para o sombreador MRTK/padrão chamado [`MixedRealityStandardShaderGUI.cs`](xref:Microsoft.MixedReality.Toolkit.Editor.MixedRealityStandardShaderGUI) .</span><span class="sxs-lookup"><span data-stu-id="2a6bc-117">A custom material inspector exists for the MRTK/Standard shader called [`MixedRealityStandardShaderGUI.cs`](xref:Microsoft.MixedReality.Toolkit.Editor.MixedRealityStandardShaderGUI).</span></span> <span data-ttu-id="2a6bc-118">O Inspetor Habilita/desabilita automaticamente os recursos do sombreador, com base na seleção do usuário e nos auxílios na configuração do estado de renderização.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-118">The inspector automatically enables/disables shader features, based on user selection and aides in setting up render state.</span></span> <span data-ttu-id="2a6bc-119">Para obter mais informações sobre cada recurso **, passe o mouse sobre cada propriedade no editor do Unity para obter uma dica de ferramenta.**</span><span class="sxs-lookup"><span data-stu-id="2a6bc-119">For more information about each feature **please hover over each property in the Unity Editor for a tooltip.**</span></span>

![Inspetor de material](../images/mrtk-standard-shader/MRTK_MaterialInspector.jpg)

<span data-ttu-id="2a6bc-121">A primeira parte do Inspetor controla o estado de renderização do material.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-121">The first portion of the inspector controls the material's render state.</span></span> <span data-ttu-id="2a6bc-122">O *modo de renderização* determina quando e como um material será renderizado.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-122">*Rendering Mode* determines when and how a material will be rendered.</span></span> <span data-ttu-id="2a6bc-123">O objetivo do sombreador MRTK/Standard é espelhar os [modos de renderização encontrados no sombreador do Unity/Standard](https://docs.unity3d.com/Manual/StandardShaderMaterialParameterRenderingMode.html).</span><span class="sxs-lookup"><span data-stu-id="2a6bc-123">The aim of the MRTK/Standard shader is to mirror the [rendering modes found in the Unity/Standard shader](https://docs.unity3d.com/Manual/StandardShaderMaterialParameterRenderingMode.html).</span></span> <span data-ttu-id="2a6bc-124">O sombreador MRTK/Standard também inclui um modo de renderização *aditivo* e modo de renderização *personalizado* para controle de usuário completo.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-124">The MRTK/Standard shader also includes an *Additive* rendering mode and *Custom* rendering mode for complete user control.</span></span>

| <span data-ttu-id="2a6bc-125">Modo de renderização</span><span class="sxs-lookup"><span data-stu-id="2a6bc-125">Rendering Mode</span></span> |         <span data-ttu-id="2a6bc-126">Descrição</span><span class="sxs-lookup"><span data-stu-id="2a6bc-126">Description</span></span>                                                       |
|----------------|---------------------------------------------------------------------------|
| <span data-ttu-id="2a6bc-127">Opaco</span><span class="sxs-lookup"><span data-stu-id="2a6bc-127">Opaque</span></span>         | <span data-ttu-id="2a6bc-128">(Padrão) Adequado para objetos sólidos normais sem áreas transparentes.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-128">(Default) Suitable for normal solid objects with no transparent areas.</span></span>    |
| <span data-ttu-id="2a6bc-129">Recorte</span><span class="sxs-lookup"><span data-stu-id="2a6bc-129">Cutout</span></span>         | <span data-ttu-id="2a6bc-130">Permite a criação de efeitos transparentes que têm bordas duras entre as áreas opacas e transparentes.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-130">Allows creation of transparent effects that have hard edges between the opaque and transparent areas.</span></span> <span data-ttu-id="2a6bc-131">Nesse modo, não há áreas semi transparentes, a textura é 100% opaca ou invisível.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-131">In this mode, there are no semi-transparent areas, the texture is either 100% opaque, or invisible.</span></span> <span data-ttu-id="2a6bc-132">Isso é útil ao usar a transparência para criar a forma de materiais, como reação.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-132">This is useful when using transparency to create the shape of materials, such as vegetation.</span></span> |
| <span data-ttu-id="2a6bc-133">Esmaecimento</span><span class="sxs-lookup"><span data-stu-id="2a6bc-133">Fade</span></span>           | <span data-ttu-id="2a6bc-134">Permite que os valores de transparência esmaeçam totalmente um objeto, incluindo quaisquer realças especular ou reflexões que ele possa ter.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-134">Allows the transparency values to entirely fade an object out, including any specular highlights or reflections it may have.</span></span> <span data-ttu-id="2a6bc-135">Esse modo será útil se você quiser animar um objeto esbotão dentro ou fora. Ele não é adequado para renderizar materiais transparentes realistas, como vidro ou vidro transparente, pois as reflexões e realces também serão esbotados.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-135">This mode is useful if you want to animate an object fading in or out. It is not suitable for rendering realistic transparent materials such as clear plastic or glass because the reflections and highlights will also be faded out.</span></span> |
| <span data-ttu-id="2a6bc-136">Transparente</span><span class="sxs-lookup"><span data-stu-id="2a6bc-136">Transparent</span></span>    | <span data-ttu-id="2a6bc-137">Adequado para renderizar materiais transparentes realistas, como vidro ou vidro transparente.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-137">Suitable for rendering realistic transparent materials such as clear plastic or glass.</span></span> <span data-ttu-id="2a6bc-138">Nesse modo, o material em si assumirá valores de transparência (com base no canal alfa da textura e no alfa da cor da tonalidade).</span><span class="sxs-lookup"><span data-stu-id="2a6bc-138">In this mode, the material itself will take on transparency values (based on the texture’s alpha channel and the alpha of the tint colour).</span></span> <span data-ttu-id="2a6bc-139">No entanto, as reflexões e realçamentos de iluminação permanecerão visíveis em total clareza, como é o caso com materiais transparentes reais.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-139">However, reflections and lighting highlights will remain visible at full clarity as is the case with real transparent materials.</span></span> |
| <span data-ttu-id="2a6bc-140">Aditiva</span><span class="sxs-lookup"><span data-stu-id="2a6bc-140">Additive</span></span>       | <span data-ttu-id="2a6bc-141">Habilita um modo de combinação aditiva, que soma a cor de pixel anterior com a cor de pixel atual.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-141">Enables an additive blending mode, which sums the previous pixel color with the current pixel color.</span></span> <span data-ttu-id="2a6bc-142">Esse é o modo de transparência preferencial para evitar problemas de classificação de transparência.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-142">This is the preferred transparency mode to avoid transparency sorting issues.</span></span>     |
| <span data-ttu-id="2a6bc-143">Personalizado</span><span class="sxs-lookup"><span data-stu-id="2a6bc-143">Custom</span></span>         | <span data-ttu-id="2a6bc-144">Permite que todos os aspectos do modo de renderização sejam controlados manualmente.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-144">Allows for every aspect of the rendering mode to be controlled manually.</span></span> <span data-ttu-id="2a6bc-145">Somente para uso avançado.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-145">For advanced usage only.</span></span>   |

![Renderizando modos](../images/mrtk-standard-shader/MRTK_RenderingModes.jpg)

| <span data-ttu-id="2a6bc-147">Modo de Ressução</span><span class="sxs-lookup"><span data-stu-id="2a6bc-147">Cull Mode</span></span> |             <span data-ttu-id="2a6bc-148">Descrição</span><span class="sxs-lookup"><span data-stu-id="2a6bc-148">Description</span></span>                                                                                                                                                                       |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="2a6bc-149">Desativado</span><span class="sxs-lookup"><span data-stu-id="2a6bc-149">Off</span></span>       | <span data-ttu-id="2a6bc-150">Desabilita a ressarção facial.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-150">Disables face culling.</span></span> <span data-ttu-id="2a6bc-151">O descarte só deve ser definido como Off quando uma malha de dois lados é necessária.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-151">Culling should only be set to Off when a two sided mesh is required.</span></span>                                                                                        |
| <span data-ttu-id="2a6bc-152">Front</span><span class="sxs-lookup"><span data-stu-id="2a6bc-152">Front</span></span>     | <span data-ttu-id="2a6bc-153">Habilita o corte de face frontal.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-153">Enables front face culling.</span></span>                                                                                                                                                        |
| <span data-ttu-id="2a6bc-154">Voltar</span><span class="sxs-lookup"><span data-stu-id="2a6bc-154">Back</span></span>      | <span data-ttu-id="2a6bc-155">(Padrão) Habilita [a ressarção facial.](https://en.wikipedia.org/wiki/Back-face_culling)</span><span class="sxs-lookup"><span data-stu-id="2a6bc-155">(Default) Enables [back face culling](https://en.wikipedia.org/wiki/Back-face_culling).</span></span> <span data-ttu-id="2a6bc-156">A remoção de face de fundo deve ser habilitada sempre que possível para melhorar o desempenho de renderização.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-156">Back face culling should be enabled as often as possible to improve rendering performance.</span></span> |

## <a name="performance"></a><span data-ttu-id="2a6bc-157">Desempenho</span><span class="sxs-lookup"><span data-stu-id="2a6bc-157">Performance</span></span>

<span data-ttu-id="2a6bc-158">Uma das principais vantagens de usar o sombreador Standard MRTK sobre o sombreador padrão do Unity é o desempenho.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-158">One of the primary advantages to using the MRTK Standard shader over the Unity standard shader is performance.</span></span> <span data-ttu-id="2a6bc-159">O sombreador padrão MRTK é extensível para utilizar apenas os recursos habilitados.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-159">The MRTK Standard Shader is extensible to only utilize the features enabled.</span></span> <span data-ttu-id="2a6bc-160">No entanto, o sombreador padrão MRTK também foi escrito para fornecer resultados estética comparáveis como o sombreador padrão do Unity, mas com um custo muito menor.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-160">However, the MRTK Standard shader has also been written to deliver comparable aesthetic results as the Unity Standard shader, but at a much lower cost.</span></span> <span data-ttu-id="2a6bc-161">Uma maneira simples de comparar o desempenho do sombreador é por meio do número de operações que precisam ser executadas na GPU.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-161">One simple way to compare shader performance is via the number of operations that needs to be performed on the GPU.</span></span> <span data-ttu-id="2a6bc-162">É claro que a magnitude dos cálculos pode flutuar por recursos habilitados e outras configurações de renderização.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-162">Of course, the magnitude of calculations may fluctuate by features enabled and other rendering configurations.</span></span> <span data-ttu-id="2a6bc-163">Mas, em geral, o sombreador padrão do MRTK executa significativamente menos cálculos do que o sombreador padrão do Unity.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-163">But, in general, the MRTK Standard shader performs significantly less computation than the Unity Standard shader.</span></span>

<span data-ttu-id="2a6bc-164">Exemplo de estatísticas do sombreador padrão do Unity</span><span class="sxs-lookup"><span data-stu-id="2a6bc-164">Unity Standard shader statistics example</span></span>

![Estatísticas do sombreador padrão do Unity](../images/performance/UnityStandardShader-Stats.PNG)

<span data-ttu-id="2a6bc-166">Exemplo de estatísticas de sombreador padrão MRTK</span><span class="sxs-lookup"><span data-stu-id="2a6bc-166">MRTK Standard shader statistics example</span></span>

![Estatísticas do sombreador padrão do MRTK](../images/performance/MRTKStandardShader-Stats.PNG)

> [!NOTE]
> <span data-ttu-id="2a6bc-168">Esses resultados podem ser gerados selecionando e exibindo um [ativo de sombreador](https://docs.unity3d.com/Manual/class-Shader.html) no Inspetor do Unity e, em seguida, clicando no botão *Compilar e mostrar código* .</span><span class="sxs-lookup"><span data-stu-id="2a6bc-168">These results can be generated by selecting and viewing a [shader asset](https://docs.unity3d.com/Manual/class-Shader.html) in the Unity inspector, then clicking the *Compile and show code* button.</span></span>

## <a name="lighting"></a><span data-ttu-id="2a6bc-169">Iluminação</span><span class="sxs-lookup"><span data-stu-id="2a6bc-169">Lighting</span></span>

<span data-ttu-id="2a6bc-170">O MRTK/Standard usa uma aproximação simples para iluminação.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-170">The MRTK/Standard uses a simple approximation for lighting.</span></span> <span data-ttu-id="2a6bc-171">Como esse sombreador não calcula a exatidão física e a conservação de energia, ele é renderizado de maneira rápida e eficiente.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-171">Because this shader does not calculate for physical correctness and energy conservation, it renders quickly and efficiently.</span></span> <span data-ttu-id="2a6bc-172">Blinn-Phong é a técnica de iluminação primária que é combinada com Fresnel e iluminação baseada em imagem para iluminação com base em um aproximado.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-172">Blinn-Phong is the primary lighting technique which is blended with Fresnel and image-based lighting to approximate physically-based lighting.</span></span> <span data-ttu-id="2a6bc-173">O sombreador dá suporte às seguintes técnicas de iluminação:</span><span class="sxs-lookup"><span data-stu-id="2a6bc-173">The shader supports the following lighting techniques:</span></span>

### <a name="directional-light"></a><span data-ttu-id="2a6bc-174">Luz direcional</span><span class="sxs-lookup"><span data-stu-id="2a6bc-174">Directional light</span></span>

<span data-ttu-id="2a6bc-175">O sombreador respeitará a direção, a cor e a intensidade da primeira luz direcional do Unity na cena (se habilitado).</span><span class="sxs-lookup"><span data-stu-id="2a6bc-175">The shader will respect the direction, color, and intensity of the first Unity Directional Light in the scene (if enabled).</span></span> <span data-ttu-id="2a6bc-176">Luzes de ponto dinâmico, luzes spot ou qualquer outra luz de Unity não serão consideradas em iluminação em tempo real.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-176">Dynamic point lights, spot lights, or any other Unity light will not be considered in real time lighting.</span></span>

### <a name="spherical-harmonics"></a><span data-ttu-id="2a6bc-177">Harmônicas esféricas</span><span class="sxs-lookup"><span data-stu-id="2a6bc-177">Spherical harmonics</span></span>

<span data-ttu-id="2a6bc-178">O sombreador usará investigações leves para luzes aproximadas na cena usando [harmônicas esféricas](https://docs.unity3d.com/Manual/LightProbes-TechnicalInformation.html), se habilitado.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-178">The shader will use Light Probes to approximate lights in the scene using [Spherical Harmonics](https://docs.unity3d.com/Manual/LightProbes-TechnicalInformation.html), if enabled.</span></span> <span data-ttu-id="2a6bc-179">Cálculos de harmônicos esféricos são executados por vértice para reduzir o custo de cálculo.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-179">Spherical harmonics calculations are performed per vertex to reduce calculation cost.</span></span>

### <a name="lightmapping"></a><span data-ttu-id="2a6bc-180">Lightmapping</span><span class="sxs-lookup"><span data-stu-id="2a6bc-180">Lightmapping</span></span>

<span data-ttu-id="2a6bc-181">Para iluminação estática, o sombreador respeitará os lightmaps construídos pelo sistema [lightmapping do Unity.](https://docs.unity3d.com/Manual/Lightmapping.html)</span><span class="sxs-lookup"><span data-stu-id="2a6bc-181">For static lighting, the shader will respect lightmaps built by Unity's [Lightmapping system](https://docs.unity3d.com/Manual/Lightmapping.html).</span></span> <span data-ttu-id="2a6bc-182">Basta marcar o renderador como estático (ou lightmap estático) para usar lightmaps.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-182">Simply mark the renderer as static (or lightmap static) to use lightmaps.</span></span>

### <a name="hover-light"></a><span data-ttu-id="2a6bc-183">Luz de foco</span><span class="sxs-lookup"><span data-stu-id="2a6bc-183">Hover light</span></span>

* <span data-ttu-id="2a6bc-184">Consulte [Luz de foco](hover-light.md)</span><span class="sxs-lookup"><span data-stu-id="2a6bc-184">See [Hover Light](hover-light.md)</span></span>

### <a name="proximity-light"></a><span data-ttu-id="2a6bc-185">Luz de proximidade</span><span class="sxs-lookup"><span data-stu-id="2a6bc-185">Proximity light</span></span>

* <span data-ttu-id="2a6bc-186">Consulte [Luz de proximidade](proximity-light.md)</span><span class="sxs-lookup"><span data-stu-id="2a6bc-186">See [Proximity Light](proximity-light.md)</span></span>

## <a name="lightweight-scriptable-render-pipeline-support"></a><span data-ttu-id="2a6bc-187">Suporte ao pipeline de renderização leve com script</span><span class="sxs-lookup"><span data-stu-id="2a6bc-187">Lightweight Scriptable Render Pipeline support</span></span>

<span data-ttu-id="2a6bc-188">O MRTK contém um caminho de atualização para permitir que os desenvolvedores utilizem o LWRP (Lightweight Scriptable Render Pipeline) do Unity com sombreadores do MRTK.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-188">The MRTK contains an upgrade path to allow developers to utilize Unity's Lightweight Scriptable Render Pipeline (LWRP) with MRTK shaders.</span></span> <span data-ttu-id="2a6bc-189">Testado no pacote Unity 2019.1.1f1 e Lightweight RP 5.7.2.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-189">Tested in Unity 2019.1.1f1 and Lightweight RP 5.7.2 package.</span></span> <span data-ttu-id="2a6bc-190">ou instruções sobre como começar a trabalhar com o LWRP, consulte [esta página](https://docs.unity3d.com/Packages/com.unity.render-pipelines.lightweight@5.10/manual/getting-started-with-lwrp.html).</span><span class="sxs-lookup"><span data-stu-id="2a6bc-190">or instructions on getting started with the LWRP, see [this page](https://docs.unity3d.com/Packages/com.unity.render-pipelines.lightweight@5.10/manual/getting-started-with-lwrp.html).</span></span>

<span data-ttu-id="2a6bc-191">Para executar a atualização do MRTK, selecione: Kit de Ferramentas de Realidade Misturada **-> Utilitários ->** Atualizar o Sombreador Padrão do MRTK para Pipeline de Renderização Leve</span><span class="sxs-lookup"><span data-stu-id="2a6bc-191">To perform the MRTK upgrade, select: **Mixed Reality Toolkit -> Utilities -> Upgrade MRTK Standard Shader for Lightweight Render Pipeline**</span></span>

![Atualização de lwrp](../images/mrtk-standard-shader/MRTK_LWRPUpgrade.jpg)

<span data-ttu-id="2a6bc-193">Depois que a atualização ocorrer, o sombreador MRTK/Standard será alterado e qualquer material de magenta (erro de sombreador) deverá ser corrigido.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-193">After the upgrade occurs, the MRTK/Standard shader will be altered and any magenta (shader error) materials should be fixed.</span></span> <span data-ttu-id="2a6bc-194">Para verificar se a atualização ocorreu com êxito, verifique o console para: **Ativos Atualizados/MixedRealityToolkit/StandardAssets/Shaders/MixedRealityStandard.shader** para uso com o Pipeline de Renderização Leve.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-194">To verify the upgrade successfully occurred, check the console for: **Upgraded Assets/MixedRealityToolkit/StandardAssets/Shaders/MixedRealityStandard.shader for use with the Lightweight Render Pipeline.**</span></span>

## <a name="ugui-support"></a><span data-ttu-id="2a6bc-195">Suporte à UGUI</span><span class="sxs-lookup"><span data-stu-id="2a6bc-195">UGUI support</span></span>

<span data-ttu-id="2a6bc-196">O sistema de sombreamento do MRTK Standard funciona com o sistema de interface do usuário [integrado do](https://docs.unity3d.com/Manual/UISystem.html)Unity.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-196">The MRTK Standard shading system works with Unity's built in [UI system](https://docs.unity3d.com/Manual/UISystem.html).</span></span> <span data-ttu-id="2a6bc-197">Em componentes de interface do usuário do Unity, unity_ObjectToWorld matriz de dados não é a matriz de transformação da transformação local em que o componente Gráfico reside, mas a de sua Tela pai.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-197">On Unity UI components, the unity_ObjectToWorld matrix is not the transformation matrix of the local transform the Graphic component lives on but that of its parent Canvas.</span></span> <span data-ttu-id="2a6bc-198">Muitos efeitos de sombreador MRTK/Standard exigem que a escala de objeto seja conhecida.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-198">Many MRTK/Standard shader effects require object scale to be known.</span></span> <span data-ttu-id="2a6bc-199">Para resolver esse problema, o [`ScaleMeshEffect.cs`](xref:Microsoft.MixedReality.Toolkit.Input.Utilities.ScaleMeshEffect) armazenará informações de dimensionamento em atributos de canal UV durante a construção da malha da interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-199">To solve this issue, the [`ScaleMeshEffect.cs`](xref:Microsoft.MixedReality.Toolkit.Input.Utilities.ScaleMeshEffect) will store scaling information into UV channel attributes during UI mesh construction.</span></span>

<span data-ttu-id="2a6bc-200">Observe que, ao usar um componente de imagem do Unity, é recomendável especificar "nenhum (Sprite)" para a imagem de origem para impedir que a interface do usuário do Unity gere vértices extras.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-200">Note, when using a Unity Image component, it is recommended to specify "None (Sprite)" for the Source Image to prevent Unity UI from generating extra vertices.</span></span>

<span data-ttu-id="2a6bc-201">Uma tela dentro do MRTK solicitará a adição de um [`ScaleMeshEffect.cs`](xref:Microsoft.MixedReality.Toolkit.Input.Utilities.ScaleMeshEffect) quando um for necessário:</span><span class="sxs-lookup"><span data-stu-id="2a6bc-201">A Canvas within the MRTK will prompt for the addition of a [`ScaleMeshEffect.cs`](xref:Microsoft.MixedReality.Toolkit.Input.Utilities.ScaleMeshEffect) when one is required:</span></span>

![escalar efeito de malha](../images/mrtk-standard-shader/MRTK_ScaleMeshEffect.jpg)

## <a name="texture-combiner"></a><span data-ttu-id="2a6bc-203">Combinador de textura</span><span class="sxs-lookup"><span data-stu-id="2a6bc-203">Texture combiner</span></span>

<span data-ttu-id="2a6bc-204">Para melhorar a paridade com o sombreador padrão do Unity por pixel, a suavidade, o emissiva e os valores de oclusão podem ser controlados por meio da [embalagem do canal](http://wiki.polycount.com/wiki/ChannelPacking).</span><span class="sxs-lookup"><span data-stu-id="2a6bc-204">To improve parity with the Unity Standard shader per pixel metallic, smoothness, emissive, and occlusion values can all be controlled via [channel packing](http://wiki.polycount.com/wiki/ChannelPacking).</span></span> <span data-ttu-id="2a6bc-205">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="2a6bc-205">For example:</span></span>

![exemplo de mapa de canal](../images/mrtk-standard-shader/MRTK_ChannelMap.gif)

<span data-ttu-id="2a6bc-207">Ao usar a embalagem de canal, você só precisa criar amostras e carregar uma textura na memória em vez de quatro separadas.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-207">When you use channel packing, you only have to sample and load one texture into memory instead of four separate ones.</span></span> <span data-ttu-id="2a6bc-208">Ao escrever seus mapas de textura em um programa como substância ou Photoshop, você pode agrupá-los como o seguinte:</span><span class="sxs-lookup"><span data-stu-id="2a6bc-208">When you write your texture maps in a program like Substance or Photoshop, you can hand pack them like the following:</span></span>

| <span data-ttu-id="2a6bc-209">Canal</span><span class="sxs-lookup"><span data-stu-id="2a6bc-209">Channel</span></span> | <span data-ttu-id="2a6bc-210">Propriedade</span><span class="sxs-lookup"><span data-stu-id="2a6bc-210">Property</span></span>             |
|---------|----------------------|
| <span data-ttu-id="2a6bc-211">Vermelho</span><span class="sxs-lookup"><span data-stu-id="2a6bc-211">Red</span></span>     | <span data-ttu-id="2a6bc-212">Metálico</span><span class="sxs-lookup"><span data-stu-id="2a6bc-212">Metallic</span></span>             |
| <span data-ttu-id="2a6bc-213">Verde</span><span class="sxs-lookup"><span data-stu-id="2a6bc-213">Green</span></span>   | <span data-ttu-id="2a6bc-214">Oclusão</span><span class="sxs-lookup"><span data-stu-id="2a6bc-214">Occlusion</span></span>            |
| <span data-ttu-id="2a6bc-215">Azul</span><span class="sxs-lookup"><span data-stu-id="2a6bc-215">Blue</span></span>    | <span data-ttu-id="2a6bc-216">Emissão (escala de cinza)</span><span class="sxs-lookup"><span data-stu-id="2a6bc-216">Emission (Greyscale)</span></span> |
| <span data-ttu-id="2a6bc-217">Alpha</span><span class="sxs-lookup"><span data-stu-id="2a6bc-217">Alpha</span></span>   | <span data-ttu-id="2a6bc-218">Suavidade</span><span class="sxs-lookup"><span data-stu-id="2a6bc-218">Smoothness</span></span>           |

<span data-ttu-id="2a6bc-219">Ou, você pode usar a ferramenta combinador de textura MRTK.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-219">Or, you can use the MRTK Texture Combiner Tool.</span></span> <span data-ttu-id="2a6bc-220">Para abrir a ferramenta, selecione: **Kit de ferramentas de realidade mista – utilitários de >-> combinador de textura** , que abrirá a janela abaixo:</span><span class="sxs-lookup"><span data-stu-id="2a6bc-220">To open the tool, select: **Mixed Reality Toolkit -> Utilities -> Texture Combiner** which will open the below window:</span></span>

![exemplo de combinador de textura](../images/mrtk-standard-shader/MRTK_TextureCombiner.jpg)

<span data-ttu-id="2a6bc-222">Essa janela pode ser preenchida automaticamente selecionando um sombreador padrão do Unity e clicando em "preenchimento automático do material padrão".</span><span class="sxs-lookup"><span data-stu-id="2a6bc-222">This window can be automatically filled out by selecting a Unity Standard shader and clicking "Autopopulate from Standard Material."</span></span> <span data-ttu-id="2a6bc-223">Ou, você pode especificar manualmente uma textura (ou valor constante) por canal vermelho, verde, azul ou alfa.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-223">Or, you can manually specify a texture (or constant value) per red, green, blue, or alpha channel.</span></span> <span data-ttu-id="2a6bc-224">A combinação de textura é acelerada por GPU e não requer que a textura de entrada esteja acessível pela CPU.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-224">The texture combination is GPU accelerated and does not require the input texture to be CPU accessible.</span></span>

## <a name="additional-feature-documentation"></a><span data-ttu-id="2a6bc-225">Documentação adicional do recurso</span><span class="sxs-lookup"><span data-stu-id="2a6bc-225">Additional feature documentation</span></span>

<span data-ttu-id="2a6bc-226">Abaixo estão detalhes adicionais sobre alguns detalhes de recursos disponíveis com o sombreador MRTK/padrão.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-226">Below are extra details on a handful of feature details available with the MRTK/Standard shader.</span></span>

### <a name="primitive-clipping"></a><span data-ttu-id="2a6bc-227">Recorte primitivo</span><span class="sxs-lookup"><span data-stu-id="2a6bc-227">Primitive clipping</span></span>

![recorte primitivo](../images/mrtk-standard-shader/MRTK_PrimitiveClipping.gif)

* <span data-ttu-id="2a6bc-229">Consulte [Primitivo de recorte](clipping-primitive.md)</span><span class="sxs-lookup"><span data-stu-id="2a6bc-229">See [Clipping Primitive](clipping-primitive.md)</span></span>

### <a name="mesh-outlines"></a><span data-ttu-id="2a6bc-230">Contornos de malha</span><span class="sxs-lookup"><span data-stu-id="2a6bc-230">Mesh outlines</span></span>

<span data-ttu-id="2a6bc-231">Muitas técnicas de contorno de malha são feitas usando uma [técnica de pós-processamento.](https://docs.unity3d.com/Manual/PostProcessingOverview.html)</span><span class="sxs-lookup"><span data-stu-id="2a6bc-231">Many mesh outline techniques are done using a [post processing](https://docs.unity3d.com/Manual/PostProcessingOverview.html) technique.</span></span> <span data-ttu-id="2a6bc-232">O pós-processamento fornece contornos de excelente qualidade, mas pode ser extremamente caro em muitos dispositivos de Realidade Misturada.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-232">Post processing provides great quality outlines, but can be prohibitively expensive on many Mixed Reality devices.</span></span> <span data-ttu-id="2a6bc-233">Você pode encontrar uma cena que demonstra o uso de contornos de malha na cena  **OutlineExamples** em `MRTK/Examples/Demos/StandardShader/Scenes/` .</span><span class="sxs-lookup"><span data-stu-id="2a6bc-233">You can find a scene that demonstrates usage of mesh outlines in the  **OutlineExamples** scene under `MRTK/Examples/Demos/StandardShader/Scenes/`.</span></span>

<img src="../images/mrtk-standard-shader/MRTK_MeshOutline.jpg" width="900" alt="Mesh Outline">

<span data-ttu-id="2a6bc-234">[`MeshOutline.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshOutline) e [`MeshOutlineHierarchy.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshOutlineHierarchy) podem ser usados para renderizar um contorno em torno de um renderador de malha.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-234">[`MeshOutline.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshOutline) and [`MeshOutlineHierarchy.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshOutlineHierarchy) can be used to render an outline around a mesh renderer.</span></span> <span data-ttu-id="2a6bc-235">A habilitação desse componente introduz uma passagem de renderização adicional do objeto que está sendo descrito, mas foi projetado para ser executado com bom desempenho em dispositivos móveis de Realidade Misturada e não utiliza nenhum processo de postagem.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-235">Enabling this component introduces an additional render pass of the object being outlined, but is designed to run performantly on mobile Mixed Reality devices and does not utilize any post processes.</span></span> <span data-ttu-id="2a6bc-236">As limitações desse efeito incluem que ele não funciona bem em objetos que não são waterpping (ou que precisam ser dois lados) e problemas de classificação de profundidade podem ocorrer em objetos sobrepostos.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-236">Limitations of this effect include it not working well on objects which are not watertight (or required to be two sided) and depth sorting issues can occur on overlapping objects.</span></span>

<span data-ttu-id="2a6bc-237">Os comportamentos de contorno são projetados para serem usados em conjunto com o sombreador MRTK/Standard.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-237">The outline behaviors are designed to be used in conjunction with the MRTK/Standard shader.</span></span> <span data-ttu-id="2a6bc-238">Os materiais de estrutura geralmente são uma cor clara sólida, mas podem ser configurados para obter uma ampla variedade de efeitos.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-238">Outline materials are usually a solid unlit color, but can be configured to achieve a wide array of effects.</span></span> <span data-ttu-id="2a6bc-239">A configuração padrão de um material de contorno é a seguinte:</span><span class="sxs-lookup"><span data-stu-id="2a6bc-239">The default configuration of a outline material is as follows:</span></span>

<img src="../images/mrtk-standard-shader/MRTK_OutlineMaterial.jpg" width="450" alt="Mesh Outline Material">

1. <span data-ttu-id="2a6bc-240">Gravação de profundidade – deve ser desabilitada para materiais de contorno para garantir que o contorno não impeça a renderização de outros objetos.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-240">Depth Write - should be disabled for outline materials to make sure the outline does not prevent other objects from rendering.</span></span>
2. <span data-ttu-id="2a6bc-241">Vértice– precisa ser habilitado para renderizar o contorno.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-241">Vertex Extrusion - needs to be enabled to render the outline.</span></span>
3. <span data-ttu-id="2a6bc-242">Usar Smooth Normals – essa configuração é opcional para algumas malhas.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-242">Use Smooth Normals - this setting is optional for some meshes.</span></span> <span data-ttu-id="2a6bc-243">Atrução ocorre movendo um vértice ao longo de um vértice normal, em algumas malhas extrudadas ao longo dos normais padrão causará descontinuidades no contorno.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-243">Extrusion occurs by moving a vertex along a vertex normal, on some meshes extruding along the default normals will cause discontinuities in the outline.</span></span> <span data-ttu-id="2a6bc-244">Para corrigir essas descontinuidades, marque esta caixa para usar outro conjunto de normais suavizadas que são geradas pelo [`MeshSmoother.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshSmoother)</span><span class="sxs-lookup"><span data-stu-id="2a6bc-244">To fix these discontinuities, you can check this box to use another set of smoothed normals which get generated by [`MeshSmoother.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshSmoother)</span></span>

<span data-ttu-id="2a6bc-245">[`MeshSmoother.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshSmoother) é um componente que pode ser usado para gerar automaticamente normais suavizados em uma malha.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-245">[`MeshSmoother.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshSmoother) is a component which can be used to automatically generate smoothed normals on a mesh.</span></span> <span data-ttu-id="2a6bc-246">Esse método grupos vértices em uma malha que compartilham o mesmo local no espaço e, em seguida, faz a média dos normais desses vértices.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-246">This method groups vertices in a mesh that share the same location in space then averages the normals of those vertices.</span></span> <span data-ttu-id="2a6bc-247">Esse processo cria uma cópia da malha subjacente e deve ser usado somente quando necessário.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-247">This process creates a copy of the underlying mesh and should be used only when required.</span></span>

<img src="../images/mrtk-standard-shader/MRTK_SmoothNormals.jpg" width="450" alt="Smooth Normals Outline">

1. <span data-ttu-id="2a6bc-248">Normalidades suaves geradas por meio de [`MeshSmoother.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshSmoother) .</span><span class="sxs-lookup"><span data-stu-id="2a6bc-248">Smooth normals generated via [`MeshSmoother.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshSmoother).</span></span>
2. <span data-ttu-id="2a6bc-249">Normais padrão usadas, observe os artefatos em volta dos cantos do cubo.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-249">Default normals used, notice the artifacts around the cube corners.</span></span>

### <a name="stencil-testing"></a><span data-ttu-id="2a6bc-250">Teste de estêncil</span><span class="sxs-lookup"><span data-stu-id="2a6bc-250">Stencil testing</span></span>

<span data-ttu-id="2a6bc-251">Suporte interno de teste de estêncil configurável para alcançar uma ampla gama de efeitos.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-251">Built in configurable stencil test support to achieve a wide array of effects.</span></span> <span data-ttu-id="2a6bc-252">Como portais:</span><span class="sxs-lookup"><span data-stu-id="2a6bc-252">Such as portals:</span></span>

![teste de estêncil](../images/mrtk-standard-shader/MRTK_StencilTest.gif)

### <a name="instanced-color-support"></a><span data-ttu-id="2a6bc-254">Suporte a cores em instância</span><span class="sxs-lookup"><span data-stu-id="2a6bc-254">Instanced color support</span></span>

<span data-ttu-id="2a6bc-255">O suporte a cores em instância para fornecer milhares de malhas de GPU com instâncias de material exclusivas:</span><span class="sxs-lookup"><span data-stu-id="2a6bc-255">Instanced color support to give thousands of GPU instanced meshes unique material properties:</span></span>

![Propriedades de instância](../images/mrtk-standard-shader/MRTK_InstancedProperties.gif)

### <a name="triplanar-mapping"></a><span data-ttu-id="2a6bc-257">Mapeamento de triplanar</span><span class="sxs-lookup"><span data-stu-id="2a6bc-257">Triplanar mapping</span></span>

<span data-ttu-id="2a6bc-258">O mapeamento de triplanar é uma técnica para textura programaticamente de uma malha.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-258">Triplanar mapping is a technique to programmatically texture a mesh.</span></span> <span data-ttu-id="2a6bc-259">Geralmente usado no terreno, malhas sem UVs ou difícil de desencapsular formas.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-259">Often used in terrain, meshes without UVs, or difficult to unwrap shapes.</span></span> <span data-ttu-id="2a6bc-260">Essa implementação dá suporte à projeção de espaço local ou mundial, a especificação de suavidade de mesclagem e suporte de mapa normal.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-260">This implementation supports world or local space projection, the specification of blending smoothness, and normal map support.</span></span> <span data-ttu-id="2a6bc-261">Observe que cada textura usada requer três amostras de textura, portanto, use situações de desempenho crítico.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-261">Note, each texture used requires 3 texture samples, so use sparingly in performance critical situations.</span></span>

![triplanar](../images/mrtk-standard-shader/MRTK_TriplanarMapping.gif)

### <a name="vertex-extrusion"></a><span data-ttu-id="2a6bc-263">Extrusão de vértice</span><span class="sxs-lookup"><span data-stu-id="2a6bc-263">Vertex extrusion</span></span>

<span data-ttu-id="2a6bc-264">Extrusão de vértice no espaço de mundo.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-264">Vertex extrusion in world space.</span></span> <span data-ttu-id="2a6bc-265">Útil para visualizar volumes de vinculação de extrusão ou transições de entrada/saída.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-265">Useful for visualizing extruded bounding volumes or transitions in/out meshes.</span></span>

![escala normal de mapa 1](../images/mrtk-standard-shader/MRTK_VertexExtrusion.gif)

### <a name="miscellaneous"></a><span data-ttu-id="2a6bc-267">Diversos</span><span class="sxs-lookup"><span data-stu-id="2a6bc-267">Miscellaneous</span></span>

<span data-ttu-id="2a6bc-268">Uma caixa de seleção para controlar otimizações de albedo.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-268">A checkbox to control albedo optimizations.</span></span> <span data-ttu-id="2a6bc-269">Como uma albedo de otimização, as operações são desabilitadas quando nenhuma textura albedo é especificada.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-269">As an optimization albedo operations are disabled when no albedo texture is specified.</span></span> <span data-ttu-id="2a6bc-270">Isso é útil para controlar o [carregamento de textura remota](http://dotnetbyexample.blogspot.com/2018/10/workaround-remote-texture-loading-does.html).</span><span class="sxs-lookup"><span data-stu-id="2a6bc-270">This is useful for controlling [remote texture loading](http://dotnetbyexample.blogspot.com/2018/10/workaround-remote-texture-loading-does.html).</span></span>

<span data-ttu-id="2a6bc-271">Basta marcar esta caixa:</span><span class="sxs-lookup"><span data-stu-id="2a6bc-271">Simply check this box:</span></span>

![atribuição de albedo](../images/mrtk-standard-shader/MRTK_AlbedoAssignment.jpg)

<span data-ttu-id="2a6bc-273">As texturas de recorte por pixel, a suavização baseada na borda local e o dimensionamento de mapa normal têm suporte.</span><span class="sxs-lookup"><span data-stu-id="2a6bc-273">Per pixel clipping textures, local edge based anti aliasing, and normal map scaling are supported.</span></span>

![escala normal de mapa 2](../images/mrtk-standard-shader/MRTK_NormalMapScale.gif)

## <a name="see-also"></a><span data-ttu-id="2a6bc-275">Confira também</span><span class="sxs-lookup"><span data-stu-id="2a6bc-275">See also</span></span>

* [<span data-ttu-id="2a6bc-276">Interativo</span><span class="sxs-lookup"><span data-stu-id="2a6bc-276">Interactable</span></span>](../ux-building-blocks/interactable.md)
* [<span data-ttu-id="2a6bc-277">Luz de foco</span><span class="sxs-lookup"><span data-stu-id="2a6bc-277">Hover Light</span></span>](hover-light.md)
* [<span data-ttu-id="2a6bc-278">Luz de proximidade</span><span class="sxs-lookup"><span data-stu-id="2a6bc-278">Proximity Light</span></span>](proximity-light.md)
* [<span data-ttu-id="2a6bc-279">Primitivo de recorte</span><span class="sxs-lookup"><span data-stu-id="2a6bc-279">Clipping Primitive</span></span>](clipping-primitive.md)
